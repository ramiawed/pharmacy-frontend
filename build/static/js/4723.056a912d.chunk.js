"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[4723],{553:function(n,e,t){t.d(e,{Z:function(){return w}});var o=t(885),r=t(2791),i=t(3168),c=t(9271),a=t(1221),s=t(1176),l=t(8820),d=t(4651),u=t(8785),h=t(6030),_=t(6201),p=t(3541),f=t(3994),x=t(6425),j=t(6481),m=t(6523),g=t(9942),v={partner_container:"partner-card_partner_container__VB59l",full_width:"partner-card_full_width__CUiS6",partner_logo:"partner-card_partner_logo__zh12g",partner_name:"partner-card_partner_name__jXB4j",from_top:"partner-card_from_top__OssbS",name:"partner-card_name__xgWNa"},Z=t(3585),C=t(3329);var w=function(n){var e,t=n.partner,w=n.fullWidth,y=(0,i.$)().t,N=(0,c.k6)(),O=(0,h.I0)(),k=(0,h.v9)(j.vi).settings.showWarehouseItem,b=(0,h.v9)(x.VY),L=(0,h.v9)(_.oT),E=(0,h.v9)(_.GI),A=(0,h.v9)(p.tT),R=A.token,S=A.user,W=(0,r.useState)(!1),I=(0,o.Z)(W,2),H=I[0],U=I[1],B=S.type===Z.Wl.ADMIN||t.type===Z.Wl.COMPANY||t.type===Z.Wl.WAREHOUSE&&k&&t.allowShowingMedicines;return(0,C.jsxs)("div",{className:[v.partner_container,w?v.full_width:""].join(" "),children:[(0,C.jsx)("p",{className:v.partner_name,children:t.name}),(null===(e=t.logo_url)||void 0===e?void 0:e.length)>0?(0,C.jsx)("img",{src:"".concat(Z.LB,"/profiles/").concat(t.logo_url),className:v.partner_logo,alt:"thumb"}):(0,C.jsx)("img",{src:a,className:v.partner_logo,alt:"thumb"}),(0,C.jsxs)("div",{className:v.from_top,children:[""===E?H?(0,C.jsx)("div",{className:[g.Z.icon,g.Z.fc_yellow].join(" "),children:(0,C.jsx)(d.H_P,{className:g.Z.loading,size:20})}):(0,C.jsx)("div",{className:[g.Z.icon,g.Z.fc_yellow].join(" "),children:L&&L.map((function(n){return n._id})).includes(t._id)?(0,C.jsx)(l.pHD,{size:24,onClick:function(){b?(U(!0),O((0,_.Ni)({obj:{favoriteId:t._id},token:R})).then(u.SI).then((function(){H(!1)})).catch((function(){return U(!1)}))):O((0,x.Rb)())}}):(0,C.jsx)(l.y5j,{size:24,onClick:function(){b?(U(!0),O((0,_.a3)({obj:{favoriteId:t._id},token:R})).then(u.SI).then((function(){U(!1),O((0,f.F$)({obj:{sourceUser:S._id,targetUser:t._id,action:"user-added-to-favorite"},token:R}))})).catch((function(){U(!1)}))):O((0,x.Rb)())}})}):null,(t.type===Z.Wl.COMPANY||t.type===Z.Wl.WAREHOUSE&&S.type!==Z.Wl.WAREHOUSE)&&(0,C.jsx)("div",{children:(0,C.jsx)(s.Z,{action:function(){t.type===Z.Wl.WAREHOUSE&&S.type===Z.Wl.WAREHOUSE||B&&(S.type!==Z.Wl.PHARMACY&&S.type!==Z.Wl.GUEST||O((0,f.F$)({obj:{sourceUser:S._id,targetUser:t._id,action:"choose-company"},token:R})),O((0,m.Pl)()),t.type===Z.Wl.COMPANY&&O((0,m.HN)(t.name)),t.type===Z.Wl.WAREHOUSE&&O((0,m.jY)(t.name)),N.push("/medicines"))},text:y("medicines"),bgColor:Z.wL.FAILED_COLOR})})]})]})}},6824:function(n,e,t){var o=t(885),r=t(2791),i=t(3168),c=t(4651),a=t(6349),s=t(9942),l=t(7500),d=t(3329);e.Z=function(n){var e=n.children,t=n.searchAction,u=(0,i.$)().t,h=r.Children.toArray(e),_=(0,r.useState)(!1),p=(0,o.Z)(_,2),f=p[0],x=p[1];return(0,d.jsx)("div",{className:[a.Z.search_container,a.Z.expanded,f?a.Z.expanded_with_options:""].join(" "),children:(0,d.jsx)("div",{className:a.Z.expanded_div,children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{style:{flex:1},children:[h[0],f&&h.length>1?h.map((function(n,e){return e>0?n:null})):null,f&&(0,d.jsx)("button",{onClick:function(){t(),x(!1)},style:{marginBlockStart:"4px",marginInline:"auto",width:"50%"},className:[s.Z.button,s.Z.bg_main,s.Z.fc_white,s.Z.block,s.Z.padding_v_6,s.Z.padding_h_8].join(" "),children:u("search")})]}),h.length>1&&(0,d.jsx)("div",{style:{marginInline:"4px"},children:(0,d.jsx)(l.Z,{onclick:function(){return x(!f)},icon:function(){return(0,d.jsx)(c.P66,{})}})}),1===h.length&&(0,d.jsx)("div",{className:[s.Z.icon,s.Z.margin_h_4].join(" "),onClick:function(){t(),x(!1)},children:(0,d.jsx)("button",{className:[s.Z.button,s.Z.bg_secondary,s.Z.fc_white,s.Z.block,s.Z.padding_v_6,s.Z.padding_h_8].join(" "),children:u("search")})})]})})})}},2235:function(n,e,t){t.d(e,{Z:function(){return s}});t(2791);var o=t(3168),r=t(8820),i="search-input_input_div__4KoDe",c="search-input_icon_close__TC1nF",a=t(3329);var s=function(n){var e=n.type,t=n.label,s=n.id,l=n.value,d=n.onchange,u=n.placeholder,h=n.onEnterPress,_=n.resetField,p=n.onkeyup,f=(0,o.$)().t;return(0,a.jsxs)("div",{className:i,children:[t&&(0,a.jsx)("label",{htmlFor:s,children:f(t)}),(0,a.jsx)("input",{placeholder:u?f("".concat(u)):"",id:s,type:e,value:l,onChange:d,onKeyPress:function(n){"Enter"===n.key&&h&&h()},onKeyUp:p&&p}),_&&l&&(0,a.jsx)(r.LHV,{onClick:function(){return _(s)},className:c})]})}},4723:function(n,e,t){t.r(e),t.d(e,{default:function(){return R}});var o=t(2791),r=t(3168),i=t(9271),c=t(1968),a=t.n(c),s=t(125),l=t(553),d=t(1176),u=t(9488),h=t(3575),_=t(6030),p=t(3502),f=t(6201),x=t(670),j=t(6824),m=t(2235),g=t(7500),v=t(7425),Z=t(8820),C=t(6355),w=t(4651),y=t(4373),N=t(9942),O=t(3585),k=t(3329);var b=function(n){var e=n.search,t=n.refreshHandler,o=(n.count,(0,r.$)().t),c=(0,i.k6)(),a=(0,_.I0)(),l=(0,_.v9)(p.lB),d=l.searchName,u=l.searchCity,h=l.displayType,b=l.showFavorites,L=(0,_.v9)(f.oT);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(j.Z,{searchAction:e,children:[(0,k.jsx)(m.Z,{label:"user-name",id:"search-name",type:"text",value:d,onchange:function(n){a((0,p.ut)(n.target.value))},placeholder:"search-by-company-name",onEnterPress:e,resetField:function(){return a((0,p.ut)(""))}}),(0,k.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",backgroundColor:O.wL.WHITE_COLOR,borderRadius:"6px"},children:(0,k.jsx)(x.Z,{onSelectionChange:function(n){a((0,p.TH)(n))},defaultValue:{value:u,label:o(u.toLowerCase())},caption:"user-city"})})]})}),(0,k.jsxs)("div",{className:[N.Z.actions,N.Z.margin_v_4].join(" "),children:[(0,k.jsx)(g.Z,{withBackground:!0,selected:!1,foreColor:O.wL.MAIN_COLOR,tooltip:o("refresh-tooltip"),onclick:function(){t(),a((0,p.bV)(!1))},icon:function(){return(0,k.jsx)(v.PwW,{})}}),(d.length>0||u!==O.zx.ALL)&&(0,k.jsx)(g.Z,{withBackground:!0,selected:!1,foreColor:O.wL.MAIN_COLOR,tooltip:o("clear-filter-tooltip"),onclick:function(){a((0,p.Fq)()),t(),a((0,p.bV)(!1))},icon:function(){return(0,k.jsx)(w.jTJ,{})}}),(0,k.jsxs)("div",{className:N.Z.relative,children:[(0,k.jsx)(g.Z,{withBackground:!0,foreColor:b?O.wL.SUCCEEDED_COLOR:O.wL.MAIN_COLOR,tooltip:o("show-favorite-tooltip"),onclick:function(){return a((0,p.bV)(!b))},icon:function(){return(0,k.jsx)(Z.pHD,{})}}),b&&(0,k.jsx)("div",{className:[N.Z.favorites_content,N.Z.bg_white].join(" "),children:b&&L&&L.filter((function(n){return n.type===O.Wl.COMPANY})).map((function(n){return(0,k.jsx)(s.Z,{partner:n,withoutBoxShadow:!0},n._id)}))})]}),(0,k.jsx)(g.Z,{withBackground:!0,foreColor:"card"===h?O.wL.SUCCEEDED_COLOR:O.wL.MAIN_COLOR,tooltip:o("show-item-as-card-tooltip"),onclick:function(){a((0,p.m1)("card")),a((0,p.bV)(!1))},icon:function(){return(0,k.jsx)(Z.sF$,{})}}),(0,k.jsx)(g.Z,{withBackground:!0,foreColor:"list"===h?O.wL.SUCCEEDED_COLOR:O.wL.MAIN_COLOR,tooltip:o("show-item-as-row-tooltip"),onclick:function(){a((0,p.m1)("list")),a((0,p.bV)(!1))},icon:function(){return(0,k.jsx)(C.hON,{})}}),(0,k.jsx)(g.Z,{withBackground:!0,tooltip:o("go-back"),onclick:function(){c.goBack()},icon:function(){return(0,k.jsx)(y.D_,{})},foreColor:O.wL.MAIN_COLOR})]})]})},L=t(8785),E=t(3541),A=t(6425);var R=function(n){var e=n.onSelectedChange,t=(0,r.$)().t,c=(0,_.I0)(),x=(0,_.v9)(E.tT),j=x.token,m=x.user,g=(0,_.v9)(p.zY),v=g.companies,Z=g.count,C=g.status,w=g.error,y=(0,_.v9)(p.lB),R=y.searchName,S=y.searchCity,W=(0,_.v9)(p.lB),I=W.displayType,H=W.page,U=(0,_.v9)(A.VY),B=function(n){c((0,p.bV)(!1)),c((0,p.ap)({token:j})).then(L.SI).then((function(){c((0,p.oO)(n+1))}))};return(0,o.useEffect)((function(){return 0===v.length&&B(1),window.scrollTo(0,0),e(),function(){(0,p.iX)()}}),[]),m?(0,k.jsxs)("div",{className:N.Z.container,children:[(0,k.jsx)(b,{search:function(){c((0,p.E5)()),c((0,p.oO)(1)),B(1)},refreshHandler:function(){c((0,f.iF)()),c((0,f._l)({token:j})),c((0,p.E5)()),c((0,p.oO)(1)),B(1)},count:Z}),Z>0&&(0,k.jsxs)("div",{className:N.Z.count,children:[(0,k.jsx)("span",{className:N.Z.label,children:t("companies-count")}),(0,k.jsx)("span",{className:N.Z.count,children:Z})]}),"list"===I&&v.map((function(n){return(0,k.jsx)(s.Z,{partner:n},n._id)})),"card"===I&&(0,k.jsx)("div",{className:[N.Z.flex_container,N.Z.margin_top_10].join(" "),children:v.map((function(n){return(0,k.jsx)(l.Z,{partner:n},n._id)}))}),Z>0&&"loading"!==C&&(0,k.jsxs)("div",{className:N.Z.count,children:[v.length," / ",Z]}),0===v.length&&"loading"!==C&&0===R.length&&S===O.zx.ALL&&(0,k.jsx)(h.Z,{msg:t("no-companies")}),0===v.length&&"loading"!==C&&(0!==R.length||S!==O.zx.ALL)&&(0,k.jsx)(h.Z,{msg:t("no-result-found")}),"loading"===C&&(0,k.jsx)("div",{className:N.Z.flex_container,children:(0,k.jsx)(a(),{color:O.wL.SECONDARY_COLOR,type:"cylon"})}),v.length<Z&&(0,k.jsx)(d.Z,{text:t("more"),action:function(){U?B(H):c((0,A.Rb)())},bgColor:O.wL.SECONDARY_COLOR}),v.length===Z&&"loading"!==C&&0!==Z&&(0,k.jsx)("p",{className:[N.Z.center,N.Z.fc_secondary].join(" "),children:t("no-more")}),w&&(0,k.jsx)(u.Z,{bgColor:O.wL.FAILED_COLOR,foreColor:"#fff",actionAfterTimeout:function(){c((0,p.PU)())},children:t(w)})]}):(0,k.jsx)(i.l_,{to:"/signin"})}},6349:function(n,e){e.Z={search_container:"search-container_search_container__6isGM",expanded:"search-container_expanded__79n+k",expanded_div:"search-container_expanded_div__Hmmm1",checkbox_div:"search-container_checkbox_div__RPj5T"}}}]);
//# sourceMappingURL=4723.056a912d.chunk.js.map