"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[5080],{5648:function(n,i,o){o.d(i,{Z:function(){return g}});var e=o(885),t=o(2791),c=o(9271),a=o(3168),s=o(8785),r=o(6030),l=o(1896),d=o(3541),_=o(8236),f=o(7207),u=o(7425),h=o(7692),m=o(6355),w={small_font:"notification-row_small_font__Op6-U",row_container:"notification-row_row_container__H9osv",inner_container:"notification-row_inner_container__mY+Cj",img:"notification-row_img__3B3IG",image:"notification-row_image__ziJsf",actions:"notification-row_actions__xTxlf",delete:"notification-row_delete__Xs7yf",unread:"notification-row_unread__wOU2r",row:"notification-row_row__pwMuM",body:"notification-row_body__FQWd+",header:"notification-row_header__yfsGP",unread_icon:"notification-row_unread_icon__-5kw9"},x=o(3585),j=o(3329);var g=function(n){var i=n.notification,o=n.index,g=n.setSuccessDeletingMsg,k=(0,a.$)().t,p=(0,c.k6)(),v=(0,r.I0)(),y=(0,r.v9)(d.tT),N=y.token,b=y.user,L=(0,t.useState)(!1),I=(0,e.Z)(L,2),M=I[0],C=I[1];return(0,j.jsxs)("div",{className:[w.row_container].join(" "),style:{animationDuration:.3*o/10+"s"},children:[(0,j.jsx)("div",{className:w.img,children:""!==i.logo_url?(0,j.jsx)("img",{className:w.image,src:"".concat(x.LB,"/notifications/").concat(i.logo_url),alt:"thumb"}):(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(h.ntj,{size:64,color:x.wL.LIGHT_COLOR})})}),(0,j.jsxs)("div",{className:w.inner_container,onClick:function(){b.type===x.Wl.ADMIN||i.users.includes(b._id)||(v((0,_.kE)({token:N,notificationId:i._id})),v((0,_.D2)())),p.push("/notification/".concat(i._id))},children:[(0,j.jsx)("div",{className:w.row,children:(0,j.jsx)("p",{className:w.header,children:i.header})}),(0,j.jsx)("div",{className:w.row,children:(0,j.jsx)("p",{className:w.body,children:i.body})}),!i.users.includes(b._id)&&b.type!==x.Wl.ADMIN&&(0,j.jsx)("div",{className:w.unread_icon,children:(0,j.jsx)(m.VF9,{})})]}),b.type===x.Wl.ADMIN&&(0,j.jsx)("div",{className:w.delete,onClick:function(){C(!0)},children:(0,j.jsx)(u.w6k,{size:24})}),M&&(0,j.jsx)(f.Z,{header:"delete notification",cancelLabel:"close",okLabel:"ok",closeModal:function(){C(!1)},small:!0,okModal:function(){C(!1),v((0,l.no)({id:i._id,token:N})).then(s.SI).then((function(){g("delete notification msg")}))},color:x.wL.FAILED_COLOR,children:(0,j.jsx)("p",{children:k("delete notification confirm msg")})})]})}},5830:function(n,i,o){o.r(i);var e=o(2791),t=o(1968),c=o.n(t),a=o(3229),s=o(1650),r=o(5648),l=o(9761),d=o(1176),_=o(6030),f=o(3541),u=o(6425),h=o(3168),m=o(1061),w=o(8236),x=o(3585),j=o(3329);i.default=function(n){var i=n.onSelectedChange,o=(0,h.$)().t,t=(0,_.I0)(),g=(0,_.v9)(f.rK),k=(0,_.v9)(u.VY),p=(0,_.v9)(w.pV),v=p.status,y=p.page,N=p.count,b=p.userNotifications,L=p.refresh,I=p.forceRefresh,M=function(n){k?(1===n&&t((0,w.MK)()),t((0,w.YA)(n)),t((0,w.kW)({token:g}))):t((0,u.Rb)())};return(0,e.useEffect)((function(){window.scrollTo(0,0),i(),(L||I)&&M(1)}),[L,I]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(m.Z,{title:"nav notifications",refreshHandler:function(){t((0,w.n9)(!0)),t((0,w.MJ)({token:g}))}}),(0,j.jsxs)(a.Z,{children:[b.map((function(n,i){return(0,j.jsx)(r.Z,{notification:n,index:i},n._id)})),0===b.length&&"loading"!==v&&(0,j.jsx)(l.Z,{msg:o("no-notifications")}),"loading"===v&&(0,j.jsx)(s.Z,{children:(0,j.jsx)(c(),{color:x.wL.LIGHT_COLOR,type:"cylon"})}),b.length<N&&(0,j.jsx)(d.Z,{text:o("more"),action:function(){k?M(y+1):t((0,u.Rb)())},classStyle:"bg_light"}),b.length===N&&"loading"!==v&&0!==N&&(0,j.jsx)("p",{className:["center","fc_light"].join(" "),children:o("no-more")})]})]})}}}]);
//# sourceMappingURL=5080.a38a864e.chunk.js.map