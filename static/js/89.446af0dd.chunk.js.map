{"version":3,"file":"static/js/89.446af0dd.chunk.js","mappings":"2QACA,EAAiF,iCAAjF,EAA0H,iCAA1H,EAAyK,uCAAzK,EAAmO,4CAAnO,EAAuR,iC,UCgCjRA,EAAgB,SAAhBA,EAAiBC,EAAmBC,GAExC,GAAID,EAAkBE,MAAMC,OAAOC,OAAS,EAE1C,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAkBE,MAAMC,OAAOC,OAAQC,IAEzD,GAAIJ,GAAOD,EAAkBE,MAAMC,OAAOE,GAAGJ,IAM3C,OAAID,EAAkBE,MAAMI,OAASC,EAAAA,GAAAA,WAC5BP,EAAkBE,MAAMC,OAAOE,GAAGG,MAGvCR,EAAkBE,MAAMC,OAAOE,GAAGG,MAClCT,EACEC,EACAC,EAAMD,EAAkBE,MAAMC,OAAOE,GAAGJ,KAQpD,OAAO,GA8JT,MA3JA,YAA+D,IAArCQ,EAAoC,EAApCA,KAAMC,EAA8B,EAA9BA,MAAOC,EAAuB,EAAvBA,oBAC7BC,GAAMC,EAAAA,EAAAA,KAAND,EACFE,GAAWC,EAAAA,EAAAA,MAGjB,GAAwBC,EAAAA,EAAAA,IAAYC,EAAAA,IAA5BC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,KACTC,GAAWJ,EAAAA,EAAAA,IAAYK,EAAAA,IAKvBC,EAAuBb,EAAKc,WAC/BC,QAAO,SAACC,GAAD,OAAOA,EAAEC,UAAUC,OAASR,EAAKQ,QACxCC,KAAI,SAACH,GACJ,IAAMI,EAAWJ,EAAEvB,MAAMC,OAAOC,OAAS,EAAI,IAAM,GAEnD,MAAO,CACL0B,MAAM,GAAD,OAAKL,EAAEC,UAAUK,KAAjB,YAAyBF,GAC9BG,MAAOP,EAAEC,UAAUO,QAKzB,GAAkDC,EAAAA,EAAAA,UAChDzB,EAAKc,WAAWC,QAAO,SAACC,GAAD,OAAOA,EAAEC,UAAUC,OAASR,EAAKQ,QAAM,IADhE,eAAO3B,EAAP,KAA0BmC,EAA1B,KAIA,GAA0BD,EAAAA,EAAAA,UACxBzB,EAAKc,WAAWC,QAAO,SAACC,GAAD,OAAOA,EAAEC,UAAUC,OAASR,EAAKQ,QAAM,GAAGzB,OADnE,eAAOA,EAAP,KAAckC,EAAd,KAGA,GAAsBF,EAAAA,EAAAA,YAAtB,eAAOjC,EAAP,KAAYoC,EAAZ,KACA,GAAgCH,EAAAA,EAAAA,WAAS,GAAzC,eAAOI,EAAP,KAAiBC,EAAjB,KAgDA,OACE,+BACE,UAAC,IAAD,CACEC,OAAO,cACPC,YAAY,eACZC,QAAQ,YACRC,WAAYjC,EACZkC,QAtCsB,WAC1B,GAAY,KAAR3C,EAKJ,GAAiC,IAA7BD,EAAkB6C,QAAgB5C,EAAMD,EAAkB6C,OAC5DN,GAAY,OADd,CAKA,IAAMO,EAAW/C,EAAcC,EAAmBC,GAElDa,GACEiC,EAAAA,EAAAA,IAAc,CACZtC,KAAMA,EACNiB,UAAW1B,EACXC,IAAKA,EACLO,MAAOsC,EAAW,EAAIA,EAAW,KACjCE,UAAWF,EAAW,EAAI9C,EAAkBE,MAAMI,KAAO,QAIzDc,GACFN,GAASmC,EAAAA,EAAAA,IAA0B,CAAEC,IAAK,CAAEC,OAAQ1C,EAAKwB,KAAOf,MAAAA,KAGlER,IACAC,EAAoB,yBA1BlB4B,GAAY,IAqCVa,OAAO,EANT,WASE,iBAAKC,UAAWC,EAAhB,WACE,2BAAQ1C,EAAE,qBACV,SAAC,IAAD,CACE2C,QAASC,EAAAA,GAAAA,gBACTC,UAAU,OACVC,QAASpC,EACTqC,SA/DoB,SAACC,GAC7BzB,EAAqB1B,EAAKc,WAAWsC,MAAK,SAACpC,GAAD,OAAOA,EAAEC,UAAUO,KAAO2B,MACpExB,EAAS3B,EAAKc,WAAWsC,MAAK,SAACpC,GAAD,OAAOA,EAAEC,UAAUO,KAAO2B,KAAK1D,QA8DrD4D,cAAexC,EAAqB,SAKxC,iBAAK+B,UAAWC,EAAhB,WACE,2BAAQ1C,EAAE,mBACV,uBACgC,IAA7BZ,EAAkB6C,OACfjC,EAAE,gBACFZ,EAAkB6C,aAG1B,iBAAKQ,UAAWC,EAAhB,WACE,2BAAQ1C,EAAE,mBACV,kBACEyC,UAAWf,EAAWgB,EAAe,GAGrCtB,MAAO/B,EACP8D,WAAYC,EAAAA,GACZC,SA5Ea,SAACC,GACtB,IAAMlC,EAAQmC,OAAOC,UAASC,EAAAA,EAAAA,IAAgBH,EAAEI,OAAOtC,QACvDK,EAAOkC,MAAMvC,GAAS,GAAKA,GAC3BO,GAAY,UA8EF,OAALrC,QAAK,IAALA,OAAA,EAAAA,EAAOC,OAAOC,QAAS,GACtBF,EAAMC,OAAOyB,KAAI,SAAC4C,EAAGC,GAAJ,OACf,iBAAKpB,UAAWC,EAAhB,WACE,0BACE,2BAAQ1C,EAAE,qBACV,kBAAOyC,UAAWC,EAAcoB,MAAO,CAAEC,QAAS,SAAlD,SACGH,EAAEvE,OAEL,kBAAOyE,MAAO,CAAEE,YAAa,QAA7B,SACGhE,EAAE,8BAGP,0BACE,2BACGV,EAAMI,OAASC,EAAAA,GAAAA,OACZK,EAAE,wBACFA,EAAE,6BAER,kBAAOyC,UAAWC,EAAlB,SAAiCkB,EAAEhE,SACnC,2BACGN,EAAMI,OAASC,EAAAA,GAAAA,OACZK,EAAE,8BACFA,EAAE,uCApBuB6D,a,sFC3L/C,GAAgB,KAAO,wBAAwB,OAAS,0BAA0B,QAAU,4B,UC4C5F,MA9BA,YAAoD,IAAhCI,EAA+B,EAA/BA,YAAaC,EAAkB,EAAlBA,SAAUC,EAAQ,EAARA,KACzC,GAAgC7C,EAAAA,EAAAA,WAAS,GAAzC,eAAO8C,EAAP,KAAiBC,EAAjB,KAEA,OACE,iBACE5B,UAAW,CAACC,EAAAA,KAAsB,YAATyB,EAAqBzB,EAAAA,QAAiB,MAAM4B,KACnE,KAFJ,WAKE,iBACEC,QAAS,kBAAMF,GAAaD,IAC5B3B,UAAW,CACTC,EAAAA,OACS,YAATyB,EAAqBzB,EAAAA,QAAiB,MACtC4B,KAAK,KALT,WAOE,uBAAIL,KACJ,kBACExB,UAAWC,EAAAA,aACXoB,MAAO,GACPS,QAAS,kBAAMF,GAAaD,IAH9B,SAKGA,GAAW,SAAC,MAAD,KAAwB,SAAC,MAAD,SAGvCA,IAAY,yBAAMF,S,yGCqDzB,IAnFA,YAA6D,IAAnCC,EAAkC,EAAlCA,KAAMtE,EAA4B,EAA5BA,KAAM2E,EAAsB,EAAtBA,SAAUzB,EAAY,EAAZA,SACtC/C,GAAMC,EAAAA,EAAAA,KAAND,EACFE,GAAWC,EAAAA,EAAAA,MAEXsE,EAAeC,EAAAA,OAAa,MAElC,GAAwBtE,EAAAA,EAAAA,IAAYC,EAAAA,IAA5BC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,KA+Cf,OACE,iCACE,0BACE,mBACEkC,UAAW,CACTkC,EAAAA,EAAAA,OACAA,EAAAA,EAAAA,aACAA,EAAAA,EAAAA,SACAA,EAAAA,EAAAA,aACAA,EAAAA,EAAAA,aACAL,KAAK,KACPC,QAxDY,WAClBE,EAAaG,QAAQC,SAwDfC,SAAUN,EATZ,SAWGxE,EAAE,oBAIP,kBACE+E,UAAU,EACVC,OAAO,UACPC,IAAKR,EACLN,KAAK,OACLd,SAhEmB,SAAC6B,GACxB,IAAMC,EAAeD,EAAMxB,OAAO0B,MAAM,GACxC,GAAID,EAAc,CAChB,IAAME,EAAO,IAAIC,SAiBjB,GAhBa,YAATnB,EACFkB,EAAKE,OACH,OADF,UAEKhF,EAAKiF,UAFV,OAEqBC,KAAKC,MAF1B,YAEmCP,EAAahE,KAAKwE,MAAM,KAAKC,QAGhEP,EAAKE,OACH,OADF,UAEK1F,EAAKsB,KAAK0E,QAAQ,IAAK,KAF5B,OAEkCJ,KAAKC,MAFvC,YAEgDP,EAAahE,KACxDwE,MAAM,KACNC,QAIPP,EAAKE,OAAO,OAAQJ,GAEP,YAAThB,EACFjE,GAAS4F,EAAAA,EAAAA,IAAW,CAAET,KAAAA,EAAM/E,MAAAA,KACzByF,KAAKC,EAAAA,IACLD,MAAK,WACAhD,GACFA,WAGD,CACL,IAAQ1B,EAAQxB,EAARwB,IACRnB,GAAS+F,EAAAA,EAAAA,IAAe,CAAEZ,KAAAA,EAAMhE,IAAAA,EAAKf,MAAAA,KAClCyF,KAAKC,EAAAA,IACLD,MAAK,WACAhD,GACFA,UA+BNe,MAAO,CAAEoC,QAAS,e,0LCtF1B,EAA4B,+BAA5B,EAAiE,yBAAjE,EAAmG,4BAAnG,EAAoL,+B,oBCqGpL,MA1FA,YAWI,IAVFC,EAUC,EAVDA,WACAC,EASC,EATDA,cACAC,EAQC,EARDA,OACAC,EAOC,EAPDA,cACAC,EAMC,EANDA,YACAC,EAKC,EALDA,cACAC,EAIC,EAJDA,WACAC,EAGC,EAHDA,mBACAC,EAEC,EAFDA,gBACAC,EACC,EADDA,UAEQ5G,GAAMC,EAAAA,EAAAA,KAAND,EAER,OACE,iCACE,gBAAKyC,UAAWC,EAAhB,SACGkE,IACC,iBACEnE,UAAW,CACTkC,EAAAA,EAAAA,KACAA,EAAAA,EAAAA,SACAA,EAAAA,EAAAA,eACAL,KAAK,KALT,WAOE,SAAC,MAAD,CAAauC,KAAM,GAAItC,QAAS4B,KAChC,gBAAK1D,UAAWkC,EAAAA,EAAAA,QAAhB,SACG3E,EAAE,6BAKX,gBAAKyC,UAAWC,EAAhB,SACG2D,EAAOrF,KAAI,SAACI,GAAD,OACV,iBAAKqB,UAAWC,EAAhB,WAEE,iBAAKD,UAAWC,EAAhB,UACG8D,IAAiB,2BAAQA,KAC1B,kBAEEM,GAAI1F,EAAM2F,IACVC,MAAM,MACN5F,MAAOA,EAAMA,MAAM/B,IACnBgE,SAAU,SAACC,GAAD,OAAOgD,EAAchD,IAC/BiD,YAAaA,EACbpD,WAAYC,EAAAA,GAEZ0B,UAAW8B,IAEZF,IAAsB,2BAAQA,QAIjC,iBAAKjE,UAAWC,EAAhB,UACG+D,IAAc,2BAAQA,KAEvB,kBAEEK,GAAI1F,EAAM2F,IACVC,MAAM,QACN5F,MAAOA,EAAMA,MAAMxB,MACnByD,SAAU,SAACC,GAAD,OAAOgD,EAAchD,IAC/BiD,YAAaA,EAEbzB,UAAW8B,IAGZD,IAAmB,2BAAQA,MAdSvF,EAAM2F,KAiB5CH,IACC,iBACEnE,UAAW,CAACkC,EAAAA,EAAAA,KAAoBA,EAAAA,EAAAA,QAAsBL,KAAK,KAD7D,WAGE,SAAC,MAAD,CACEuC,KAAM,GACNtC,QAAS,kBAAM6B,EAAchF,EAAM2F,SAErC,gBAAKtE,UAAWkC,EAAAA,EAAAA,QAAhB,SACG3E,EAAE,+BA7CsBoB,EAAM2F,cC7CjD,EAA+E,qCAA/E,EAA0I,0C,UCsN1I,MAhMA,YAOI,IAAD,EANDlH,EAMC,EANDA,KACAoH,EAKC,EALDA,YACAnH,EAIC,EAJDA,MACAQ,EAGC,EAHDA,MACAsG,EAEC,EAFDA,UACAM,EACC,EADDA,iBAEQlH,GAAMC,EAAAA,EAAAA,KAAND,EACFE,GAAWC,EAAAA,EAAAA,MAETb,EAAUO,EAAKc,WAAWsC,MAChC,SAACpC,GAAD,OAAOA,EAAEC,UAAUO,MAAQ4F,KADrB3H,MAIR,GAA4CgC,EAAAA,EAAAA,WAAS,GAArD,eAAO6F,EAAP,KAAuBC,EAAvB,KACA,GAAkD9F,EAAAA,EAAAA,UAChDhC,EAAMI,OAASC,EAAAA,GAAAA,QADjB,eAAO0H,EAAP,KAA0BC,EAA1B,KAIA,GAAsDhG,EAAAA,EAAAA,UACpDhC,EAAMI,OAASC,EAAAA,GAAAA,YADjB,eAAO4H,EAAP,KAA4BC,EAA5B,KAIA,GAA4BlG,EAAAA,EAAAA,WAC1B,UAAAhC,EAAMC,cAAN,eAAcC,QAAS,EACnBF,EAAMC,OAAOyB,KAAI,SAAC4C,GAChB,MAAO,CAAExC,MAAO,CAAE/B,IAAKuE,EAAEvE,IAAKO,MAAOgE,EAAEhE,OAASmH,IAAKnD,EAAEvC,QAEzD,IALN,eAAOgF,EAAP,KAAeoB,EAAf,KA8EA,OACE,UAAC,IAAD,CACE7F,OAAO,aACPC,YAAY,cACZC,QAAQ,YACRC,WAAYjC,EACZkC,QACE4E,EACI,YAnDa,WACrB,GAAKS,GAAsBE,EAA3B,CAKA,IAAMhI,EAAS8G,EACZzF,QAAO,SAAC8G,GAAD,OAAyB,IAAlBA,EAAEtG,MAAMxB,OAAe8H,EAAEtG,MAAM/B,OAC7CsI,MAAK,SAACC,EAAGC,GACR,OAAID,EAAExG,MAAM/B,IAAMwI,EAAEzG,MAAM/B,KAAa,EACnCuI,EAAExG,MAAM/B,IAAMwI,EAAEzG,MAAM/B,IAAY,EAC/B,KAER2B,KAAI,SAAC0G,GACJ,MAAO,CAAErI,IAAKqI,EAAEtG,MAAM/B,IAAKO,MAAO8H,EAAEtG,MAAMxB,UAGxCkI,EAAW,CACfpI,KACoB,IAAlBH,EAAOC,OACH,GACA6H,EACA1H,EAAAA,GAAAA,OACAA,EAAAA,GAAAA,WACNJ,OAAAA,GAGFW,GACE6H,EAAAA,EAAAA,IAAyB,CACvBzF,IAAK,CACHC,OAAQ1C,EAAKwB,IACb4F,YAAaA,EACb3H,MAAOwI,GAETxH,MAAAA,KAGDyF,KAAKC,EAAAA,IACLD,MAAK,kBAAMmB,GAAoBA,OAElCpH,SAtCEsH,GAAkB,GAkDVY,IAEF,KAENxF,OAAO,EAZT,UAcGoE,GAAaP,EAAO7G,OAAS,IAC5B,iBAAKiD,UAAWC,EAAhB,WACE,6BAAQ1C,EAAE,cAAV,QAEA,iBAAKyC,UAAWC,EAAhB,WACE,kBACEyB,KAAK,WACL/C,MAAOiG,EACPY,QAASZ,EACThE,SAAU,WACRiE,GAAsBD,GACtBG,GAAuB,GACvBJ,GAAkB,OAGtB,2BAAQpH,EAAEL,EAAAA,GAAAA,cAGZ,iBAAK8C,UAAWC,EAAhB,WACE,kBACEyB,KAAK,WACL/C,MAAOmG,EACPU,QAASV,EACTlE,SAAU,WACRmE,GAAwBD,GACxBD,GAAqB,GACrBF,GAAkB,OAGtB,2BAAQpH,EAAEL,EAAAA,GAAAA,iBAGXwH,IACC,SAAC,MAAD,CAAgBe,MAAOtF,EAAAA,GAAAA,aAAqBiE,KAAM,QAKrC,IAAlBR,EAAO7G,SACN,cACEiD,UAAW,CAACkC,EAAAA,EAAAA,OAAsBA,EAAAA,EAAAA,cAA4BL,KAC5D,KAFJ,SAKGtE,EAAE,gBAIP,SAAC,EAAD,CACE4G,UAAWA,EACXP,OAAQA,EACRF,WAvIa,kBACjBsB,EAAU,GAAD,eAAKpB,GAAL,CAAa,CAAEjF,MAAO,CAAE/B,IAAK,EAAGO,MAAO,GAAKmH,KAAKoB,EAAAA,EAAAA,UAuItD/B,cArIgB,SAACW,GACrB,IAAMqB,EAAgB/B,EAAOzF,QAAO,SAACQ,GAAD,OAAWA,EAAM2F,MAAQA,KAC7DU,EAAUW,IAoIN9B,cAjIgB,SAAChD,GACrB,IAAM8E,EAAgB/B,EAAOrF,KAAI,SAACI,GAChC,OAAIA,EAAM2F,MAAQzD,EAAEI,OAAOoD,IAClB,kBACF1F,GADL,IAEEA,OAAM,kBACDA,EAAMA,OADN,cAEFkC,EAAEI,OAAOsD,MAA0C,GAAlCvD,EAAAA,EAAAA,IAAgBH,EAAEI,OAAOtC,WAIxCA,KAIXqG,EAAUW,IAmHN5B,cAAexG,EAAE,kBACjByG,WACEY,EACIrH,EAAE,wBACFuH,EACAvH,EAAE,0BACF,KAEN0G,mBAAoB1G,EAAE,wBACtB2G,gBACEU,EACIrH,EAAE,8BACFuH,EACAvH,EAAE,gCACF,Y,gXC/Md,EAA0B,2BAA1B,EAA6G,4BAA7G,EAAsU,kCAAtU,EAAmX,4BAAnX,EAAsZ,wBAAtZ,EAAqb,wB,oBCuqBrb,MA9mBA,WAAqB,IAAD,oBACVA,GAAMC,EAAAA,EAAAA,KAAND,EACFE,GAAWC,EAAAA,EAAAA,MAEXkI,GAAUC,EAAAA,EAAAA,MAIhB,GAFiBC,EAAAA,EAAAA,MAGNC,MADHC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,YAAavE,EAA3B,EAA2BA,KAAM5B,GAAjC,EAAiCA,OAAQoG,GAAzC,EAAyCA,UAAW1B,GAApD,EAAoDA,YAI9CzG,IAAWJ,EAAAA,EAAAA,IAAYK,EAAAA,IAC7B,IAAwBL,EAAAA,EAAAA,IAAYC,EAAAA,IAA5BE,GAAR,GAAQA,KAAMD,GAAd,GAAcA,MACd,IACEF,EAAAA,EAAAA,IAAYwI,EAAAA,IADNC,GAAR,GAAQA,UAAWC,GAAnB,GAAmBA,aAAcC,GAAjC,GAAiCA,iBAEjC,IACE3I,EAAAA,EAAAA,IAAY4I,EAAAA,IADNC,GAAR,GAAQA,qBAAsBC,GAA9B,GAA8BA,0BAI9B,IAAoD5H,EAAAA,EAAAA,WAAS,GAA7D,iBAAO6H,GAAP,MAA2BC,GAA3B,MACA,IAA4C9H,EAAAA,EAAAA,WAAS,GAArD,iBAAO+H,GAAP,MAAuBC,GAAvB,MACA,IAAsDhI,EAAAA,EAAAA,UAAS,IAA/D,iBAAOiI,GAAP,MAA4BC,GAA5B,MACA,IAAkClI,EAAAA,EAAAA,WAAS,GAA3C,iBAAOsF,GAAP,MAAkB6C,GAAlB,MACA,IAA4DnI,EAAAA,EAAAA,WAAS,GAArE,iBAAOoI,GAAP,MAA+BC,GAA/B,MACA,IAAsCrI,EAAAA,EAAAA,UAAS,QAA/C,iBAAOsI,GAAP,MAAoBC,GAApB,MACA,IAAkCvI,EAAAA,EAAAA,UAAS,IAA3C,iBAAOwI,GAAP,MAAkBC,GAAlB,MAEA,IAAwBzI,EAAAA,EAAAA,UAAS,CAC/BH,KAAM,GACN6I,QAAS,GACTC,QAAS,GACTC,WAAY,GACZC,QAAS,GACTC,YAAa,GACbC,QAAS,GACTC,MAAO,EACPC,eAAgB,IATlB,iBAAO1K,GAAP,MAAa2K,GAAb,MAYMC,GAAoB,SAACnH,GACzBkH,IAAQ,kBACH3K,IADE,cAEJyD,EAAEI,OAAOoD,GACQ,UAAhBxD,EAAEI,OAAOoD,IAAkC,mBAAhBxD,EAAEI,OAAOoD,IAChCrD,EAAAA,EAAAA,IAAgBH,EAAEI,OAAOtC,OACzBkC,EAAEI,OAAOtC,SAGjB2I,IAAa,kBACRD,IADO,cAETxG,EAAEI,OAAOoD,GAAK,OAiIb4D,IAAgBC,EAAAA,EAAAA,cAAY,WAChCd,GAAe,WACfe,IAAAA,IAAA,UACUC,EAAAA,GADV,uBACgCtI,IAAU,CACtCuI,QAAS,CACPC,cAAc,UAAD,OAAYzK,OAG5ByF,MAAK,SAACiF,GACLR,GAAQQ,EAAS3F,KAAKA,KAAKxF,MAC3BgK,GAAe,WAEhBoB,OAAM,SAACC,GACNrB,GAAe,cAWrB,OAPAsB,EAAAA,EAAAA,YAAU,WACK,SAAThH,GAAmB5B,KACrBmI,KACAU,OAAOC,SAAS,EAAG,MAEpB,CAAC9I,GAAQ4B,IAEL5D,IACL,iCACE,iBAAKkC,UAAWkC,EAAAA,EAAAA,UAAhB,WACE,UAAC,IAAD,YACE,wBAAK9E,GAAKsB,QACV,gBACE2C,MAAO,CACLwH,SAAU,WACVC,IAAK,OACLC,KAAM,QAJV,UAOE,SAAC,IAAD,CACEC,UAAU,EACV5I,UAAWD,EAAAA,GAAAA,gBACX8I,QAAS1L,EAAE,mBACX2L,KAAM,kBAAM,SAAC,MAAD,KACZC,QAAS,WACM,SAATzH,GAAmB5B,KACrBmI,KACAU,OAAOC,SAAS,EAAG,aAO7B,iBAAK5I,UAAWC,EAAhB,WACE,iBACED,UAAW,CACTkC,EAAAA,EAAAA,sBACAA,EAAAA,EAAAA,YACAA,EAAAA,EAAAA,YACAA,EAAAA,EAAAA,cACAL,KAAK,KANT,UAQwB,cAArByE,IAAyD,SAArBA,IACnC,gBAAKtG,UAAWC,EAAhB,UACE,gBACEmJ,IACEhM,GAAKiM,UAA8B,KAAlBjM,GAAKiM,SAAtB,UACOC,EAAAA,GADP,YACqBlM,GAAKiM,UAD1B,UAEOC,EAAAA,GAFP,kBAIFC,IAAI,YAGN,KAEHtD,GAAenG,KACd,0BACE,SAAC,IAAD,CACE4B,KAAK,OACLtE,KAAMA,GACNkD,SAAU,WACR2H,UAKPhC,IACED,IAASwD,EAAAA,GAAAA,SACRxD,IAASwD,EAAAA,GAAAA,SACT,gBAAKxJ,UAAWkC,EAAAA,EAAAA,WAAhB,UACE,SAAC,IAAD,CACEuH,KAAwBlM,EAAT,SAATmE,EAAoB,cAAmB,YAC7CxB,QAASC,EAAAA,GAAAA,gBACTuJ,OAAQ,kBAAMxC,IAA0B,QAM/CpJ,GAAK4D,OAAS8H,EAAAA,GAAAA,WACb,UAAApM,GAAKc,kBAAL,eAAiBnB,QAAS,IACxB,gBAAKiD,UAAWkC,EAAAA,EAAAA,WAAhB,UACE,SAAC,IAAD,CACEuH,KAAMlM,EAAE,eACRmM,OAAQ,kBAAM/C,IAAsB,IACpCzG,QAASC,EAAAA,GAAAA,oBAKhBrC,GAAK4D,OAAS8H,EAAAA,GAAAA,YACZ,UAAApM,GAAKc,kBAAL,SACGK,KAAI,SAACH,GAAD,OAAOA,EAAEC,UAAUO,OACxB+K,SAAS7L,GAAKc,MACf,gBAAKoB,UAAWkC,EAAAA,EAAAA,WAAhB,UACE,SAAC,IAAD,CACEuH,KAAMlM,EAAE,yBACRmM,OAxIqB,WAEhC3L,GAKLN,GACEmM,EAAAA,EAAAA,IAAwB,CACtB/J,IAAK,CACHC,OAAQA,GACR0E,YAAaA,IAEf3G,MAAAA,MAGDyF,KAAKC,EAAAA,IACLD,MAAK,kBAAM2E,QACXO,OAAM,eAfP/K,GAASoM,EAAAA,EAAAA,QAsIK3J,QAASC,EAAAA,GAAAA,kBAIb,gBAAKH,UAAWkC,EAAAA,EAAAA,WAAhB,UACE,SAAC,IAAD,CACEuH,KAAMlM,EAAE,oBACRmM,OAtKgB,WAE3B3L,GAKLN,GACEqM,EAAAA,EAAAA,IAAmB,CACjBjK,IAAK,CACHC,OAAQA,GACR0E,YAAaA,IAEf3G,MAAAA,MAGDyF,KAAKC,EAAAA,IACLD,MAAK,kBAAM2E,QACXO,OAAM,eAfP/K,GAASoM,EAAAA,EAAAA,QAoKK3J,QAASC,EAAAA,GAAAA,yBAKnB,iBAAKH,UAAWC,EAAhB,WACE,UAAC,IAAD,CAAUuB,YAAajE,EAAE,kBAAzB,WACE,SAAC,IAAD,CACEkB,MAAM,kBACN4F,GAAG,OACH3C,KAAK,OACL/C,MAAOvB,GAAKsB,KACZqL,UAAU,EACVb,MAAMc,EAAAA,EAAAA,GAAQ,YACd1J,SAAU0H,GACViC,OAAO,UAAA5C,GAAU3I,YAAV,eAAgB3B,QAAS,EAChCgF,UAAWkE,KAGb,gBAAKjG,UAAWC,KAEhB,SAAC,IAAD,CACExB,MAAM,eACN4F,GAAG,UACH3C,KAAK,OACL/C,MAAOvB,GAAKoK,QACZuC,UAAU,EACVb,MAAMc,EAAAA,EAAAA,GAAQ,YACd1J,SAAU0H,GACViC,OAAO,UAAA5C,GAAUG,eAAV,eAAmBzK,QAAS,EACnCgF,UAAWkE,KAGb,gBAAKjG,UAAWC,KAEhB,SAAC,IAAD,CACExB,MAAM,eACN4F,GAAG,UACH3C,KAAK,OACL/C,MAAOvB,GAAKmK,QACZwC,UAAU,EACVb,MAAMc,EAAAA,EAAAA,GAAQ,YACd1J,SAAU0H,GACViC,OAAO,UAAA5C,GAAUE,eAAV,eAAmBxK,QAAS,EACnCgF,UAAWkE,KAGb,gBAAKjG,UAAWC,KAEhB,SAAC,IAAD,CACExB,MAAM,eACN4F,GAAG,UACH3C,KAAK,OACL/C,MAAOvB,GAAKwK,QACZmC,UAAU,EACVb,MAAMc,EAAAA,EAAAA,GAAQ,YACd1J,SAAU0H,GACViC,OAAO,UAAA5C,GAAUO,eAAV,eAAmB7K,QAAS,EACnCgF,UAAWkE,KAGb,gBAAKjG,UAAWC,KAEhB,SAAC,IAAD,CACExB,MAAM,eACN4F,GAAG,UACH3C,KAAK,OACL/C,MAAOvB,GAAKsK,QACZqC,UAAU,EACVb,MAAMc,EAAAA,EAAAA,GAAQ,YACd1J,SAAU0H,GACVjG,UAAWkE,QAIf,UAAC,IAAD,CAAUzE,YAAajE,EAAE,cAAzB,UACGO,GAAK4D,OAAS8H,EAAAA,GAAAA,QACb,gBACEnI,MAAO,CACL6I,MAAO,SAFX,UAKE,SAAC,IAAD,CACEzL,MAAM,aACN4F,GAAG,QACH3C,KAAK,SACL/C,MAAOvB,GAAKyK,MACZkC,UAAU,EACVb,MAAMc,EAAAA,EAAAA,GAAQ,SACd1J,SAAU0H,GACViC,OAAO,UAAA5C,GAAUQ,aAAV,eAAiB9K,QAAS,EACjCgF,UAAWkE,OAKjB,gBAAKjG,UAAWC,KAChB,gBACEoB,MAAO,CACL6I,MAAO,SAFX,UAKE,SAAC,IAAD,CACEzL,MAAM,sBACN4F,GAAG,iBACH3C,KAAK,SACL/C,MAAOvB,GAAK0K,eACZiC,UAAU,EACVb,MAAMc,EAAAA,EAAAA,GAAQ,SACd1J,SAAU0H,GACViC,OAAO,UAAA5C,GAAUS,sBAAV,eAA0B/K,QAAS,EAC1CgF,UAAWkE,UAKjB,SAAC,IAAD,CAAUzE,YAAajE,EAAE,oBAAzB,UACE,0BACE,qBACEyC,UAAWC,EACX6D,YAAavG,EAAE,qBACf8G,GAAG,cACH1F,MAAOvB,GAAKuK,YACZ/G,SAAUoH,GACV3F,UAAW4D,SAKjB,SAAC,IAAD,CAAUzE,YAAajE,EAAE,mBAAzB,UACE,0BACE,qBACEyC,UAAWC,EACX6D,YAAavG,EAAE,oBACf8G,GAAG,aACH1F,MAAOvB,GAAKqK,WACZ7G,SAAUoH,GACV3F,UAAW4D,SAOhB,UAAA7I,GAAKc,kBAAL,eAAiBnB,QAAS,GACzBe,GAAK4D,OAAS8H,EAAAA,GAAAA,QACZ,SAAC,IAAD,CAAUhI,YAAajE,EAAE,cAAzB,SACGH,GAAKc,WAAWK,KAAI,SAACH,EAAGgD,GAAJ,OACnB,iBACEpB,UAAW,CACTmK,EAAAA,EAAAA,UACAA,EAAAA,EAAAA,mBACAjI,EAAAA,EAAAA,aACAL,KAAK,KALT,WAQE,kBAAO7B,UAAWkC,EAAAA,EAAAA,YAAlB,SACG9D,EAAEC,UAAUK,QAGf,iBACEsB,UAAWkC,EAAAA,EAAAA,KACXJ,QAAS,WACPiF,GAAuB3I,EAAEC,UAAUO,KACnCoI,GACGlJ,GAAK4D,OAAS8H,EAAAA,GAAAA,WACb1L,GAAKc,MAAQR,EAAEC,UAAUO,KACxBd,GAAK4D,OAAS8H,EAAAA,GAAAA,OACbpL,EAAEC,UAAU+L,YAElBvD,IAAkB,IAVtB,WAaE,SAAC,MAAD,KACA,gBAAK7G,UAAWkC,EAAAA,EAAAA,QAAhB,SACG3E,EAAE,qBArBF6D,SA+Bd,UAAAhE,GAAKc,kBAAL,eAAiBnB,QAAS,GACzBe,GAAK4D,OAAS8H,EAAAA,GAAAA,WACZ,SAAC,IAAD,CAAUhI,YAAajE,EAAE,cAAzB,SACGH,GAAKc,WACHC,QAAO,SAACC,GAAD,OAAOA,EAAEC,UAAUC,OAASR,GAAKQ,QACxCC,KAAI,SAACH,EAAGgD,GAAJ,OACH,iBACEpB,UAAW,CACTmK,EAAAA,EAAAA,UACAA,EAAAA,EAAAA,mBACAjI,EAAAA,EAAAA,aACAL,KAAK,KALT,WAQE,kBAAO7B,UAAWkC,EAAAA,EAAAA,YAAlB,SACG9D,EAAEC,UAAUK,QAGf,iBACEsB,UAAWkC,EAAAA,EAAAA,KACXJ,QAAS,WACPiF,GAAuB3I,EAAEC,UAAUO,KACnCoI,GACGlJ,GAAK4D,OAAS8H,EAAAA,GAAAA,WACb1L,GAAKc,MAAQR,EAAEC,UAAUO,KACxBd,GAAK4D,OAAS8H,EAAAA,GAAAA,OACbpL,EAAEC,UAAU+L,YAElBvD,IAAkB,IAVtB,WAaE,SAAC,MAAD,KACA,gBAAK7G,UAAWkC,EAAAA,EAAAA,QAAhB,SACG3E,EAAE,qBArBF6D,QA6BhBiJ,OAAOC,QAAQjD,IAAWtK,OAAS,IAClC,eAAIiD,UAAWC,EAAf,SACGoK,OAAOE,KAAKlD,IAAW9I,KAAI,SAAC+F,GAAD,OAC1B+C,GAAU/C,GAAKvH,OAAS,GACtB,wBAAeQ,EAAE8J,GAAU/C,KAAlBA,GACP,mBAOM,YAArBgC,KAAkC,SAAC,IAAD,CAAQkE,aAAa,IAE9B,YAAzBhE,KAAsC,SAAC,IAAD,CAAQgE,aAAa,IAC7B,YAA9B/D,KACC,SAAC,IAAD,CAAQ+D,aAAa,KAEJ,YAAjBnE,IAA8C,YAAhBc,MAC9B,SAAC,IAAD,CAAQqD,aAAa,IAGR,cAAdpE,KACC,SAAC,IAAD,CACElG,QAASC,EAAAA,GAAAA,gBACTC,UAAU,OACVqK,mBAAoB,WAClBhN,GAASiN,EAAAA,EAAAA,QAJb,UAOE,uBAAInN,EAAE,0BAIQ,cAAjB8I,KACC,SAAC,IAAD,CACEnG,QAASC,EAAAA,GAAAA,gBACTC,UAAU,OACVqK,mBAAoB,WAClBhN,GAASkN,EAAAA,EAAAA,QAJb,UAOE,uBAAIpN,EAAE,6BAITmJ,KACC,SAAC,IAAD,CACEtJ,KAAMA,GACNC,MAAO,kBAAMsJ,IAAsB,MAItCC,KACC,SAAC,IAAD,CACE/I,MAAOA,GACPT,KAAMA,GACNoH,YAAasC,GACb3C,UAAWA,GACX9G,MAAO,WACLwJ,IAAkB,GAClBE,GAAuB,IACvBC,IAAa,IAEfvC,iBAAkBwD,KAIrBhB,KACC,SAAC,IAAD,CACE9H,OAAiB,SAATuC,EAAkB,cAAgB,WAC1CtC,YAAY,eACZC,QAAQ,WACRC,WAAY,WACV4H,IAA0B,IAE5BnH,OAAO,EACPR,QAliBoB,WAC1B,IAAMqL,EAAW,GAiBjB,GAdyB,IAArBxN,GAAKsB,KAAK3B,SACZ6N,EAAQ,KAAW,yBAIF,IAAfxN,GAAKyK,OAAgBzK,GAAKyK,QAC5B+C,EAAQ,MAAY,eAIM,IAAxBxN,GAAK0K,gBAAyB1K,GAAK0K,iBACrC8C,EAAQ,eAAqB,wBAGS,IAApCP,OAAOC,QAAQM,GAAU7N,OAAc,CACzC,IAAKgB,GAEH,YADAN,GAASoM,EAAAA,EAAAA,OAKX,IAAIhK,GAAG,UACFzC,IAGQ,QAATsE,GAEF7B,GAAG,kBACEA,GADF,IAEDgL,QAAS3E,KAGXzI,GAASqN,EAAAA,EAAAA,IAAQ,CAAEjL,IAAAA,EAAKhC,MAAAA,MACrByF,KAAKC,EAAAA,IACLD,MAAK,SAACiF,GACL3C,EAAQmF,KAAK,CACXC,SAAU,QACVjF,MAAO,CACLC,KAAAA,EACAtE,KAAM,OACNuE,YAAAA,EACAnG,OAAQyI,EAAS3F,KAAKxF,KAAKwB,IAC3BsH,UAAAA,GACA1B,YAAAA,SAILgE,OAAM,gBACS,SAAT9G,IAET7B,GAAG,kBACEA,GADF,IAEDjB,IAAKkB,KAGPrC,GAASwN,EAAAA,EAAAA,IAAW,CAAEpL,IAAAA,EAAKhC,MAAAA,MACxByF,MAAK,WACJ4D,IAA0B,MAE3BsB,OAAM,WACLtB,IAA0B,YAIhCI,IAAa,UACRsD,IAEL1D,IAA0B,IAmdxB,SAUY,SAATxF,GACC,uBAAInE,EAAE,8BAEN,uBAAIA,EAAE,gCAMd,SAAC,KAAD,CAAU2N,GAAG,c,qBCjqBjB,IAAIC,E,gCACJ,IAAIC,EAAQ,IAAIC,WAAW,IACZ,SAASC,IAEtB,IAAKH,KAGHA,EAAoC,qBAAXI,QAA0BA,OAAOJ,iBAAmBI,OAAOJ,gBAAgBK,KAAKD,SAA+B,qBAAbE,UAAgE,oBAA7BA,SAASN,iBAAkCM,SAASN,gBAAgBK,KAAKC,WAGrO,MAAM,IAAIC,MAAM,4GAIpB,OAAOP,EAAgBC,GCjBzB,4HCQA,ICFA,MAJA,SAAkBO,GAChB,MAAuB,kBAATA,GAAqBC,EAAAA,KAAWD,IDG5CE,EAAY,GAEP7O,EAAI,EAAGA,EAAI,MAAOA,EACzB6O,EAAUd,MAAM/N,EAAI,KAAO8O,SAAS,IAAIC,OAAO,IAoBjD,MAjBA,SAAmBC,GACjB,IAAIC,EAASC,UAAUnP,OAAS,QAAsBoP,IAAjBD,UAAU,GAAmBA,UAAU,GAAK,EAG7EP,GAAQE,EAAUG,EAAIC,EAAS,IAAMJ,EAAUG,EAAIC,EAAS,IAAMJ,EAAUG,EAAIC,EAAS,IAAMJ,EAAUG,EAAIC,EAAS,IAAM,IAAMJ,EAAUG,EAAIC,EAAS,IAAMJ,EAAUG,EAAIC,EAAS,IAAM,IAAMJ,EAAUG,EAAIC,EAAS,IAAMJ,EAAUG,EAAIC,EAAS,IAAM,IAAMJ,EAAUG,EAAIC,EAAS,IAAMJ,EAAUG,EAAIC,EAAS,IAAM,IAAMJ,EAAUG,EAAIC,EAAS,KAAOJ,EAAUG,EAAIC,EAAS,KAAOJ,EAAUG,EAAIC,EAAS,KAAOJ,EAAUG,EAAIC,EAAS,KAAOJ,EAAUG,EAAIC,EAAS,KAAOJ,EAAUG,EAAIC,EAAS,MAAMG,cAMzf,IAAKC,EAASV,GACZ,MAAMW,UAAU,+BAGlB,OAAOX,GEHT,MApBA,SAAYtL,EAASkM,EAAKN,GAExB,IAAIO,GADJnM,EAAUA,GAAW,IACFoM,SAAWpM,EAAQiL,KAAOA,KAK7C,GAHAkB,EAAK,GAAe,GAAVA,EAAK,GAAY,GAC3BA,EAAK,GAAe,GAAVA,EAAK,GAAY,IAEvBD,EAAK,CACPN,EAASA,GAAU,EAEnB,IAAK,IAAIjP,EAAI,EAAGA,EAAI,KAAMA,EACxBuP,EAAIN,EAASjP,GAAKwP,EAAKxP,GAGzB,OAAOuP,EAGT,OAAOG,EAAUF","sources":["webpack://pharmacy-frontend/./src/components/add-to-cart-modal/add-to-cart-modal.module.scss?998e","components/add-to-cart-modal/add-to-cart-modal.component.jsx","webpack://pharmacy-frontend/./src/components/card-info/card-info.module.scss?a8ee","components/card-info/card-info.component.jsx","components/input-file-image/input-file-image.component.jsx","webpack://pharmacy-frontend/./src/components/multi-value/multi-value.module.scss?ab1c","components/multi-value/multi-value.component.jsx","webpack://pharmacy-frontend/./src/components/offers-modal/offers-modal.module.scss?5de3","components/offers-modal/offers-modal.component.jsx","webpack://pharmacy-frontend/./src/pages/item-page/item-page.module.scss?977f","pages/item-page/item-page.component.jsx","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/regex.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/validate.js","../node_modules/uuid/dist/esm-browser/v4.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"warehouse_row\":\"add-to-cart-modal_warehouse_row__WLx7w\",\"offer\":\"add-to-cart-modal_offer__vBdMK\",\"value\":\"add-to-cart-modal_value__aJCXy\",\"max_qty_div\":\"add-to-cart-modal_max_qty_div__DeRw8\",\"select_warehouse\":\"add-to-cart-modal_select_warehouse__QvEuj\",\"error\":\"add-to-cart-modal_error__N6LB6\"};","// Modal that show the item with it's warehouse to allow pharmacy to buy an item\n// you should select a quantity greater than zero an less than the selected warehouse max quantity\n\n// Props\n// item: the item that the pharmacy will buy\n// close: action to close the modal\n\nimport React, { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\n// components\nimport Modal from \"../modal/modal.component\";\nimport SelectCustom from \"../select/select.component\";\n\n// redux stuff\nimport { addItemToCart } from \"../../redux/cart/cartSlice\";\nimport { selectUserData } from \"../../redux/auth/authSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { statisticsItemAddedToCart } from \"../../redux/statistics/statisticsSlice\";\nimport { selectOnlineStatus } from \"../../redux/online/onlineSlice\";\n\n// constants and utils\nimport {\n  Colors,\n  OfferTypes,\n  onKeyPressForNumberInput,\n  toEnglishNumber,\n} from \"../../utils/constants\";\n\n// styles\nimport styles from \"./add-to-cart-modal.module.scss\";\n\n// check if there is an offer for entered quantity in a specific warehouse\nconst checkOfferQty = (selectedWarehouse, qty) => {\n  // check if the specified warehouse has an offer\n  if (selectedWarehouse.offer.offers.length > 0) {\n    // through all the offers, check if the entered quantity has an offer\n    for (let i = 0; i < selectedWarehouse.offer.offers.length; i++) {\n      // check if the entered quantity has an offer\n      if (qty >= selectedWarehouse.offer.offers[i].qty) {\n        // if it has return:\n        // 1- mode of the offer (pieces, percentage)\n        // 2- bonus\n        // 2-1: if the mode is pieces return the bonus * (entered qty / bonus qty)\n        // 2-2: if the mode is percentage return the bonus\n        if (selectedWarehouse.offer.mode === OfferTypes.PERCENTAGE) {\n          return selectedWarehouse.offer.offers[i].bonus;\n        } else {\n          return (\n            selectedWarehouse.offer.offers[i].bonus +\n            checkOfferQty(\n              selectedWarehouse,\n              qty - selectedWarehouse.offer.offers[i].qty\n            )\n          );\n        }\n      }\n    }\n  }\n\n  return 0;\n};\n\nfunction AddToCartModal({ item, close, setAddItemToCartMsg }) {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n\n  // selectors\n  const { token, user } = useSelector(selectUserData);\n  const isOnline = useSelector(selectOnlineStatus);\n\n  // build the warehouse option array that contains this item\n  // get all the warehouse that contains this item\n  // put asterisk after warehouse name if the warehouse has an offer\n  const itemWarehousesOption = item.warehouses\n    .filter((w) => w.warehouse.city === user.city)\n    .map((w) => {\n      const asterisk = w.offer.offers.length > 0 ? \"*\" : \"\";\n\n      return {\n        label: `${w.warehouse.name} ${asterisk}`,\n        value: w.warehouse._id,\n      };\n    });\n\n  // select the first warehouse in the list\n  const [selectedWarehouse, setSelectedWarehouse] = useState(\n    item.warehouses.filter((w) => w.warehouse.city === user.city)[0]\n  );\n\n  const [offer, setOffer] = useState(\n    item.warehouses.filter((w) => w.warehouse.city === user.city)[0].offer\n  );\n  const [qty, setQty] = useState();\n  const [qtyError, setQtyError] = useState(false);\n\n  const handleWarehouseChange = (val) => {\n    setSelectedWarehouse(item.warehouses.find((w) => w.warehouse._id == val));\n    setOffer(item.warehouses.find((w) => w.warehouse._id == val).offer);\n  };\n\n  // const onKeyPress = (event) => {\n  //   return event.charCode >= 48 && event.charCode <= 57;\n  // };\n\n  const quantityChange = (e) => {\n    const value = Number.parseInt(toEnglishNumber(e.target.value));\n    setQty(isNaN(value) ? \"\" : value);\n    setQtyError(false);\n  };\n\n  const handleAddItemToCart = () => {\n    if (qty === \"\") {\n      setQtyError(true);\n      return;\n    }\n\n    if (selectedWarehouse.maxQty !== 0 && qty > selectedWarehouse.maxQty) {\n      setQtyError(true);\n      return;\n    }\n\n    const bonusQty = checkOfferQty(selectedWarehouse, qty);\n\n    dispatch(\n      addItemToCart({\n        item: item,\n        warehouse: selectedWarehouse,\n        qty: qty,\n        bonus: bonusQty > 0 ? bonusQty : null,\n        bonusType: bonusQty > 0 ? selectedWarehouse.offer.mode : null,\n      })\n    );\n\n    if (isOnline) {\n      dispatch(statisticsItemAddedToCart({ obj: { itemId: item._id }, token }));\n    }\n\n    close();\n    setAddItemToCartMsg(\"add-item-to-cart\");\n  };\n\n  return (\n    <>\n      <Modal\n        header=\"add-to-cart\"\n        cancelLabel=\"cancel-label\"\n        okLabel=\"add-label\"\n        closeModal={close}\n        okModal={handleAddItemToCart}\n        small={true}\n      >\n        {/* <div className={styles.warehouse_row}> */}\n        <div className={styles.select_warehouse}>\n          <label>{t(\"item-warehouse\")}</label>\n          <SelectCustom\n            bgColor={Colors.SECONDARY_COLOR}\n            foreColor=\"#fff\"\n            options={itemWarehousesOption}\n            onchange={handleWarehouseChange}\n            defaultOption={itemWarehousesOption[0]}\n            // caption=\"item-warehouse\"\n          />\n        </div>\n\n        <div className={styles.max_qty_div}>\n          <label>{t(\"item-max-qty\")}</label>\n          <p>\n            {selectedWarehouse.maxQty === 0\n              ? t(\"no-limit-qty\")\n              : selectedWarehouse.maxQty}\n          </p>\n        </div>\n        <div className={styles.max_qty_div}>\n          <label>{t(\"selected-qty\")}</label>\n          <input\n            className={qtyError ? styles.error : \"\"}\n            // type=\"number\"\n            // min={0}\n            value={qty}\n            onKeyPress={onKeyPressForNumberInput}\n            onChange={quantityChange}\n          />\n        </div>\n        {/* </div> */}\n\n        {offer?.offers.length > 0 &&\n          offer.offers.map((o, index) => (\n            <div className={styles.offer} key={index}>\n              <p>\n                <label>{t(\"quantity-label\")}</label>\n                <label className={styles.value} style={{ padding: \"0 6px\" }}>\n                  {o.qty}\n                </label>\n                <label style={{ paddingLeft: \"20px\" }}>\n                  {t(\"after-quantity-label\")}\n                </label>\n              </p>\n              <p>\n                <label>\n                  {offer.mode === OfferTypes.PIECES\n                    ? t(\"bonus-quantity-label\")\n                    : t(\"bonus-percentage-label\")}\n                </label>\n                <label className={styles.value}>{o.bonus}</label>\n                <label>\n                  {offer.mode === OfferTypes.PIECES\n                    ? t(\"after-bonus-quantity-label\")\n                    : t(\"after-bonus-percentage-label\")}\n                </label>\n              </p>\n            </div>\n          ))}\n      </Modal>\n    </>\n  );\n}\n\nexport default AddToCartModal;\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"card-info_card__VcLb9\",\"header\":\"card-info_header__uTcny\",\"warning\":\"card-info_warning__bmiK1\"};","// card component that can collapsed or expanded by pressing on the header\n\n// props\n// headerTitle: text to show in the header section\n// children: array of component to show in the body of the card\n// type: warning or normal to change to background color of the card\n\nimport React, { useState } from \"react\";\n\n// react icon\nimport { BsFillCaretDownFill, BsFillCaretUpFill } from \"react-icons/bs\";\n\n// styles\nimport styles from \"./card-info.module.scss\";\n\nfunction CardInfo({ headerTitle, children, type }) {\n  const [expanded, setExpanded] = useState(true);\n\n  return (\n    <div\n      className={[styles.card, type === \"warning\" ? styles.warning : null].join(\n        \" \"\n      )}\n    >\n      <div\n        onClick={() => setExpanded(!expanded)}\n        className={[\n          styles.header,\n          type === \"warning\" ? styles.warning : null,\n        ].join(\" \")}\n      >\n        <p>{headerTitle}</p>\n        <label\n          className={styles.header_label}\n          style={{}}\n          onClick={() => setExpanded(!expanded)}\n        >\n          {expanded ? <BsFillCaretUpFill /> : <BsFillCaretDownFill />}\n        </label>\n      </div>\n      {expanded && <div>{children}</div>}\n    </div>\n  );\n}\n\nexport default CardInfo;\n","import { unwrapResult } from \"@reduxjs/toolkit\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { changeLogo, selectUserData } from \"../../redux/auth/authSlice\";\nimport { changeItemLogo } from \"../../redux/items/itemsSlices\";\n\n// styles\nimport generalStyles from \"../../style.module.scss\";\n\nfunction InputFileImage({ type, item, readOnly, onchange }) {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n\n  const inputFileRef = React.useRef(null);\n\n  const { token, user } = useSelector(selectUserData);\n\n  const handleClick = () => {\n    inputFileRef.current.click();\n  };\n\n  const handleFileChange = (event) => {\n    const uploadedFile = event.target.files[0];\n    if (uploadedFile) {\n      const data = new FormData();\n      if (type === \"partner\") {\n        data.append(\n          \"name\",\n          `${user.username}${Date.now()}.${uploadedFile.name.split(\".\").pop()}`\n        );\n      } else {\n        data.append(\n          \"name\",\n          `${item.name.replace(\"%\", \"\")}${Date.now()}.${uploadedFile.name\n            .split(\".\")\n            .pop()}`\n        );\n      }\n\n      data.append(\"file\", uploadedFile);\n\n      if (type === \"partner\") {\n        dispatch(changeLogo({ data, token }))\n          .then(unwrapResult)\n          .then(() => {\n            if (onchange) {\n              onchange();\n            }\n          });\n      } else {\n        const { _id } = item;\n        dispatch(changeItemLogo({ data, _id, token }))\n          .then(unwrapResult)\n          .then(() => {\n            if (onchange) {\n              onchange();\n            }\n          });\n      }\n    }\n  };\n\n  return (\n    <>\n      <div>\n        <button\n          className={[\n            generalStyles.button,\n            generalStyles.bg_secondary,\n            generalStyles.fc_white,\n            generalStyles.padding_h_12,\n            generalStyles.padding_v_6,\n          ].join(\" \")}\n          onClick={handleClick}\n          disabled={readOnly}\n        >\n          {t(\"change-logo\")}\n        </button>\n      </div>\n\n      <input\n        multiple={false}\n        accept=\"image/*\"\n        ref={inputFileRef}\n        type=\"file\"\n        onChange={handleFileChange}\n        style={{ display: \"none\" }}\n      />\n    </>\n  );\n}\n\nexport default InputFileImage;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"multi-value_container__efvXg\",\"row\":\"multi-value_row__CgABK\",\"header\":\"multi-value_header__sV-dg\",\"add_icon\":\"multi-value_add_icon__+LvX8\",\"input_div\":\"multi-value_input_div__4ZhqR\",\"delete_icon\":\"multi-value_delete_icon__FIBYW\"};","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\n// react-icons\nimport { RiDeleteBin5Fill } from \"react-icons/ri\";\nimport { MdAddCircle } from \"react-icons/md\";\n\n// styles\nimport generalStyles from \"../../style.module.scss\";\nimport styles from \"./multi-value.module.scss\";\nimport { onKeyPressForNumberInput } from \"../../utils/constants\";\n\nfunction MultiValue({\n  addHandler,\n  deleteHandler,\n  values,\n  changeHandler,\n  placeholder,\n  quantityLabel,\n  bonusLabel,\n  afterQuantityLabel,\n  afterBonusLabel,\n  allowEdit,\n}) {\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <div className={styles.header}>\n        {allowEdit && (\n          <div\n            className={[\n              generalStyles.icon,\n              generalStyles.fc_green,\n              generalStyles.margin_h_auto,\n            ].join(\" \")}\n          >\n            <MdAddCircle size={36} onClick={addHandler} />\n            <div className={generalStyles.tooltip}>\n              {t(\"add-offer-tooltip\")}\n            </div>\n          </div>\n        )}\n      </div>\n      <div className={styles.container}>\n        {values.map((value) => (\n          <div className={styles.row} key={value.key}>\n            {/* quantity value */}\n            <div className={styles.input_div}>\n              {quantityLabel && <label>{quantityLabel}</label>}\n              <input\n                // type=\"number\"\n                id={value.key}\n                title=\"qty\"\n                value={value.value.qty}\n                onChange={(e) => changeHandler(e)}\n                placeholder={placeholder}\n                onKeyPress={onKeyPressForNumberInput}\n                // min={0}\n                disabled={!allowEdit}\n              />\n              {afterQuantityLabel && <label>{afterQuantityLabel}</label>}\n            </div>\n\n            {/* bonus value */}\n            <div className={styles.input_div} key={value.key}>\n              {bonusLabel && <label>{bonusLabel}</label>}\n\n              <input\n                // type=\"number\"\n                id={value.key}\n                title=\"bonus\"\n                value={value.value.bonus}\n                onChange={(e) => changeHandler(e)}\n                placeholder={placeholder}\n                // min={0}\n                disabled={!allowEdit}\n              />\n\n              {afterBonusLabel && <label>{afterBonusLabel}</label>}\n            </div>\n\n            {allowEdit && (\n              <div\n                className={[generalStyles.icon, generalStyles.fc_red].join(\" \")}\n              >\n                <RiDeleteBin5Fill\n                  size={20}\n                  onClick={() => deleteHandler(value.key)}\n                />\n                <div className={generalStyles.tooltip}>\n                  {t(\"remove-offer-tooltip\")}\n                </div>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n    </>\n  );\n}\n\nexport default MultiValue;\n","// extracted by mini-css-extract-plugin\nexport default {\"offer_type\":\"offers-modal_offer_type__ALAtZ\",\"checkboxes_div\":\"offers-modal_checkboxes_div__jHFjO\",\"offer_type_checkbox\":\"offers-modal_offer_type_checkbox__6qdXR\"};","import React, { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { v4 as uuidv4 } from \"uuid\";\n\n// redux stuff\nimport { useDispatch } from \"react-redux\";\nimport { changeItemWarehouseOffer } from \"../../redux/warehouseItems/warehouseItemsSlices\";\n\n// components\nimport Modal from \"../modal/modal.component\";\nimport MultiValue from \"../multi-value/multi-value.component\";\n\n// react-icons\nimport { MdErrorOutline } from \"react-icons/md\";\n\n// styles\nimport styles from \"./offers-modal.module.scss\";\nimport generalStyles from \"../../style.module.scss\";\n\n// constants\nimport { Colors, OfferTypes, toEnglishNumber } from \"../../utils/constants\";\nimport { unwrapResult } from \"@reduxjs/toolkit\";\n\nfunction OffersModal({\n  item,\n  warehouseId,\n  close,\n  token,\n  allowEdit,\n  afterUpdateOffer,\n}) {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n\n  const { offer } = item.warehouses.find(\n    (w) => w.warehouse._id === warehouseId\n  );\n\n  const [offerTypeError, setOfferTypeError] = useState(false);\n  const [quantityOfferType, setQuantityOfferType] = useState(\n    offer.mode === OfferTypes.PIECES ? true : false\n  );\n\n  const [percentageOfferType, setPercentageOfferType] = useState(\n    offer.mode === OfferTypes.PERCENTAGE ? true : false\n  );\n\n  const [values, setValues] = useState(\n    offer.offers?.length > 0\n      ? offer.offers.map((o) => {\n          return { value: { qty: o.qty, bonus: o.bonus }, key: o._id };\n        })\n      : []\n  );\n\n  // add a new offer to the offer array\n  const addHandler = () =>\n    setValues([...values, { value: { qty: 0, bonus: 0 }, key: uuidv4() }]);\n\n  const deleteHandler = (key) => {\n    const updatedValues = values.filter((value) => value.key !== key);\n    setValues(updatedValues);\n  };\n\n  const changeHandler = (e) => {\n    const updatedValues = values.map((value) => {\n      if (value.key === e.target.id) {\n        return {\n          ...value,\n          value: {\n            ...value.value,\n            [e.target.title]: toEnglishNumber(e.target.value) * 1,\n          },\n        };\n      } else {\n        return value;\n      }\n    });\n\n    setValues(updatedValues);\n  };\n\n  const handleOkButton = () => {\n    if (!quantityOfferType && !percentageOfferType) {\n      setOfferTypeError(true);\n      return;\n    }\n\n    const offers = values\n      .filter((v) => v.value.bonus !== 0 || v.value.qty)\n      .sort((a, b) => {\n        if (a.value.qty > b.value.qty) return -1;\n        if (a.value.qty < b.value.qty) return 1;\n        return 0;\n      })\n      .map((v) => {\n        return { qty: v.value.qty, bonus: v.value.bonus };\n      });\n\n    const offerObj = {\n      mode:\n        offers.length === 0\n          ? \"\"\n          : quantityOfferType\n          ? OfferTypes.PIECES\n          : OfferTypes.PERCENTAGE,\n      offers,\n    };\n\n    dispatch(\n      changeItemWarehouseOffer({\n        obj: {\n          itemId: item._id,\n          warehouseId: warehouseId,\n          offer: offerObj,\n        },\n        token,\n      })\n    )\n      .then(unwrapResult)\n      .then(() => afterUpdateOffer && afterUpdateOffer());\n\n    close();\n  };\n\n  return (\n    <Modal\n      header=\"nav-offers\"\n      cancelLabel=\"close-label\"\n      okLabel=\"add-label\"\n      closeModal={close}\n      okModal={\n        allowEdit\n          ? () => {\n              handleOkButton();\n            }\n          : null\n      }\n      small={true}\n    >\n      {allowEdit && values.length > 0 && (\n        <div className={styles.checkboxes_div}>\n          <label>{t(\"offer-type\")}:</label>\n\n          <div className={styles.offer_type_checkbox}>\n            <input\n              type=\"checkbox\"\n              value={quantityOfferType}\n              checked={quantityOfferType}\n              onChange={() => {\n                setQuantityOfferType(!quantityOfferType);\n                setPercentageOfferType(false);\n                setOfferTypeError(false);\n              }}\n            />\n            <label>{t(OfferTypes.PIECES)}</label>\n          </div>\n\n          <div className={styles.offer_type_checkbox}>\n            <input\n              type=\"checkbox\"\n              value={percentageOfferType}\n              checked={percentageOfferType}\n              onChange={() => {\n                setPercentageOfferType(!percentageOfferType);\n                setQuantityOfferType(false);\n                setOfferTypeError(false);\n              }}\n            />\n            <label>{t(OfferTypes.PERCENTAGE)}</label>\n          </div>\n\n          {offerTypeError && (\n            <MdErrorOutline color={Colors.FAILED_COLOR} size={24} />\n          )}\n        </div>\n      )}\n\n      {values.length === 0 && (\n        <p\n          className={[generalStyles.center, generalStyles.fc_secondary].join(\n            \" \"\n          )}\n        >\n          {t(\"no-offers\")}\n        </p>\n      )}\n\n      <MultiValue\n        allowEdit={allowEdit}\n        values={values}\n        addHandler={addHandler}\n        deleteHandler={deleteHandler}\n        changeHandler={changeHandler}\n        quantityLabel={t(\"quantity-label\")}\n        bonusLabel={\n          quantityOfferType\n            ? t(\"bonus-quantity-label\")\n            : percentageOfferType\n            ? t(\"bonus-percentage-label\")\n            : null\n        }\n        afterQuantityLabel={t(\"after-quantity-label\")}\n        afterBonusLabel={\n          quantityOfferType\n            ? t(\"after-bonus-quantity-label\")\n            : percentageOfferType\n            ? t(\"after-bonus-percentage-label\")\n            : null\n        }\n      />\n    </Modal>\n  );\n}\n\nexport default OffersModal;\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"item-page_content__R9NDn\",\"description\":\"item-page_description__srZ20\",\"textarea\":\"item-page_textarea__qwkQA\",\"select_div\":\"item-page_select_div__a8aNf\",\"error_icon\":\"item-page_error_icon__QNuW4\",\"action_div\":\"item-page_action_div__KPLQm\",\"add_button\":\"item-page_add_button__v+fNr\",\"horizontal_div\":\"item-page_horizontal_div__uGnXE\",\"error_ul\":\"item-page_error_ul__SKblv\",\"info\":\"item-page_info__3cySs\",\"logo\":\"item-page_logo__l6dvL\"};","import React, { useCallback, useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Redirect, useLocation, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\n// redux stuff\nimport { unwrapResult } from \"@reduxjs/toolkit\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectUserData } from \"../../redux/auth/authSlice\";\nimport {\n  addItem,\n  resetAddStatus,\n  resetUpdateStatus,\n  selectItems,\n  updateItem,\n} from \"../../redux/items/itemsSlices\";\nimport {\n  addItemToWarehouse,\n  removeItemFromWarehouse,\n  selectMedicines,\n} from \"../../redux/medicines/medicinesSlices\";\nimport {\n  changeOnlineMsg,\n  selectOnlineStatus,\n} from \"../../redux/online/onlineSlice\";\n\n// components\nimport CardInfo from \"../../components/card-info/card-info.component\";\nimport Input from \"../../components/input/input.component\";\nimport Toast from \"../../components/toast/toast.component\";\nimport AddToCartModal from \"../../components/add-to-cart-modal/add-to-cart-modal.component\";\nimport OffersModal from \"../../components/offers-modal/offers-modal.component\";\nimport InputFileImage from \"../../components/input-file-image/input-file-image.component\";\nimport Button from \"../../components/button/button.component\";\nimport Loader from \"../../components/action-loader/action-loader.component\";\nimport Icon from \"../../components/action-icon/action-icon.component\";\nimport Header from \"../../components/header/header.component\";\nimport Modal from \"../../components/modal/modal.component\";\n\n// constants and utils\nimport { getIcon } from \"../../utils/icons\";\nimport {\n  Colors,\n  UserTypeConstants,\n  BASEURL,\n  SERVER_URL,\n  toEnglishNumber,\n} from \"../../utils/constants\";\n\n// icons\nimport { MdLocalOffer } from \"react-icons/md\";\nimport { RiRefreshLine } from \"react-icons/ri\";\n\n// styles\nimport generalStyles from \"../../style.module.scss\";\nimport styles from \"./item-page.module.scss\";\nimport rowStyles from \"../../components/row.module.scss\";\n\nfunction ItemPage() {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n\n  const history = useHistory();\n\n  const location = useLocation();\n\n  const { from, allowAction, type, itemId, companyId, warehouseId } =\n    location.state;\n\n  // selectors\n  const isOnline = useSelector(selectOnlineStatus);\n  const { user, token } = useSelector(selectUserData);\n  const { addStatus, updateStatus, changeLogoStatus } =\n    useSelector(selectItems);\n  const { addToWarehouseStatus, removeFromWarehouseStatus } =\n    useSelector(selectMedicines);\n\n  // own state\n  const [showAddToCartModal, setShowAddToCartModal] = useState(false);\n  const [showOfferModal, setShowOfferModal] = useState(false);\n  const [selectedWarehouseId, setSelectedWarehouseId] = useState(\"\");\n  const [allowEdit, setAllowEdit] = useState(false);\n  const [showUpdateConfirmModal, setShowUpdateConfirmModal] = useState(false);\n  const [loadingItem, setLoadingItem] = useState(\"idle\");\n  const [itemError, setItemError] = useState({});\n\n  const [item, setItem] = useState({\n    name: \"\",\n    caliber: \"\",\n    formula: \"\",\n    indication: \"\",\n    barcode: \"\",\n    composition: \"\",\n    packing: \"\",\n    price: 0,\n    customer_price: 0,\n  });\n\n  const handleInputChange = (e) => {\n    setItem({\n      ...item,\n      [e.target.id]:\n        e.target.id === \"price\" || e.target.id === \"customer_price\"\n          ? toEnglishNumber(e.target.value)\n          : e.target.value,\n    });\n\n    setItemError({\n      ...itemError,\n      [e.target.id]: \"\",\n    });\n  };\n\n  // handle to add item\n  // check the item name\n  // check the item trade name\n  // check the item caliber\n  // check the item category\n  // check the item type\n  const handleAddUpdateItem = () => {\n    const errorObj = {};\n\n    // item trade name must be not empty\n    if (item.name.length === 0) {\n      errorObj[\"name\"] = \"enter-item-trade-name\";\n    }\n\n    // item price must be not empty\n    if (item.price === 0 || !item.price) {\n      errorObj[\"price\"] = \"enter-price\";\n    }\n\n    // item customer price must be not empty\n    if (item.customer_price === 0 || !item.customer_price) {\n      errorObj[\"customer_price\"] = \"enter-customer-price\";\n    }\n\n    if (Object.entries(errorObj).length === 0) {\n      if (!isOnline) {\n        dispatch(changeOnlineMsg());\n        return;\n      }\n\n      // check if there is an error\n      let obj = {\n        ...item,\n      };\n\n      if (type === \"new\") {\n        // add a new item\n        obj = {\n          ...obj,\n          company: companyId,\n        };\n\n        dispatch(addItem({ obj, token }))\n          .then(unwrapResult)\n          .then((response) => {\n            history.push({\n              pathname: \"/item\",\n              state: {\n                from,\n                type: \"info\",\n                allowAction,\n                itemId: response.data.item._id,\n                companyId,\n                warehouseId,\n              },\n            });\n          })\n          .catch(() => {});\n      } else if (type === \"info\") {\n        // update an existing item\n        obj = {\n          ...obj,\n          _id: itemId,\n        };\n        // dispatch update item\n        dispatch(updateItem({ obj, token }))\n          .then(() => {\n            setShowUpdateConfirmModal(false);\n          })\n          .catch(() => {\n            setShowUpdateConfirmModal(false);\n          });\n      }\n    } else {\n      setItemError({\n        ...errorObj,\n      });\n      setShowUpdateConfirmModal(false);\n    }\n  };\n\n  // method to handle add item to warehouse\n  const addItemToWarehouseHandler = () => {\n    // check the internet connection\n    if (!isOnline) {\n      dispatch(changeOnlineMsg());\n      return;\n    }\n\n    dispatch(\n      addItemToWarehouse({\n        obj: {\n          itemId: itemId,\n          warehouseId: warehouseId,\n        },\n        token,\n      })\n    )\n      .then(unwrapResult)\n      .then(() => getItemFromDB())\n      .catch(() => {});\n  };\n\n  // method to handle remove item from warehouse\n  const removeItemFromWarehouseHandler = () => {\n    // check the internet connection\n    if (!isOnline) {\n      dispatch(changeOnlineMsg());\n      return;\n    }\n\n    dispatch(\n      removeItemFromWarehouse({\n        obj: {\n          itemId: itemId,\n          warehouseId: warehouseId,\n        },\n        token,\n      })\n    )\n      .then(unwrapResult)\n      .then(() => getItemFromDB())\n      .catch(() => {});\n  };\n\n  const getItemFromDB = useCallback(() => {\n    setLoadingItem(\"loading\");\n    axios\n      .get(`${BASEURL}/items/item/${itemId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((response) => {\n        setItem(response.data.data.item);\n        setLoadingItem(\"idle\");\n      })\n      .catch((err) => {\n        setLoadingItem(\"idle\");\n      });\n  });\n\n  useEffect(() => {\n    if (type === \"info\" && itemId) {\n      getItemFromDB();\n      window.scrollTo(0, 0);\n    }\n  }, [itemId, type]);\n\n  return user ? (\n    <>\n      <div className={generalStyles.container}>\n        <Header>\n          <h2>{item.name}</h2>\n          <div\n            style={{\n              position: \"absolute\",\n              top: \"16px\",\n              left: \"46px\",\n            }}\n          >\n            <Icon\n              selected={false}\n              foreColor={Colors.SECONDARY_COLOR}\n              tooltip={t(\"refresh-tooltip\")}\n              icon={() => <RiRefreshLine />}\n              onclick={() => {\n                if (type === \"info\" && itemId) {\n                  getItemFromDB();\n                  window.scrollTo(0, 0);\n                }\n              }}\n            />\n          </div>\n        </Header>\n\n        <div className={styles.content}>\n          <div\n            className={[\n              generalStyles.flex_center_container,\n              generalStyles.flex_column,\n              generalStyles.padding_v_6,\n              generalStyles.padding_h_12,\n            ].join(\" \")}\n          >\n            {changeLogoStatus === \"succeeded\" || changeLogoStatus === \"idle\" ? (\n              <div className={styles.logo}>\n                <img\n                  src={\n                    item.logo_url && item.logo_url !== \"\"\n                      ? `${SERVER_URL}/${item.logo_url}`\n                      : `${SERVER_URL}/medicine.jpeg`\n                  }\n                  alt=\"thumb\"\n                />\n              </div>\n            ) : null}\n\n            {allowAction && itemId && (\n              <div>\n                <InputFileImage\n                  type=\"item\"\n                  item={item}\n                  onchange={() => {\n                    getItemFromDB();\n                  }}\n                />\n              </div>\n            )}\n            {allowAction &&\n              (from === UserTypeConstants.COMPANY ||\n                from === UserTypeConstants.ADMIN) && (\n                <div className={generalStyles.margin_v_4}>\n                  <Button\n                    text={type === \"info\" ? t(\"update-item\") : t(\"add-item\")}\n                    bgColor={Colors.SUCCEEDED_COLOR}\n                    action={() => setShowUpdateConfirmModal(true)}\n                  />\n                </div>\n              )}\n\n            {/* show add-to-cart button, if the user's type is PHARMACY and the item is exist in any warehouse */}\n            {user.type === UserTypeConstants.PHARMACY &&\n              item.warehouses?.length > 0 && (\n                <div className={generalStyles.margin_v_4}>\n                  <Button\n                    text={t(\"add-to-cart\")}\n                    action={() => setShowAddToCartModal(true)}\n                    bgColor={Colors.SUCCEEDED_COLOR}\n                  />\n                </div>\n              )}\n\n            {user.type === UserTypeConstants.WAREHOUSE &&\n              (item.warehouses\n                ?.map((w) => w.warehouse._id)\n                .includes(user._id) ? (\n                <div className={generalStyles.margin_v_4}>\n                  <Button\n                    text={t(\"remove-from-warehouse\")}\n                    action={removeItemFromWarehouseHandler}\n                    bgColor={Colors.FAILED_COLOR}\n                  />\n                </div>\n              ) : (\n                <div className={generalStyles.margin_v_4}>\n                  <Button\n                    text={t(\"add-to-warehouse\")}\n                    action={addItemToWarehouseHandler}\n                    bgColor={Colors.SUCCEEDED_COLOR}\n                  />\n                </div>\n              ))}\n          </div>\n          <div className={styles.info}>\n            <CardInfo headerTitle={t(\"item-main-info\")}>\n              <Input\n                label=\"item-trade-name\"\n                id=\"name\"\n                type=\"text\"\n                value={item.name}\n                bordered={false}\n                icon={getIcon(\"medicine\")}\n                onchange={handleInputChange}\n                error={itemError.name?.length > 0}\n                readOnly={!allowAction}\n              />\n\n              <div className={styles.horizontal_div}></div>\n\n              <Input\n                label=\"item-formula\"\n                id=\"formula\"\n                type=\"text\"\n                value={item.formula}\n                bordered={false}\n                icon={getIcon(\"medicine\")}\n                onchange={handleInputChange}\n                error={itemError.formula?.length > 0}\n                readOnly={!allowAction}\n              />\n\n              <div className={styles.horizontal_div}></div>\n\n              <Input\n                label=\"item-caliber\"\n                id=\"caliber\"\n                type=\"text\"\n                value={item.caliber}\n                bordered={false}\n                icon={getIcon(\"medicine\")}\n                onchange={handleInputChange}\n                error={itemError.caliber?.length > 0}\n                readOnly={!allowAction}\n              />\n\n              <div className={styles.horizontal_div}></div>\n\n              <Input\n                label=\"item-packing\"\n                id=\"packing\"\n                type=\"text\"\n                value={item.packing}\n                bordered={false}\n                icon={getIcon(\"medicine\")}\n                onchange={handleInputChange}\n                error={itemError.packing?.length > 0}\n                readOnly={!allowAction}\n              />\n\n              <div className={styles.horizontal_div}></div>\n\n              <Input\n                label=\"item-barcode\"\n                id=\"barcode\"\n                type=\"text\"\n                value={item.barcode}\n                bordered={false}\n                icon={getIcon(\"medicine\")}\n                onchange={handleInputChange}\n                readOnly={!allowAction}\n              />\n            </CardInfo>\n\n            <CardInfo headerTitle={t(\"item-price\")}>\n              {user.type !== UserTypeConstants.GUEST && (\n                <div\n                  style={{\n                    width: \"300px\",\n                  }}\n                >\n                  <Input\n                    label=\"item-price\"\n                    id=\"price\"\n                    type=\"number\"\n                    value={item.price}\n                    bordered={false}\n                    icon={getIcon(\"price\")}\n                    onchange={handleInputChange}\n                    error={itemError.price?.length > 0}\n                    readOnly={!allowAction}\n                  />\n                </div>\n              )}\n\n              <div className={styles.horizontal_div}></div>\n              <div\n                style={{\n                  width: \"300px\",\n                }}\n              >\n                <Input\n                  label=\"item-customer-price\"\n                  id=\"customer_price\"\n                  type=\"number\"\n                  value={item.customer_price}\n                  bordered={false}\n                  icon={getIcon(\"price\")}\n                  onchange={handleInputChange}\n                  error={itemError.customer_price?.length > 0}\n                  readOnly={!allowAction}\n                />\n              </div>\n            </CardInfo>\n\n            <CardInfo headerTitle={t(\"item-composition\")}>\n              <div>\n                <textarea\n                  className={styles.textarea}\n                  placeholder={t(\"enter-composition\")}\n                  id=\"composition\"\n                  value={item.composition}\n                  onChange={handleInputChange}\n                  disabled={!allowAction}\n                />\n              </div>\n            </CardInfo>\n\n            <CardInfo headerTitle={t(\"item-indication\")}>\n              <div>\n                <textarea\n                  className={styles.textarea}\n                  placeholder={t(\"enter-indication\")}\n                  id=\"indication\"\n                  value={item.indication}\n                  onChange={handleInputChange}\n                  disabled={!allowAction}\n                />\n              </div>\n            </CardInfo>\n\n            {/* IF THE USER TYPE IS ADMIN */}\n            {/* show each warehouses */}\n            {item.warehouses?.length > 0 &&\n              user.type === UserTypeConstants.ADMIN && (\n                <CardInfo headerTitle={t(\"warehouses\")}>\n                  {item.warehouses.map((w, index) => (\n                    <div\n                      className={[\n                        rowStyles.container,\n                        rowStyles.without_box_shadow,\n                        generalStyles.padding_h_6,\n                      ].join(\" \")}\n                      key={index}\n                    >\n                      <label className={generalStyles.padding_v_6}>\n                        {w.warehouse.name}\n                      </label>\n\n                      <div\n                        className={generalStyles.icon}\n                        onClick={() => {\n                          setSelectedWarehouseId(w.warehouse._id);\n                          setAllowEdit(\n                            (user.type === UserTypeConstants.WAREHOUSE &&\n                              user._id === w.warehouse._id) ||\n                              (user.type === UserTypeConstants.ADMIN &&\n                                w.warehouse.allowAdmin)\n                          );\n                          setShowOfferModal(true);\n                        }}\n                      >\n                        <MdLocalOffer />\n                        <div className={generalStyles.tooltip}>\n                          {t(\"nav-offers\")}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </CardInfo>\n              )}\n\n            {/* IF USER TYPE IS PHARMACY */}\n            {/* show warehouses which are in the same city with user */}\n            {item.warehouses?.length > 0 &&\n              user.type === UserTypeConstants.PHARMACY && (\n                <CardInfo headerTitle={t(\"warehouses\")}>\n                  {item.warehouses\n                    .filter((w) => w.warehouse.city === user.city)\n                    .map((w, index) => (\n                      <div\n                        className={[\n                          rowStyles.container,\n                          rowStyles.without_box_shadow,\n                          generalStyles.padding_h_6,\n                        ].join(\" \")}\n                        key={index}\n                      >\n                        <label className={generalStyles.padding_v_6}>\n                          {w.warehouse.name}\n                        </label>\n\n                        <div\n                          className={generalStyles.icon}\n                          onClick={() => {\n                            setSelectedWarehouseId(w.warehouse._id);\n                            setAllowEdit(\n                              (user.type === UserTypeConstants.WAREHOUSE &&\n                                user._id === w.warehouse._id) ||\n                                (user.type === UserTypeConstants.ADMIN &&\n                                  w.warehouse.allowAdmin)\n                            );\n                            setShowOfferModal(true);\n                          }}\n                        >\n                          <MdLocalOffer />\n                          <div className={generalStyles.tooltip}>\n                            {t(\"nav-offers\")}\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                </CardInfo>\n              )}\n\n            {Object.entries(itemError).length > 0 && (\n              <ul className={styles.error_ul}>\n                {Object.keys(itemError).map((key) =>\n                  itemError[key].length > 0 ? (\n                    <li key={key}>{t(itemError[key])}</li>\n                  ) : null\n                )}\n              </ul>\n            )}\n          </div>\n        </div>\n      </div>\n      {changeLogoStatus === \"loading\" && <Loader allowCancel={false} />}\n\n      {addToWarehouseStatus === \"loading\" && <Loader allowCancel={false} />}\n      {removeFromWarehouseStatus === \"loading\" && (\n        <Loader allowCancel={false} />\n      )}\n      {(updateStatus === \"loading\" || loadingItem === \"loading\") && (\n        <Loader allowCancel={false} />\n      )}\n\n      {addStatus === \"succeeded\" && (\n        <Toast\n          bgColor={Colors.SUCCEEDED_COLOR}\n          foreColor=\"#fff\"\n          actionAfterTimeout={() => {\n            dispatch(resetAddStatus());\n          }}\n        >\n          <p>{t(\"add-item-succeeded\")}</p>\n        </Toast>\n      )}\n\n      {updateStatus === \"succeeded\" && (\n        <Toast\n          bgColor={Colors.SUCCEEDED_COLOR}\n          foreColor=\"#fff\"\n          actionAfterTimeout={() => {\n            dispatch(resetUpdateStatus());\n          }}\n        >\n          <p>{t(\"update-item-succeeded\")}</p>\n        </Toast>\n      )}\n\n      {showAddToCartModal && (\n        <AddToCartModal\n          item={item}\n          close={() => setShowAddToCartModal(false)}\n        />\n      )}\n\n      {showOfferModal && (\n        <OffersModal\n          token={token}\n          item={item}\n          warehouseId={selectedWarehouseId}\n          allowEdit={allowEdit}\n          close={() => {\n            setShowOfferModal(false);\n            setSelectedWarehouseId(\"\");\n            setAllowEdit(false);\n          }}\n          afterUpdateOffer={getItemFromDB}\n        />\n      )}\n\n      {showUpdateConfirmModal && (\n        <Modal\n          header={type === \"info\" ? \"update-item\" : \"add-item\"}\n          cancelLabel=\"cancel-label\"\n          okLabel=\"ok-label\"\n          closeModal={() => {\n            setShowUpdateConfirmModal(false);\n          }}\n          small={true}\n          okModal={handleAddUpdateItem}\n        >\n          {type === \"info\" ? (\n            <p>{t(\"update-item-confirm-msg\")}</p>\n          ) : (\n            <p>{t(\"add-item-confirm-msg\")}</p>\n          )}\n        </Modal>\n      )}\n    </>\n  ) : (\n    <Redirect to=\"/signin\" />\n  );\n}\n\nexport default ItemPage;\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;"],"names":["checkOfferQty","selectedWarehouse","qty","offer","offers","length","i","mode","OfferTypes","bonus","item","close","setAddItemToCartMsg","t","useTranslation","dispatch","useDispatch","useSelector","selectUserData","token","user","isOnline","selectOnlineStatus","itemWarehousesOption","warehouses","filter","w","warehouse","city","map","asterisk","label","name","value","_id","useState","setSelectedWarehouse","setOffer","setQty","qtyError","setQtyError","header","cancelLabel","okLabel","closeModal","okModal","maxQty","bonusQty","addItemToCart","bonusType","statisticsItemAddedToCart","obj","itemId","small","className","styles","bgColor","Colors","foreColor","options","onchange","val","find","defaultOption","onKeyPress","onKeyPressForNumberInput","onChange","e","Number","parseInt","toEnglishNumber","target","isNaN","o","index","style","padding","paddingLeft","headerTitle","children","type","expanded","setExpanded","join","onClick","readOnly","inputFileRef","React","generalStyles","current","click","disabled","multiple","accept","ref","event","uploadedFile","files","data","FormData","append","username","Date","now","split","pop","replace","changeLogo","then","unwrapResult","changeItemLogo","display","addHandler","deleteHandler","values","changeHandler","placeholder","quantityLabel","bonusLabel","afterQuantityLabel","afterBonusLabel","allowEdit","size","id","key","title","warehouseId","afterUpdateOffer","offerTypeError","setOfferTypeError","quantityOfferType","setQuantityOfferType","percentageOfferType","setPercentageOfferType","setValues","v","sort","a","b","offerObj","changeItemWarehouseOffer","handleOkButton","checked","color","uuidv4","updatedValues","history","useHistory","useLocation","state","from","allowAction","companyId","selectItems","addStatus","updateStatus","changeLogoStatus","selectMedicines","addToWarehouseStatus","removeFromWarehouseStatus","showAddToCartModal","setShowAddToCartModal","showOfferModal","setShowOfferModal","selectedWarehouseId","setSelectedWarehouseId","setAllowEdit","showUpdateConfirmModal","setShowUpdateConfirmModal","loadingItem","setLoadingItem","itemError","setItemError","caliber","formula","indication","barcode","composition","packing","price","customer_price","setItem","handleInputChange","getItemFromDB","useCallback","axios","BASEURL","headers","Authorization","response","catch","err","useEffect","window","scrollTo","position","top","left","selected","tooltip","icon","onclick","src","logo_url","SERVER_URL","alt","UserTypeConstants","text","action","includes","removeItemFromWarehouse","changeOnlineMsg","addItemToWarehouse","bordered","getIcon","error","width","rowStyles","allowAdmin","Object","entries","keys","allowCancel","actionAfterTimeout","resetAddStatus","resetUpdateStatus","errorObj","company","addItem","push","pathname","updateItem","to","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","uuid","REGEX","byteToHex","toString","substr","arr","offset","arguments","undefined","toLowerCase","validate","TypeError","buf","rnds","random","stringify"],"sourceRoot":""}