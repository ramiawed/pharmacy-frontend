"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[4813],{8845:function(e,n,a){a.d(n,{Z:function(){return s}});var t=a(885),r=a(2791),o=a(9126),l={small_font:"card-info_small_font__AusTH",card:"card-info_card__VcLb9",header:"card-info_header__uTcny",expanded:"card-info_expanded__IDH-A",warning:"card-info_warning__bmiK1"},i=a(3329);var s=function(e){var n=e.headerTitle,a=e.children,s=e.type,c=(0,r.useState)(!0),d=(0,t.Z)(c,2),u=d[0],f=d[1];return(0,i.jsxs)("div",{className:[l.card,"warning"===s?l.warning:null].join(" "),children:[(0,i.jsxs)("div",{onClick:function(){return f(!u)},className:[l.header,"warning"===s?l.warning:null,u?l.expanded:null].join(" "),children:[(0,i.jsx)("p",{children:n}),(0,i.jsx)("label",{className:l.header_label,onClick:function(){return f(!u)},children:u?(0,i.jsx)(o.jnn,{}):(0,i.jsx)(o.F0C,{})})]}),u&&(0,i.jsx)("div",{children:a})]})}},7575:function(e,n,a){a.d(n,{Z:function(){return s}});a(2791);var t="password-row_info_row__hPPMJ",r="password-row_label__NQCz5",o="password-row_value__15fz6",l="password-row_error__wTMqx",i=a(3329);var s=function(e){var n=e.labelText,a=e.value,s=e.onInputChange,c=e.field,d=e.error;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:t,children:[(0,i.jsx)("label",{className:r,children:n}),(0,i.jsx)("div",{className:o,children:(0,i.jsx)("input",{type:"password",value:a,onChange:function(e){return s(c,e.target.value)}})})]}),d?(0,i.jsx)("p",{className:l,children:d}):null]})}},4813:function(e,n,a){a.r(n),a.d(n,{default:function(){return we}});var t=a(4942),r=a(1413),o=a(885),l=a(2791),i=a(3168),s=a(9271),c=a(4569),d=a.n(c),u=a(6552),f=a(6030),_=a(3541),h=a(9488),x=a(2541),p=a(3585),g=a(3329);var m=function(){var e=(0,i.$)().t,n=(0,f.I0)(),a=(0,f.v9)(_.tT),t=a.changePasswordStatus,r=a.passwordError,o=a.changeLogoError,l=a.changeLogoStatus,s=a.updateStatus,c=a.updateError,d=a.deleteStatus,u=a.deleteError;return(0,g.jsxs)(g.Fragment,{children:["loading"===t&&(0,g.jsx)(x.Z,{allowCancel:!1}),"succeeded"===t&&(0,g.jsx)(h.Z,{bgColor:p.wL.SUCCEEDED_COLOR,foreColor:"#fff",actionAfterTimeout:function(){n((0,_.Gk)())},children:(0,g.jsx)("p",{children:e("password change succeeded")})}),r&&(0,g.jsx)(h.Z,{bgColor:p.wL.FAILED_COLOR,foreColor:"#fff",actionAfterTimeout:function(){return n((0,_.D2)())},children:r.split("_").map((function(n,a){return(0,g.jsx)("p",{children:e(n)},a)}))}),"succeeded"===s&&(0,g.jsx)(h.Z,{bgColor:p.wL.SUCCEEDED_COLOR,foreColor:"#fff",actionAfterTimeout:function(){n((0,_.uM)())},children:(0,g.jsx)("p",{children:e("update succeeded")})}),"failed"===s&&(0,g.jsx)(h.Z,{bgColor:p.wL.FAILED_COLOR,foreColor:"#fff",actionAfterTimeout:function(){n((0,_.x8)())},children:(0,g.jsx)("p",{children:e(c)})}),o&&(0,g.jsx)(h.Z,{bgColor:p.wL.FAILED_COLOR,foreColor:"#fff",actionAfterTimeout:function(){return n((0,_.lh)())},children:(0,g.jsx)("p",{children:e(o)})}),"loading"===l&&(0,g.jsx)(x.Z,{allowCancel:!0,onclick:function(){(0,_.iX)()}}),"loading"===d&&(0,g.jsx)(x.Z,{allowCancel:!1}),u&&(0,g.jsx)(h.Z,{bgColor:p.wL.FAILED_COLOR,foreColor:"#fff",actionAfterTimeout:function(){return n((0,_.Zw)())},children:(0,g.jsx)("p",{children:e(u)})})]})},w=a(3229),j=a(6886),b=a(8785),v=a(6425),Z=a(7575),C=a(1176);var y=function(){var e=(0,i.$)().t,n=(0,f.I0)(),a=(0,f.v9)(_.tT).token,s=(0,f.v9)(v.VY),c=(0,l.useState)({oldPassword:"",newPassword:"",newPasswordConfirm:""}),d=(0,o.Z)(c,2),u=d[0],h=d[1],x=(0,l.useState)({oldPassword:"",newPassword:"",newPasswordConfirm:""}),p=(0,o.Z)(x,2),m=p[0],w=p[1],j=function(e,n){h((0,r.Z)((0,r.Z)({},u),{},(0,t.Z)({},e,n))),w((0,r.Z)((0,r.Z)({},m),{},(0,t.Z)({},e,"")))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Z.Z,{field:"oldPassword",labelText:e("old password"),value:u.oldPassword,onInputChange:j,error:e(m.oldPassword)}),(0,g.jsx)(Z.Z,{field:"newPassword",labelText:e("new password"),value:u.newPassword,onInputChange:j,error:e(m.newPassword)}),(0,g.jsx)(Z.Z,{field:"newPasswordConfirm",labelText:e("password confirm"),value:u.newPasswordConfirm,onInputChange:j,error:e(m.newPasswordConfirm)}),(0,g.jsx)("div",{className:["flex_center_container"].join(" "),style:{padding:"6px 0"},children:(0,g.jsx)(C.Z,{text:"change password",action:function(){var e={};0===u.oldPassword.length&&(e=(0,r.Z)((0,r.Z)({},e),{},{oldPassword:"enter old password error"})),u.newPassword.length<5&&(e=(0,r.Z)((0,r.Z)({},e),{},{newPassword:"password length error"})),0===u.newPassword.length&&(e=(0,r.Z)((0,r.Z)({},e),{},{newPassword:"enter password error"})),u.newPassword!==u.newPasswordConfirm&&(e=(0,r.Z)((0,r.Z)({},e),{},{newPasswordConfirm:"unequal passwords error"})),u.newPasswordConfirm.length<5&&(e=(0,r.Z)((0,r.Z)({},e),{},{newPasswordConfirm:"confirm password length error"})),0===u.newPasswordConfirm.length&&(e=(0,r.Z)((0,r.Z)({},e),{},{newPasswordConfirm:"enter password confirm error"})),0===Object.entries(e).length?s?n((0,_.F0)({obj:u,token:a})).then(b.SI).then((function(){h({oldPassword:"",newPassword:"",newPasswordConfirm:""})})):n((0,v.Rb)()):w((0,r.Z)((0,r.Z)({},m),e))},classStyle:"bg_green"})})]})},S=a(7226),A="select_order_container__1drxf";var T=function(e){var n=e.bgColor,a=e.foreColor,t=e.options,o=e.onchange,l=e.defaultOption,i={control:function(e,a){return(0,r.Z)((0,r.Z)({},e),{},{background:"#fff",borderColor:n,color:n,minHeight:"35px",height:"40px",maxHeight:"100px",boxShadow:(a.isFocused,null),borderRadius:"6px",flex:1})},menu:function(e,a){return(0,r.Z)((0,r.Z)({},e),{},{background:n,zIndex:15,maxHeight:"20px"})},option:function(e,t){return(0,r.Z)((0,r.Z)({},e),{},{color:t.isSelected?n:a,background:t.isSelected?a:n,height:"36px",fontSize:"16px"})},valueContainer:function(e,n){return(0,r.Z)((0,r.Z)({},e),{},{height:"30px",padding:"0 6px",fontSize:"16px",color:p.wL.MAIN_COLOR})},input:function(e,n){return(0,r.Z)((0,r.Z)({},e),{},{margin:"0px"})},indicatorSeparator:function(e){return{display:"none,"}},indicatorsContainer:function(e,n){return(0,r.Z)((0,r.Z)({},e),{},{height:"30px"})}};return(0,g.jsx)("div",{className:A,children:(0,g.jsx)(S.ZP,{styles:i,options:t,defaultValue:l,onChange:function(e){return o(e.value)}})})};var N,I=function(e){var n=e.onSelectionChange,a=e.defaultValue,t=(e.caption,(0,i.$)().t),r=[{value:p.zx.ALL,label:t("all-cities")},{value:p.zx.ALEPPO,label:t("aleppo")},{value:p.zx.DAMASCUS,label:t("damascus")},{value:p.zx.DARAA,label:t("daraa")},{value:p.zx.DEIR_EZ_ZOR,label:t("deir_ez_zor")},{value:p.zx.HAMA,label:t("hama")},{value:p.zx.AL_HASAKAH,label:t("al_hasakah")},{value:p.zx.HOMS,label:t("homs")},{value:p.zx.IDLIB,label:t("idlib")},{value:p.zx.LATAKIA,label:t("latakia")},{value:p.zx.QUNEITRA,label:t("quneitra")},{value:p.zx.RAQQA,label:t("raqqa")},{value:p.zx.AL_SUWAYDA,label:t("al_suwayda")},{value:p.zx.TARTUS,label:t("tartus")},{value:p.zx.DAMASCUS_COUNTRYSIDE,label:t("damascus_countryside")}];return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(T,{bgColor:p.wL.LIGHT_COLOR,foreColor:"#fff",options:r,onchange:n,defaultOption:a})})},L="editable-city_info_row__yY+WJ",P="editable-city_label__thlwD",D="editable-city_value__CbTny",O="editable-city_error__uShGg",k="editable-city_actions__wrCrj";var E=function(e){var n=e.labelText,a=e.value,t=e.onInputChange,r=e.action,s=e.field,c=e.editable,d=(0,i.$)().t,u=(0,l.useState)(a),f=(0,o.Z)(u,2),h=f[0],x=(f[1],(0,l.useState)(!1)),p=(0,o.Z)(x,2),m=p[0],w=p[1],j=(0,l.useState)(""),v=(0,o.Z)(j,2),Z=v[0],y=v[1],S=(0,l.useState)(!1),A=(0,o.Z)(S,2),T=A[0],E=A[1],R=function(){E(!1),w(!1),y(""),t(h.value),(0,_.iX)()};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:L,children:[(0,g.jsx)("label",{className:P,children:n}),m?(0,g.jsx)("div",{className:D,children:(0,g.jsx)(I,{onSelectionChange:t,defaultValue:a,caption:""})}):(0,g.jsx)("div",{className:D,children:(0,g.jsx)("label",{children:a.label})}),c?m?(0,g.jsxs)("div",{className:k,children:[(0,g.jsx)(C.Z,{text:"ok-label",action:function(){E(!0),(N=r())?N.then(b.SI).then((function(e){w(!1),E(!1)})).catch((function(e){y(e.message?e.message:e),E(!1),e.message||(w(!1),y(""),t(s,h))})):R()},classStyle:"bg_light",loading:T}),(0,g.jsx)("div",{style:{minWidth:"10px"}}),(0,g.jsx)(C.Z,{text:"cancel",action:R,classStyle:"bg_red"})]}):(0,g.jsx)(g.Fragment,{}):null]}),Z&&"cancel"!==Z&&"timeout"!==Z&&(0,g.jsx)("p",{className:O,children:d(Z)})]})},R=a(8845),z=a(1360),F=a(6201),H=a(3502),M=a(8218),V=a(3268),Y=a(3107),U=a(3666),W=a(6523),K=a(3994),J=a(2200),q=a(4613),Q=a(2989),$=a(6341),G=a(7859),B=a(6527),X=a(9220),ee=a(1896),ne=a(6481),ae=a(8236),te=a(8682),re=a(4618),oe=a(6501),le=a(1650);var ie,se=function(){var e=(0,i.$)().t,n=(0,f.v9)(v.VY),a=(0,f.v9)(_.tT),t=a.token,r=a.deleteError,s=(0,f.I0)(),c=(0,l.useState)(""),d=(0,o.Z)(c,2),u=d[0],h=d[1],x=(0,l.useState)(""),p=(0,o.Z)(x,2),m=p[0],w=p[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Z.Z,{labelText:e("password"),field:"deletePassword",value:u,onInputChange:function(e,n){h(n),w("")},error:e(m)}),(0,g.jsx)(le.Z,{children:(0,g.jsx)(C.Z,{text:"delete user",action:function(){0!==u.length?n?s((0,_.Vp)({obj:{password:u},token:t})).then(b.SI).then((function(){s((0,_.bN)()),s((0,Y.PZ)()),s((0,H.Qn)()),s((0,F.Ln)()),s((0,V.Vd)()),s((0,K.aK)()),s((0,z.aC)()),s((0,M.XK)()),s((0,U.CQ)()),s((0,W.Pl)()),s((0,J.jL)()),s((0,q.Vx)()),s((0,Q.EP)()),s((0,$.On)()),s((0,G.Dq)()),s((0,B.VD)()),s((0,X.ZZ)()),s((0,W.hv)()),s((0,ee.Yh)()),s((0,ne.eJ)()),s((0,ae.pt)()),s((0,te.vj)()),s((0,re.GA)()),s((0,oe.K_)()),localStorage.removeItem("token")})).catch((function(){w(e(r))})):s((0,v.Rb)()):w("enter password error")},classStyle:"bg_red"})})]})},ce={small_font:"info-row_small_font__KBiJc",info_row:"info-row_info_row__gsWbt",label:"info-row_label__FL2z8",value:"info-row_value__YYJJM",error:"info-row_error__zMDV7",actions:"info-row_actions__SrOEk"};var de=function(e){var n=e.labelText,a=e.value,t=e.onInputChange,r=e.action,s=e.field,c=e.editable,d=(0,i.$)().t,u=(0,l.useState)(""),f=(0,o.Z)(u,2),h=f[0],x=f[1],p=(0,l.useState)(!1),m=(0,o.Z)(p,2),w=m[0],j=m[1],v=(0,l.useState)(""),Z=(0,o.Z)(v,2),y=Z[0],S=Z[1],A=(0,l.useState)(!1),T=(0,o.Z)(A,2),N=T[0],I=T[1],L=function(){a!==h?"name"!==s&&"username"!==s&&"mobile"!==s||""!==a?(I(!0),(ie=r())?ie.then(b.SI).then((function(e){j(!1),I(!1)})).catch((function(e){S(e.message?e.message:e),I(!1),e.message||(j(!1),S(""),t(s,h))})):P()):S("enter value"):j(!1)},P=function(){I(!1),j(!1),S(""),t(s,h),(0,_.iX)()};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:ce.info_row,onDoubleClick:function(){c&&(j(!0),x(a))},children:[(0,g.jsx)("label",{className:[ce.label,"fc_light"].join(" "),children:n}),w?(0,g.jsx)("div",{className:[ce.value,"fc_dark"].join(" "),children:(0,g.jsx)("input",{className:"fc_dark",value:a,onChange:function(e){t(s,e.target.value),S("")},onKeyPress:function(e){"Enter"===e.key&&L()},onKeyDown:function(e){"Escape"===e.key&&P()}})}):(0,g.jsx)("div",{className:[ce.value,"fc_dark"].join(" "),children:(0,g.jsx)("label",{children:a})}),c?w?(0,g.jsxs)("div",{className:ce.actions,children:[(0,g.jsx)(C.Z,{text:"ok",action:L,classStyle:"bg_light",loading:N}),(0,g.jsx)(C.Z,{text:"cancel",action:P,classStyle:"bg_red"})]}):(0,g.jsx)("div",{className:"flex_center_container",children:(0,g.jsx)(C.Z,{text:"update",action:function(){j(!0),x(a)},classStyle:"bg_green"})}):null]}),y&&"cancel"!==y&&"timeout"!==y&&(0,g.jsx)("p",{className:ce.error,children:d(y)})]})},ue=a(1061),fe="user-profile-page_content__Z9PNk",_e="user-profile-page_image_container__8dehf",he="user-profile-page_info__ks7xD",xe="user-profile-page_logo__SGRns",pe="user-profile-page_hide__JdwJR",ge=a(4131),me=a(9126);var we=function(e){var n,a,c=e.onSelectedChange,b=(0,i.$)().t,Z=(0,f.I0)(),S=l.useRef(null),A=(0,f.v9)(v.VY),T=(0,f.v9)(_.tT),N=T.token,I=T.user,L=(0,l.useState)({}),P=(0,o.Z)(L,2),D=P[0],O=P[1],k=(0,l.useState)(!1),z=(0,o.Z)(k,2),F=z[0],H=z[1],M=(0,l.useState)(""),V=(0,o.Z)(M,2),Y=V[0],U=V[1],W=function(e,n){O((0,r.Z)((0,r.Z)({},D),{},(0,t.Z)({},e,n)))},K=function(e){if(A)return Z((0,_.gS)({obj:(0,t.Z)({},e,D[e]),token:N}));Z((0,v.Rb)())},J=function(){d().get("".concat(p.Hc,"/users/me"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){O(e.data.data.user)}))};return(0,l.useEffect)((function(){J(),window.scrollTo(0,0),c()}),[]),I?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ue.Z,{title:"profile"}),(0,g.jsxs)(w.Z,{children:[(0,g.jsxs)("div",{className:fe,children:[(0,g.jsxs)("div",{className:_e,children:[(0,g.jsx)("div",{className:xe,children:(0,g.jsx)("img",{src:D.logo_url&&""!==D.logo_url?"".concat(p.LB,"/profiles/").concat(D.logo_url):u,alt:"thumb"})}),(0,g.jsx)("div",{className:pe,children:(0,g.jsx)("form",{encType:"multipart/form-data",children:(0,g.jsx)("div",{children:(0,g.jsx)("input",{type:"file",name:"file",onChange:function(e){if(e.target.files[0])if(parseFloat(e.target.files[0].size/1024).toFixed(2)<512){H(!0);var n=new FormData;n.append("file",e.target.files[0]);var a={headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(N)}};d().post("".concat(p.Hc,"/users/upload"),n,a).then((function(e){Z((0,_.Aj)(e.data.data.name)),J(),H(!1)}))}else U("image-size-must-be-less-than")},ref:S,stye:{display:"none"},accept:"image/png, image/gif, image/jpeg"})})})}),(0,g.jsx)("div",{children:(0,g.jsx)(j.Z,{text:b("change logo"),action:function(){S.current.click()},bgColor:p.wL.MAIN_COLOR,icon:function(){return(0,g.jsx)(me.Eno,{})}})})]}),(0,g.jsxs)("div",{className:he,children:[(0,g.jsxs)(R.Z,{headerTitle:b("personal info"),children:[(0,g.jsx)(de,{editable:!0,field:"name",labelText:b("name"),value:D.name,onInputChange:W,action:function(){return K("name")}}),(0,g.jsx)(de,{editable:!0,field:"username",labelText:b("username"),value:D.username,onInputChange:W,action:function(){return K("username")}}),(0,g.jsx)(de,{editable:!1,labelText:b("user type"),value:b(D.type),onInputChange:W})]}),(0,g.jsxs)(R.Z,{headerTitle:b("communication info"),children:[(0,g.jsx)(de,{editable:!0,field:"phone",labelText:b("phone"),value:D.phone,onInputChange:W,action:function(){return K("phone")}}),(0,g.jsx)(de,{editable:!0,field:"mobile",labelText:b("mobile"),value:D.mobile,onInputChange:W,action:function(){return K("mobile")}}),(0,g.jsx)(de,{editable:!0,field:"email",labelText:b("email"),value:D.email,onInputChange:W,action:function(){return K("email")}})]}),(0,g.jsxs)(R.Z,{headerTitle:b("address"),children:[(0,g.jsx)(E,{editable:!0,field:"city",labelText:b("city"),value:{value:D.city,label:b(D.city)},onInputChange:function(e){O((0,r.Z)((0,r.Z)({},D),{},{city:e}))},action:function(){return K("city")}}),(0,g.jsx)(de,{editable:!0,field:"addressDetails",labelText:b("address"),value:D.addressDetails,onInputChange:W,action:function(){return K("addressDetails")}})]}),I.type===p.Wl.PHARMACY||I.type===p.Wl.WAREHOUSE?(0,g.jsxs)(R.Z,{headerTitle:b("additional info"),children:[(0,g.jsx)(de,{editable:!0,field:"employeeName",labelText:b("employee name"),value:D.employeeName,onInputChange:W,action:function(){return K("employeeName")}}),(0,g.jsx)(de,{editable:!0,field:"certificateName",labelText:b("certificate name"),value:D.certificateName,onInputChange:W,action:function(){return K("certificateName")}})]}):(0,g.jsx)(g.Fragment,{}),I.type===p.Wl.GUEST?(0,g.jsxs)(R.Z,{headerTitle:b("additional info"),children:[(0,g.jsx)(de,{editable:!0,field:"guestDetails.job",labelText:b("job"),value:b(null===(n=D.guestDetails)||void 0===n?void 0:n.job),onInputChange:W,action:function(){return K("guestDetails.job")}}),(0,g.jsx)(de,{editable:!0,field:"guestDetails.companyName",labelText:b("company"),value:null===(a=D.guestDetails)||void 0===a?void 0:a.companyName,onInputChange:W,action:function(){return K("guestDetails.companyName")}})]}):(0,g.jsx)(g.Fragment,{}),(0,g.jsx)(R.Z,{headerTitle:b("change password"),children:(0,g.jsx)(y,{})}),(I.type===p.Wl.COMPANY||I.type===p.Wl.WAREHOUSE)&&(0,g.jsx)(R.Z,{headerTitle:b("admin permission"),bgColor:p.wL.FAILED_COLOR,children:(0,g.jsxs)("div",{className:[ge.Z.container,ge.Z.without_box_shadow].join(" "),style:{padding:"0 12px"},children:[(0,g.jsx)("input",{type:"checkbox",value:D.allowAdmin,onChange:function(e){return W("allowAdmin",!D.allowAdmin)},checked:D.allowAdmin}),(0,g.jsx)("label",{className:"right",style:{flex:"1"},children:b("admin-permission-label")}),(0,g.jsx)(C.Z,{text:"update",action:function(){return K("allowAdmin")},classStyle:"bg_green"})]})}),(0,g.jsx)(R.Z,{headerTitle:b("delete user"),bgColor:p.wL.FAILED_COLOR,type:"warning",children:(0,g.jsx)(se,{})})]})]}),Y&&(0,g.jsx)(h.Z,{bgColor:p.wL.FAILED_COLOR,foreColor:"#fff",actionAfterTimeout:function(){U("")},children:(0,g.jsx)("p",{children:b("image-size-must-be-less-than")})}),(0,g.jsx)(m,{})]}),F&&(0,g.jsx)(x.Z,{})]}):(0,g.jsx)(s.l_,{to:"/"})}},4131:function(e,n){n.Z={small_font:"row_small_font__QRZyr",container:"row_container__Y6btC",search_container:"row_search_container__+3nD0",without_box_shadow:"row_without_box_shadow__nNFVn",error:"row_error__ndRw+",align_start:"row_align_start__o1AI5",hover_underline:"row_hover_underline__cCk90",padding_start:"row_padding_start__qzXL4",padding_end:"row_padding_end__w2Kek",padding_all:"row_padding_all__qiAwy",full_width:"row_full_width__fyOgl",icon:"row_icon__nyfpJ",cart_icon:"row_cart_icon__evv2R",input:"row_input__mnhz8"}},6552:function(e,n,a){e.exports=a.p+"static/media/transparent_logo.7dc40fbb56f0f84914ce.png"}}]);
//# sourceMappingURL=4813.1ff6e00e.chunk.js.map