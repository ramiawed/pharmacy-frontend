{"version":3,"file":"static/js/7935.027c297b.chunk.js","mappings":"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","sources":["webpack://pharmacy-frontend/./src/components/header/header.module.scss?fd78","components/header/header.component.jsx","webpack://pharmacy-frontend/./src/components/main-content-container/main-content-container.module.scss?3a38","components/main-content-container/main-content-container.component.jsx","webpack://pharmacy-frontend/./src/components/backup-restore-section/backup-restore-section.module.scss?ef76","components/backup-restore-section/backup-restore-section.component.jsx","webpack://pharmacy-frontend/./src/pages/backup-restore-page/backup-restore-page.module.scss?49eb","pages/backup-restore-page/backup-restore-page.component.jsx","../node_modules/file-saver/src/FileSaver.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"small_font\":\"header_small_font__+3f02\",\"header\":\"header_header__MhatS\"};","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useHistory } from \"react-router-dom\";\n\n// components\nimport Icon from \"../icon/icon.component\";\n\n// icons\nimport { IoMdArrowRoundBack } from \"react-icons/io\";\nimport { RiRefreshLine } from \"react-icons/ri\";\n\n// constants\nimport { Colors } from \"../../utils/constants\";\n\n// style\nimport styles from \"./header.module.scss\";\n\nfunction Header({ refreshHandler, title, count }) {\n  const history = useHistory();\n  const { t } = useTranslation();\n\n  return (\n    <div className={styles.header}>\n      <p>\n        {t(title)}\n        {count ? <span>{count}</span> : \"\"}\n      </p>\n      {refreshHandler && (\n        <Icon\n          selected={false}\n          foreColor={Colors.WHITE_COLOR}\n          tooltip={t(\"refresh\")}\n          onclick={refreshHandler}\n          icon={() => <RiRefreshLine />}\n        />\n      )}\n      <Icon\n        onclick={() => {\n          history.goBack();\n        }}\n        icon={() => <IoMdArrowRoundBack />}\n        foreColor={Colors.WHITE_COLOR}\n      />\n    </div>\n  );\n}\n\nexport default Header;\n","// extracted by mini-css-extract-plugin\nexport default {\"main_content_container\":\"main-content-container_main_content_container__Aihvg\"};","import React from \"react\";\n\nimport styles from \"./main-content-container.module.scss\";\n\nconst MainContentContainer = ({ children }) => {\n  return <div className={styles.main_content_container}>{children}</div>;\n};\n\nexport default MainContentContainer;\n","// extracted by mini-css-extract-plugin\nexport default {\"small_font\":\"backup-restore-section_small_font__fbH6j\",\"listItem\":\"backup-restore-section_listItem__xyr-5\",\"backup_button\":\"backup-restore-section_backup_button__0xTgH\",\"restore_button\":\"backup-restore-section_restore_button__moAwA\"};","import React, { useRef, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport axios from \"axios\";\nimport * as FileSaver from \"file-saver\";\n\n// components\nimport Loader from \"../action-loader/action-loader.component\";\nimport Modal from \"../../modals/modal/modal.component\";\nimport Toast from \"../toast/toast.component\";\nimport Icon from \"../icon/icon.component\";\n\n// redux stuff\nimport { useSelector } from \"react-redux\";\nimport { selectToken } from \"../../redux/auth/authSlice\";\n\n// styles\nimport styles from \"./backup-restore-section.module.scss\";\n\n// constants\nimport { Colors } from \"../../utils/constants\";\n\n// icons\nimport { RiDeleteBin5Fill } from \"react-icons/ri\";\n\nconst BackupRestoreSection = ({ title, backupFromUrl, restoreToUrl }) => {\n  const { t } = useTranslation();\n  const token = useSelector(selectToken);\n  const inputFileRef = useRef(null);\n\n  const fileType = \"application/json\";\n  const fileExtension = \".json\";\n\n  const [data, setData] = useState([]);\n  const [stage, setStage] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [successMsg, setSuccessMsg] = useState(\"\");\n  const [failedMsg, setFailedMsg] = useState(\"\");\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\n  const [showConfirmCancelRestoreModel, setShowConfirmCancelRestoreModel] =\n    useState(false);\n\n  const numberOfStage = Math.ceil(data.length / 500);\n\n  const restoreHandler = async () => {\n    const startIndex = stage * 500;\n    const endIndex = startIndex + 500;\n    const partOfData = data.slice(startIndex, endIndex);\n\n    setLoading(true);\n\n    await axios\n      .post(\n        restoreToUrl,\n        { partOfData, rest: stage === 0 },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      )\n      .then(() => {\n        setLoading(false);\n        setStage((prev) => prev + 1);\n        setSuccessMsg(\"success\");\n      })\n      .catch(() => {\n        setLoading(false);\n        setFailedMsg(\"failed\");\n      });\n  };\n\n  const exportToCSV = async (fileName) => {\n    setLoading(true);\n    await axios\n      .get(backupFromUrl, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then(async (response) => {\n        const data = new Blob([JSON.stringify(response.data.data.data)], {\n          type: fileType,\n        });\n\n        FileSaver.saveAs(data, fileName + fileExtension);\n        setLoading(false);\n      });\n  };\n\n  const handleFileChange = (event) => {\n    const uploadedFile = event.target.files[0];\n    setStage(0);\n    setData([]);\n    if (uploadedFile) {\n      setLoading(true);\n      const fileReader = new FileReader();\n\n      fileReader.onload = async function () {\n        let response = JSON.parse(fileReader.result);\n        if (title === \"partners\")\n          response = response.map((res) => {\n            return {\n              ...res,\n              passwordConfirm: res.password,\n            };\n          });\n\n        setData(response);\n        setLoading(false);\n      };\n\n      fileReader.readAsText(uploadedFile, \"UTF-8\");\n    }\n  };\n\n  const handleClick = () => {\n    inputFileRef.current.click();\n  };\n\n  return (\n    <>\n      <li className={styles.listItem}>\n        <label>{t(title)}</label>\n        <button\n          className={styles.backup_button}\n          onClick={() => {\n            setShowConfirmModal(true);\n          }}\n        >\n          {t(\"backup button\")}\n        </button>\n        <button className={styles.restore_button} onClick={() => handleClick()}>\n          {t(\"restore button\")}\n        </button>\n        {data.length > 0 ? (\n          stage < numberOfStage ? (\n            <>\n              <button\n                className={styles.restore_button}\n                onClick={restoreHandler}\n              >\n                {stage + 1} {t(\"from\")} {numberOfStage}\n              </button>\n              <label>\n                {t(\"you have finish all the stage to restore all information\")}\n              </label>\n              <Icon\n                icon={() => <RiDeleteBin5Fill size={24} />}\n                onclick={() => {\n                  setShowConfirmCancelRestoreModel(true);\n                }}\n                tooltip={t(\"cancel restore operation\")}\n                foreColor={Colors.FAILED_COLOR}\n              />\n            </>\n          ) : (\n            <label>{t(\"restore completed\")}</label>\n          )\n        ) : (\n          <></>\n        )}\n      </li>\n\n      <input\n        type=\"file\"\n        accept=\"application/JSON\"\n        ref={inputFileRef}\n        onChange={handleFileChange}\n        style={{ display: \"none\" }}\n      />\n\n      {loading && (\n        <Loader\n          onclick={() => {}}\n          allowCancel={false}\n          msg1=\"it will takes some time to finish the operation\"\n          msg2=\"please wait\"\n        />\n      )}\n      {successMsg.length > 0 && (\n        <Toast\n          bgColor={Colors.SUCCEEDED_COLOR}\n          foreColor={Colors.WHITE_COLOR}\n          toastText={t(successMsg)}\n          actionAfterTimeout={() => setSuccessMsg(\"\")}\n        />\n      )}\n\n      {failedMsg.length > 0 && (\n        <Toast\n          bgColor={Colors.FAILED_COLOR}\n          foreColor={Colors.WHITE_COLOR}\n          toastText={t(failedMsg)}\n          actionAfterTimeout={() => setFailedMsg(\"\")}\n        />\n      )}\n\n      {showConfirmModal && (\n        <Modal\n          header=\"backup header\"\n          cancelLabel=\"close\"\n          okLabel=\"ok\"\n          closeModal={() => {\n            setShowConfirmModal(false);\n          }}\n          small={true}\n          okModal={() => {\n            setShowConfirmModal(false);\n            exportToCSV(`${title}-${Date.now()}`);\n          }}\n          color={Colors.MAIN_COLOR}\n        >\n          <p>{t(\"do you want to take a backup of this section\")}</p>\n        </Modal>\n      )}\n\n      {showConfirmCancelRestoreModel && (\n        <Modal\n          header=\"backup header\"\n          cancelLabel=\"close\"\n          okLabel=\"ok\"\n          closeModal={() => {\n            setShowConfirmCancelRestoreModel(false);\n          }}\n          small={true}\n          okModal={() => {\n            setShowConfirmCancelRestoreModel(false);\n            setData([]);\n            setStage(0);\n          }}\n          color={Colors.MAIN_COLOR}\n        >\n          <p>{t(\"cancel restore operation msg\")}</p>\n        </Modal>\n      )}\n    </>\n  );\n};\n\nexport default BackupRestoreSection;\n","// extracted by mini-css-extract-plugin\nexport default {\"small_font\":\"backup-restore-page_small_font__l8fJf\",\"header\":\"backup-restore-page_header__2lYgH\",\"ul\":\"backup-restore-page_ul__ZuxvP\"};","import React from \"react\";\n\n// components\nimport BackupRestoreSection from \"../../components/backup-restore-section/backup-restore-section.component\";\nimport MainContentContainer from \"../../components/main-content-container/main-content-container.component\";\nimport Header from \"../../components/header/header.component\";\n\n// styles\nimport styles from \"./backup-restore-page.module.scss\";\n\n// constants\nimport { BASEURL } from \"../../utils/constants\";\n\nfunction BackupRestorePage() {\n  return (\n    <>\n      <Header title=\"backup and restore\" />\n\n      <MainContentContainer>\n        <ul className={styles.ul}>\n          {/* users */}\n          <BackupRestoreSection\n            title=\"partners\"\n            backupFromUrl={`${BASEURL}/users/all`}\n            restoreToUrl={`${BASEURL}/users/restore`}\n          />\n\n          {/* items */}\n          <BackupRestoreSection\n            title=\"items\"\n            backupFromUrl={`${BASEURL}/items/all`}\n            restoreToUrl={`${BASEURL}/items/restore`}\n          />\n\n          {/* notifications */}\n          <BackupRestoreSection\n            title=\"notifications\"\n            backupFromUrl={`${BASEURL}/notifications/all`}\n            restoreToUrl={`${BASEURL}/notifications/restore`}\n          />\n\n          {/* advertisements */}\n          <BackupRestoreSection\n            title=\"advertisements\"\n            backupFromUrl={`${BASEURL}/advertisement/all`}\n            restoreToUrl={`${BASEURL}/advertisement/restore`}\n          />\n\n          {/* settings */}\n          <BackupRestoreSection\n            title=\"settings\"\n            backupFromUrl={`${BASEURL}/settings/all`}\n            restoreToUrl={`${BASEURL}/settings/restore`}\n          />\n\n          {/* orders */}\n          <BackupRestoreSection\n            title=\"baskets\"\n            backupFromUrl={`${BASEURL}/baskets/all`}\n            restoreToUrl={`${BASEURL}/baskets/restore`}\n          />\n\n          {/* orders */}\n          <BackupRestoreSection\n            title=\"orders\"\n            backupFromUrl={`${BASEURL}/orders/all`}\n            restoreToUrl={`${BASEURL}/orders/restore`}\n          />\n\n          {/* special orders */}\n          <BackupRestoreSection\n            title=\"special orders\"\n            backupFromUrl={`${BASEURL}/ordered-baskets/all`}\n            restoreToUrl={`${BASEURL}/ordered-baskets/restore`}\n          />\n\n          {/* favorites */}\n          <BackupRestoreSection\n            title=\"favorites\"\n            backupFromUrl={`${BASEURL}/favorites/all`}\n            restoreToUrl={`${BASEURL}/favorites/restore`}\n          />\n\n          {/* saved items */}\n          <BackupRestoreSection\n            title=\"saved items\"\n            backupFromUrl={`${BASEURL}/savedItems/all`}\n            restoreToUrl={`${BASEURL}/savedItems/restore`}\n          />\n\n          {/* statistics */}\n          <BackupRestoreSection\n            title=\"statistics\"\n            backupFromUrl={`${BASEURL}/statistics/all`}\n            restoreToUrl={`${BASEURL}/statistics/restore`}\n          />\n        </ul>\n      </MainContentContainer>\n    </>\n  );\n}\n\nexport default BackupRestorePage;\n","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nvar isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n"],"names":["refreshHandler","title","count","history","useHistory","t","useTranslation","className","styles","selected","foreColor","Colors","tooltip","onclick","icon","goBack","children","backupFromUrl","restoreToUrl","token","useSelector","selectToken","inputFileRef","useRef","useState","data","setData","stage","setStage","loading","setLoading","successMsg","setSuccessMsg","failedMsg","setFailedMsg","showConfirmModal","setShowConfirmModal","showConfirmCancelRestoreModel","setShowConfirmCancelRestoreModel","numberOfStage","Math","ceil","length","restoreHandler","endIndex","startIndex","partOfData","slice","axios","rest","headers","Authorization","then","prev","catch","exportToCSV","fileName","response","Blob","JSON","stringify","type","FileSaver","onClick","current","click","size","accept","ref","onChange","event","uploadedFile","target","files","fileReader","FileReader","onload","parse","result","map","res","passwordConfirm","password","readAsText","style","display","allowCancel","msg1","msg2","bgColor","toastText","actionAfterTimeout","header","cancelLabel","okLabel","closeModal","small","okModal","Date","now","color","BASEURL","autoBom","console","test","status","MouseEvent","document","window","self","g","global","navigator","HTMLAnchorElement","b","name","location","setTimeout","f","open","i","saveAs","module"],"sourceRoot":""}