"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[9606],{1191:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var o=t(2791),r=t(3168),s=t(9271),a=t(6030),c=t(6501),i=t(8838),l=t(6824),u=t(4831),h=t(6355),d=t(3585),f=t(3329),g=function(e){var n=e.handleEnterPress,t=e.keyUpHandler,o=(0,r.$)().t,s=(0,a.I0)(),g=(0,a.v9)(c.De).pageState,p=g.searchName.length>0||g.searchCompaniesIds.length>0||g.searchWarehousesIds.length>0;return(0,f.jsxs)(l.Z,{searchAction:n,searchEngineAlert:p,children:[(0,f.jsx)(u.Z,{label:"item name",id:"search-name",type:"text",value:g.searchName,onchange:function(e){s((0,c.$p)(e.target.value))},icon:(0,f.jsx)(h.U41,{}),placeholder:"search by name composition barcode",onEnterPress:n,resetField:function(){s((0,c.$p)(""))},onkeyup:t}),(0,f.jsx)(i.Z,{label:o("company"),partners:null===g||void 0===g?void 0:g.searchCompaniesIds,addId:c.YW,removeId:c.ok,partnerType:d.Wl.COMPANY,action:n}),(0,f.jsx)(i.Z,{label:o("warehouse"),partners:null===g||void 0===g?void 0:g.searchWarehousesIds,addId:c.PJ,removeId:c.ni,partnerType:d.Wl.WAREHOUSE,action:n})]})},p=t(3229),m=t(6886),x=t(9114),j=t(5599),k=t(9215),C=t(3804),Z=t(8516),I=t(9761),v=t(9883),w=t(7425),y=t(4651),N=t(4373),W=t(5880),b=t(3541),A=null;var E=function(e){var n=e.onSelectedChange,t=(0,r.$)().t,i=(0,s.k6)(),l=(0,a.I0)(),u=(0,a.v9)(b.tT),h=u.token,E=u.user,O=(0,a.v9)(c.De),L=O.medicines,P=O.count,_=O.status,S=O.pageState,T=function(){l((0,c.Gd)({token:h}))},D=function(){l((0,c.sf)()),T()};return(0,o.useEffect)((function(){0===L.length&&(T(),window.scrollTo(0,0)),n()}),[]),!E||E.type!==d.Wl.PHARMACY&&E.type!==d.Wl.ADMIN?(0,f.jsx)(s.l_,{to:"/signin"}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(g,{handleEnterPress:D,keyUpHandler:function(e){(0,c.iX)(),A&&clearTimeout(A),A=setTimeout((function(){l((0,c.sf)()),T()}),200)}}),(0,f.jsxs)(p.Z,{children:[(0,f.jsxs)(Z.Z,{children:[(0,f.jsx)(v.Z,{withBackground:!0,icon:function(){return(0,f.jsx)(w.PwW,{})},foreColor:d.wL.MAIN_COLOR,tooltip:t("refresh"),onclick:D}),(S.searchName.length>0||S.searchCompaniesIds.length>0||S.searchWarehousesIds.length>0)&&(0,f.jsx)(v.Z,{withBackground:!0,selected:!1,foreColor:d.wL.MAIN_COLOR,tooltip:t("clear filter"),onclick:function(){l((0,c.PS)()),D()},icon:function(){return(0,f.jsx)(y.jTJ,{})}}),(0,f.jsx)(v.Z,{withBackground:!0,tooltip:t("back"),onclick:function(){i.goBack()},icon:function(){return(0,f.jsx)(N.D_,{})},foreColor:d.wL.MAIN_COLOR})]}),P>0&&(0,f.jsx)(k.Z,{label:t("offers count"),count:P}),L.map((function(e,n){return(0,f.jsx)(j.Z,{item:e,index:n,searchString:S.searchName,type:"points"},n)})),P>0&&"loading"!==_&&(0,f.jsx)(k.Z,{count:"".concat(L.length," / ").concat(P)}),0===L.length&&"loading"!==_&&0===S.searchName.length&&(0,f.jsx)(I.Z,{msg:t("no offers")}),0===L.length&&"loading"!==_&&0!==S.searchName.length&&(0,f.jsx)(I.Z,{msg:t("no result found")}),"loading"===_&&(0,f.jsx)(C.Z,{}),L.length<P&&"loading"!==_&&(0,f.jsx)(Z.Z,{children:(0,f.jsx)(m.Z,{text:t("more"),action:function(){T()},bgColor:d.wL.SUCCEEDED_COLOR,icon:function(){return(0,f.jsx)(W.lYW,{})}})}),L.length===P&&"loading"!==_&&0!==P&&(0,f.jsx)(x.Z,{msg:t("no more")})]})]})}}}]);
//# sourceMappingURL=9606.84171a1d.chunk.js.map