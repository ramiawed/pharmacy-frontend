"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[5757],{5228:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var r=t(885),a=t(2791),l=t(3168),o=t(9271),c=t(6030),i=t(8218),u=t(3541),s=t(3384),d=t(6824),h=t(9363),f=t(4831),x=t(3585),A=t(3329);var v=function(e){e.onSearch,e.keyUpHandler;var n=(0,l.$)().t,t=(0,c.I0)(),o=(0,c.v9)(u.dy),v=(0,c.v9)(i.T),L=v.searchName,j=v.searchCity,g=(0,a.useState)(!1),C=(0,r.Z)(g,2),m=C[0],p=C[1],w=[{value:x.zx.ALL,label:n("all cities")},{value:x.zx.ALEPPO,label:n("aleppo")},{value:x.zx.DAMASCUS,label:n("damascus")},{value:x.zx.DARAA,label:n("daraa")},{value:x.zx.DEIR_EZ_ZOR,label:n("deir_ez_zor")},{value:x.zx.HAMA,label:n("hama")},{value:x.zx.AL_HASAKAH,label:n("al_hasakah")},{value:x.zx.HOMS,label:n("homs")},{value:x.zx.IDLIB,label:n("idlib")},{value:x.zx.LATAKIA,label:n("latakia")},{value:x.zx.QUNEITRA,label:n("quneitra")},{value:x.zx.RAQQA,label:n("raqqa")},{value:x.zx.AL_SUWAYDA,label:n("al_suwayda")},{value:x.zx.TARTUS,label:n("tartus")},{value:x.zx.DAMASCUS_COUNTRYSIDE,label:n("damascus_countryside")}],y=L.trim().length>0||j!==x.zx.ALL;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(d.Z,{searchEngineAlert:y,children:[(0,A.jsx)(f.Z,{label:"name",id:"search-name",type:"text",value:L,onchange:function(e){t((0,i.ut)(e.target.value))},placeholder:"search by warehouse name",resetField:function(){return t((0,i.ut)(""))}}),o.type===x.Wl.ADMIN&&(0,A.jsx)(s.Z,{onclick:function(){return p(!0)},selectedValue:j,label:"city",styleForSearch:!0,withoutBorder:!0})]}),m&&(0,A.jsx)(h.Z,{headerTitle:"city",close:function(){p(!1)},values:w,defaultValue:j,chooseHandler:function(e){t((0,i.TH)(e))}})]})},L=t(3229),j=t(8516),g=t(9883),C=t(7425),m=t(8820),p=t(6355),w=t(4651),y=t(4373);var Z=function(e){var n=e.refreshHandler,t=(0,l.$)().t,r=(0,o.k6)(),a=(0,c.I0)(),s=(0,c.v9)(u.dy),d=(0,c.v9)(i.T),h=d.searchName,f=d.searchCity,v=d.displayType;return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(j.Z,{children:[(0,A.jsx)(g.Z,{foreColor:x.wL.MAIN_COLOR,tooltip:t("refresh"),onclick:n,icon:function(){return(0,A.jsx)(C.PwW,{})},withBackground:!0}),(h.length>0||s.type===x.Wl.ADMIN&&f!==x.zx.ALL)&&(0,A.jsx)(g.Z,{selected:!1,foreColor:x.wL.MAIN_COLOR,tooltip:t("clear filter"),onclick:function(){a((0,i.ut)("")),a((0,i.TH)(x.zx.ALL))},icon:function(){return(0,A.jsx)(w.jTJ,{})},withBackground:!0}),(0,A.jsx)(g.Z,{foreColor:"card"===v?x.wL.SUCCEEDED_COLOR:x.wL.MAIN_COLOR,tooltip:t("show as card"),onclick:function(){a((0,i.m1)("card"))},icon:function(){return(0,A.jsx)(m.sF$,{})},withBackground:!0}),(0,A.jsx)(g.Z,{foreColor:"list"===v?x.wL.SUCCEEDED_COLOR:x.wL.MAIN_COLOR,tooltip:t("show as list"),onclick:function(){a((0,i.m1)("list"))},icon:function(){return(0,A.jsx)(p.hON,{})},withBackground:!0}),(0,A.jsx)(g.Z,{withBackground:!0,tooltip:t("back"),onclick:function(){r.goBack()},icon:function(){return(0,A.jsx)(y.D_,{})},foreColor:x.wL.MAIN_COLOR})]})})},k=t(1650),_=t(6886),b=t(9114),O=t(9215),z=t(7875),T=t(3804),R=t(1230),E=t(9761),H=t(9488),I=t(6201),S=t(6425),D=t(5880),M=t(9104);var F=function(e){var n=e.onSelectedChange,t=(0,l.$)().t,s=(0,o.k6)(),d=(0,c.I0)(),h=(0,c.v9)(S.VY),f=(0,c.v9)(u.tT),g=f.token,C=f.user,m=(0,c.v9)(i.op),p=m.warehouses,w=m.count,y=m.status,F=(0,c.v9)(i.T),N=F.searchName,U=F.searchCity,W=F.displayType,B=p.filter((function(e){return!(N.trim().length>0)||e.name.includes(N.trim())}));B=B.filter((function(e){return U===x.zx.ALL||e.city===U}));var P=(0,c.v9)(I.Tc).error,V=(0,a.useState)(P),Y=(0,r.Z)(V,2),$=Y[0],q=Y[1],Q=function(){C.type!==x.Wl.PHARMACY&&C.type!==x.Wl.GUEST&&C.type!==x.Wl.WAREHOUSE||d((0,i.TH)(C.city)),d((0,i.aM)({token:g}))};return(0,a.useEffect)((function(){window.scrollTo(0,0),n()}),[]),!C||C.type!==x.Wl.ADMIN&&C.type!==x.Wl.PHARMACY?(0,A.jsx)(o.l_,{to:"/"}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(v,{}),(0,A.jsxs)(L.Z,{children:[(0,A.jsx)(Z,{refreshHandler:function(){d((0,I.iF)()),d((0,I._l)({token:g})),d((0,i.cs)()),Q()}}),B.length>0&&(0,A.jsx)(O.Z,{count:B.length,label:t("warehouses count")}),"list"===W&&(0,A.jsx)(k.Z,{children:B.map((function(e){return(0,A.jsx)(R.Z,{partner:e,addPartnerToFavoriteHandler:function(){return(0,M.Vl)(e,h,d,g,C)},removePartnerFromFavoriteHandler:function(){(0,M.Bd)(e,h,d,g)},partnerRowClickHandler:function(n){return(0,M.Vt)(e,n,C,d,g,s)}},e._id)}))}),"card"===W&&(0,A.jsx)(k.Z,{style:{alignItems:"stretch"},children:B.map((function(e){return(0,A.jsx)(z.Z,{partner:e,addPartnerToFavoriteHandler:function(){return(0,M.Vl)(e,h,d,g,C)},removePartnerFromFavoriteHandler:function(){(0,M.Bd)(e,h,d,g)},partnerRowClickHandler:function(n){return(0,M.Vt)(e,n,C,d,g,s)}},e._id)}))}),w>0&&"loading"!==y&&(0,A.jsx)(O.Z,{count:"".concat(B.length," / ").concat(w)}),0===B.length&&"loading"!==y&&0===N.length&&U===x.zx.ALL&&(0,A.jsx)(E.Z,{msg:t("no warehouses")}),0===B.length&&"loading"!==y&&(0!==N.length||U!==x.zx.ALL)&&(0,A.jsx)(E.Z,{msg:t("no result found")}),"loading"===y&&(0,A.jsx)(T.Z,{}),B.length<w&&(0,A.jsx)(j.Z,{children:(0,A.jsx)(_.Z,{text:t("more"),action:Q,bgColor:x.wL.SUCCEEDED_COLOR,icon:function(){return(0,A.jsx)(D.lYW,{})}})}),B.length===w&&"loading"!==y&&0!==w&&(0,A.jsx)(b.Z,{msg:t("no more")}),$&&(0,A.jsx)(H.Z,{bgColor:x.wL.FAILED_COLOR,foreColor:"#fff",actionAfterTimeout:function(){q("")},children:t(P)})]})]})}}}]);
//# sourceMappingURL=5757.06b7d4e6.chunk.js.map