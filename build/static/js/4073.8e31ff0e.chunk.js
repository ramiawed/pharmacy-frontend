(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[4073],{4293:function(e,n,t){"use strict";t.d(n,{Z:function(){return k}});var a=t(4942),l=t(1413),i=t(2982),r=t(885),o=t(2791),s=t(3168),c=t(2810),u=t(6030),d=t(6154),h=t(8489),m=t(7425),f=t(6856),x=t(9942),p="multi-value_container__efvXg",_="multi-value_row__CgABK",b="multi-value_header__sV-dg",j="multi-value_input_div__4ZhqR",g=t(3585),y=t(3329);var v=function(e){var n=e.addHandler,t=e.deleteHandler,a=e.values,l=e.changeHandler,i=e.placeholder,r=e.quantityLabel,o=e.bonusLabel,c=e.afterQuantityLabel,u=e.afterBonusLabel,d=e.allowEdit,h=(0,s.$)().t;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:b,children:d&&(0,y.jsxs)("div",{className:[x.Z.icon,x.Z.fc_green,x.Z.margin_h_auto].join(" "),children:[(0,y.jsx)(f.NcC,{size:36,onClick:function(e){n(),e.stopPropagation()}}),(0,y.jsx)("div",{className:x.Z.tooltip,children:h("add-offer-tooltip")})]})}),(0,y.jsx)("div",{className:p,children:a.map((function(e){return(0,y.jsxs)("div",{className:_,children:[(0,y.jsxs)("div",{className:j,children:[r&&(0,y.jsx)("label",{children:r}),(0,y.jsx)("input",{id:e.key,title:"qty",value:e.value.qty,onChange:function(e){return l(e)},placeholder:i,onKeyPress:g.I0,disabled:!d}),c&&(0,y.jsx)("label",{children:c})]}),(0,y.jsxs)("div",{className:j,children:[o&&(0,y.jsx)("label",{children:o}),(0,y.jsx)("input",{id:e.key,title:"bonus",value:e.value.bonus,onChange:function(e){return l(e)},placeholder:i,disabled:!d}),u&&(0,y.jsx)("label",{children:u})]},e.key),d&&(0,y.jsxs)("div",{className:[x.Z.icon,x.Z.fc_red].join(" "),children:[(0,y.jsx)(m.w6k,{size:20,onClick:function(){return t(e.key)}}),(0,y.jsx)("div",{className:x.Z.tooltip,children:h("remove-offer-tooltip")})]})]},e.key)}))})]})},Z="offers-modal_checkboxes_div__jHFjO",C="offers-modal_offer_type_checkbox__6qdXR",N=t(8785);var k=function(e){var n,t=e.item,m=e.warehouseId,p=e.close,_=e.token,b=e.allowEdit,j=e.afterUpdateOffer,k=(0,s.$)().t,E=(0,u.I0)(),w=t.warehouses.find((function(e){return e.warehouse._id===m})).offer,I=(0,o.useState)(!1),A=(0,r.Z)(I,2),W=A[0],O=A[1],R=(0,o.useState)(w.mode===g.Hg.PIECES),L=(0,r.Z)(R,2),S=L[0],F=L[1],M=(0,o.useState)(w.mode===g.Hg.PERCENTAGE),P=(0,r.Z)(M,2),D=P[0],H=P[1],U=(0,o.useState)((null===(n=w.offers)||void 0===n?void 0:n.length)>0?w.offers.map((function(e){return{value:{qty:e.qty,bonus:e.bonus},key:e._id}})):[]),Y=(0,r.Z)(U,2),T=Y[0],q=Y[1];return(0,y.jsxs)(h.Z,{header:"nav-offers",cancelLabel:"close-label",okLabel:"add-label",closeModal:p,okModal:b?function(){!function(){if(S||D){var e=T.filter((function(e){return 0!==e.value.bonus||e.value.qty})).sort((function(e,n){return e.value.qty>n.value.qty?-1:e.value.qty<n.value.qty?1:0})).map((function(e){return{qty:e.value.qty,bonus:e.value.bonus}})),n={mode:0===e.length?"":S?g.Hg.PIECES:g.Hg.PERCENTAGE,offers:e};E((0,d.Ex)({obj:{itemId:t._id,warehouseId:m,offer:n},token:_})).then(N.SI).then((function(){return j&&j()})),p()}else O(!0)}()}:null,small:!0,children:[b&&T.length>0&&(0,y.jsxs)("div",{className:Z,children:[(0,y.jsxs)("label",{children:[k("offer-type"),":"]}),(0,y.jsxs)("div",{className:C,children:[(0,y.jsx)("input",{type:"checkbox",value:S,checked:S,onChange:function(){F(!S),H(!1),O(!1)}}),(0,y.jsx)("label",{children:k(g.Hg.PIECES)})]}),(0,y.jsxs)("div",{className:C,children:[(0,y.jsx)("input",{type:"checkbox",value:D,checked:D,onChange:function(){H(!D),F(!1),O(!1)}}),(0,y.jsx)("label",{children:k(g.Hg.PERCENTAGE)})]}),W&&(0,y.jsx)(f.wr$,{color:g.wL.FAILED_COLOR,size:24})]}),0===T.length&&(0,y.jsx)("p",{className:[x.Z.center,x.Z.fc_secondary].join(" "),children:k("no-offers")}),(0,y.jsx)(v,{allowEdit:b,values:T,addHandler:function(){return q([].concat((0,i.Z)(T),[{value:{qty:0,bonus:0},key:(0,c.Z)()}]))},deleteHandler:function(e){var n=T.filter((function(n){return n.key!==e}));q(n)},changeHandler:function(e){var n=T.map((function(n){return n.key===e.target.id?(0,l.Z)((0,l.Z)({},n),{},{value:(0,l.Z)((0,l.Z)({},n.value),{},(0,a.Z)({},e.target.title,1*(0,g.F8)(e.target.value)))}):n}));q(n)},quantityLabel:k("quantity-label"),bonusLabel:S?k("bonus-quantity-label"):D?k("bonus-percentage-label"):null,afterQuantityLabel:k("after-quantity-label"),afterBonusLabel:S?k("after-bonus-quantity-label"):D?k("after-bonus-percentage-label"):null})]})}},6824:function(e,n,t){"use strict";var a=t(885),l=t(2791),i=t(3168),r=t(4651),o=t(6349),s=t(9942),c=t(7500),u=t(3329);n.Z=function(e){var n=e.children,t=e.searchAction,d=(0,i.$)().t,h=l.Children.toArray(n),m=(0,l.useState)(!1),f=(0,a.Z)(m,2),x=f[0],p=f[1];return(0,u.jsx)("div",{className:[o.Z.search_container,o.Z.expanded,x?o.Z.expanded_with_options:""].join(" "),children:(0,u.jsx)("div",{className:o.Z.expanded_div,children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{style:{flex:1},children:[h[0],x&&h.length>1?h.map((function(e,n){return n>0?e:null})):null,x&&(0,u.jsx)("button",{onClick:function(){t(),p(!1)},style:{marginBlockStart:"4px",marginInline:"auto",width:"50%"},className:[s.Z.button,s.Z.bg_main,s.Z.fc_white,s.Z.block,s.Z.padding_v_6,s.Z.padding_h_8].join(" "),children:d("search")})]}),h.length>1&&(0,u.jsx)("div",{style:{marginInline:"4px"},children:(0,u.jsx)(c.Z,{onClick:function(){return p(!x)},icon:function(){return(0,u.jsx)(r.P66,{})}})}),1===h.length&&(0,u.jsx)("div",{className:[s.Z.icon,s.Z.margin_h_4].join(" "),onClick:function(){t(),p(!1)},children:(0,u.jsx)("button",{className:[s.Z.button,s.Z.bg_secondary,s.Z.fc_white,s.Z.block,s.Z.padding_v_6,s.Z.padding_h_8].join(" "),children:d("search")})})]})})})}},2235:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});t(2791);var a=t(3168),l=t(8820),i="search-input_input_div__4KoDe",r="search-input_icon_close__TC1nF",o=t(3329);var s=function(e){var n=e.type,t=e.label,s=e.id,c=e.value,u=e.onchange,d=e.placeholder,h=e.onEnterPress,m=e.resetField,f=e.onkeyup,x=(0,a.$)().t;return(0,o.jsxs)("div",{className:i,children:[t&&(0,o.jsx)("label",{htmlFor:s,children:x(t)}),(0,o.jsx)("input",{placeholder:d?x("".concat(d)):"",id:s,type:n,value:c,onChange:u,onKeyPress:function(e){"Enter"===e.key&&h&&h()},onKeyUp:f&&f}),m&&c&&(0,o.jsx)(l.LHV,{onClick:function(){return m(s)},className:r})]})}},4345:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return V}});var a=t(2791),l=t(3168),i=t(9271),r=t(2810),o=t(6048),s=t.n(o),c=t(885),u=t(1523),d=t(6030),h=t(3541),m=t(3268),f=t(6425),x=t(8489),p=t(4293),_=t(7500),b=t(8820),j=t(6856),g=t(7425),y=t(9942),v=t(3559),Z=t(4131),C=t(3585),N=t(4651),k=t(3329),E=function(e,n){if(n.type===C.Wl.COMPANY)return!1;var t=!1;return n.type===C.Wl.WAREHOUSE&&e.warehouses.filter((function(e){return e.warehouse._id===n._id})).forEach((function(e){e.offer.offers.length>0&&(t=!0)})),n.type===C.Wl.ADMIN&&e.warehouses.forEach((function(e){e.offer.offers.length>0&&(t=!0)})),t};var w=function(e){var n=e.item,t=e.user,i=(e.company,e.warehouse),r=e.role,o=e.changeItemMaxQty,s=e.deleteItemFromWarehouse,w=(0,l.$)().t,I=(0,d.I0)(),A=(0,d.v9)(f.VY),W=(0,d.v9)(h.tT).token,O=(0,a.useState)({}),R=(0,c.Z)(O,2),L=R[0],S=R[1],F=(0,a.useState)(!1),M=(0,c.Z)(F,2),P=M[0],D=M[1],H=(0,a.useState)(!1),U=(0,c.Z)(H,2),Y=U[0],T=U[1],q=(0,a.useState)(!1),B=(0,c.Z)(q,2),$=B[0],K=B[1],G=(0,a.useState)(!1),z=(0,c.Z)(G,2),Q=z[0],V=z[1],X=(0,a.useState)(!1),J=(0,c.Z)(X,2),ee=J[0],ne=J[1],te=(0,a.useState)(i?n.warehouses.find((function(e){return e.warehouse._id===i._id})).maxQty:0),ae=(0,c.Z)(te,2),le=ae[0],ie=ae[1],re=function(e){S("delete"===e?{header:"item-delete-header",body:"item-delete-confirm-message",action:"delete"}:{header:"item-undo-delete-header",body:"item-undo-delete-confirm-message",action:"undo-delete"}),D(!0)};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:Z.Z.container,style:{backgroundColor:E(n,t)?C.wL.OFFER_COLOR:"#fff"},children:[(0,k.jsx)("label",{className:[Z.Z.hover_underline,v.Z.label_medium].join(" "),children:(0,k.jsx)(u.rU,{className:Z.Z.hover_underline,to:{pathname:"/item",state:{from:t.type,type:"info",allowAction:t.type===C.Wl.COMPANY||t.type===C.Wl.ADMIN&&n.company.allowAdmin,itemId:n._id,companyId:n.company._id,warehouseId:null===i||void 0===i?void 0:i._id}},children:n.name})}),(t.type===C.Wl.ADMIN&&r===C.Wl.ADMIN||t.type===C.Wl.ADMIN&&r===C.Wl.WAREHOUSE||t.type===C.Wl.WAREHOUSE)&&(0,k.jsx)("label",{className:v.Z.label_medium,children:n.company.name}),(0,k.jsx)("label",{className:[v.Z.label_small,y.Z.flex_center_container].join(" "),children:n.isActive?(0,k.jsx)(_.Z,{icon:function(){return(0,k.jsx)(b.Lk_,{})},foreColor:C.wL.SUCCEEDED_COLOR,onclick:function(e){A?t.type===C.Wl.ADMIN&&n.company.allowAdmin||t.type===C.Wl.COMPANY?re("delete"):T(!0):I((0,f.Rb)())}}):(0,k.jsx)(_.Z,{icon:function(){return(0,k.jsx)(b.oF6,{})},foreColor:C.wL.FAILED_COLOR,onclick:function(e){A?t.type===C.Wl.ADMIN&&n.company.allowAdmin||t.type===C.Wl.COMPANY?re("undo-delete"):T(!0):I((0,f.Rb)())}})}),(0,k.jsx)("label",{className:v.Z.label_small,children:n.formula}),(0,k.jsx)("label",{className:v.Z.label_small,children:n.caliber}),(0,k.jsx)("label",{className:v.Z.label_small,children:n.packing}),(0,k.jsx)("label",{className:v.Z.label_small,children:n.price}),(0,k.jsx)("label",{className:v.Z.label_small,children:n.customer_price}),(t.type===C.Wl.ADMIN&&r===C.Wl.WAREHOUSE||t.type===C.Wl.WAREHOUSE)&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("label",{className:v.Z.label_small,children:(0,k.jsx)("input",{className:Z.Z.input,onKeyPress:C.I0,value:le,onChange:function(e){var n=Number.parseInt((0,C.F8)(e.target.value));ie(isNaN(n)?"":n)},onBlur:function(e){return o({itemId:n._id,warehouseId:i._id,qty:Number.parseInt(le)})},disabled:t.type===C.Wl.ADMIN&&r===C.Wl.WAREHOUSE&&!(null!==i&&void 0!==i&&i.allowAdmin)||!A})}),(0,k.jsx)("label",{className:[v.Z.label_xsmall,y.Z.flex_center_container].join(" "),children:ee?(0,k.jsx)(_.Z,{icon:function(){return(0,k.jsx)(N.H_P,{className:y.Z.loading,size:24})},onclick:function(){},foreColor:C.wL.FAILED_COLOR}):(0,k.jsx)(_.Z,{icon:function(){return(0,k.jsx)(g.w6k,{size:20})},onclick:function(e){A?t.type===C.Wl.ADMIN&&r===C.Wl.WAREHOUSE&&i.allowAdmin||t.type===C.Wl.WAREHOUSE?V(!0):T(!0):I((0,f.Rb)())},foreColor:C.wL.FAILED_COLOR})}),(0,k.jsx)("label",{className:v.Z.label_xsmall,children:(0,k.jsx)(_.Z,{icon:function(){return(0,k.jsx)(j.Rtn,{size:20})},tooltip:w("nav-offers"),foreColor:E(n,t)?C.wL.SUCCEEDED_COLOR:C.wL.SECONDARY_COLOR,onclick:function(){K(!0)}})})]})]}),P&&(0,k.jsx)(x.Z,{header:w(L.header),cancelLabel:w("cancel-label"),okLabel:w("ok-label"),okModal:function(){A?(I((0,m.ng)({obj:{itemId:n._id,action:L.action},token:W})),D(!1),S({})):I((0,f.Rb)())},closeModal:function(){return D(!1)},small:!0,children:(0,k.jsx)("p",{children:w(L.body)})}),Y&&(0,k.jsx)(x.Z,{header:w("warning"),cancelLabel:w("cancel-label"),closeModal:function(){return T(!1)},small:!0,warning:!0,children:(0,k.jsx)("p",{children:w("dont-have-permission")})}),$&&(0,k.jsx)(p.Z,{token:W,item:n,warehouseId:i._id,close:function(){return K(!1)},allowEdit:t.type===C.Wl.WAREHOUSE||t.type===C.Wl.ADMIN&&r===C.Wl.WAREHOUSE&&i.allowAdmin,afterUpdateOffer:function(){return I((0,m.Ko)({_id:n._id,token:W}))}}),Q&&(0,k.jsx)(x.Z,{header:w("item-delete-header"),cancelLabel:w("cancel-label"),okLabel:w("ok-label"),okModal:function(){A?(s({itemId:n._id,warehouseId:i._id,city:i.city}),V(!1)):I((0,f.Rb)()),ne(!0)},closeModal:function(){V(!1),ne(!1)},small:!0,children:(0,k.jsx)("p",{children:w("item-delete-from-warehouse")})})]})},I=t(9488),A=t(3575),W=t(3004),O=t(6036);var R=function(e){var n=e.user,t=e.role,a=e.sortNameField,i=e.sortCaliberField,r=e.sortPriceField,o=e.sortCustomerPriceField,s=e.pageState,c=(0,l.$)().t,u=(0,d.I0)();return(0,k.jsxs)(W.Z,{children:[(0,k.jsxs)("label",{className:[v.Z.label_medium,y.Z.flex_center_container].join(" "),onClick:function(){0===s.sortNameField?(u((0,m.Ss)(1)),u((0,m.I5)("name"))):1===s.sortNameField?(u((0,m.Ss)(-1)),u((0,m.I5)("-name"))):(u((0,m.Ss)(0)),u((0,m.I5)(""))),u((0,m.b2)(0)),u((0,m.YT)(0)),u((0,m.C6)(0))},children:[c("item-trade-name"),1===a&&(0,k.jsx)(b.i4I,{style:{marginRight:"4px"}}),-1===a&&(0,k.jsx)(b.BwW,{style:{marginRight:"4px"}}),0===a&&(0,k.jsx)(O.CFC,{style:{marginRight:"4px"}})]}),(n.type===C.Wl.ADMIN&&t===C.Wl.ADMIN||n.type===C.Wl.ADMIN&&t===C.Wl.WAREHOUSE||n.type===C.Wl.WAREHOUSE)&&(0,k.jsx)("label",{className:v.Z.label_medium,children:c("user-company-name")}),(0,k.jsx)("label",{className:v.Z.label_small,children:c("item-status")}),(0,k.jsx)("label",{className:v.Z.label_small,children:c("item-formula")}),(0,k.jsxs)("label",{className:[v.Z.label_small,y.Z.flex_center_container].join(" "),onClick:function(){0===s.sortCaliberField?(u((0,m.b2)(1)),u((0,m.I5)("caliber"))):1===s.sortCaliberField?(u((0,m.b2)(-1)),u((0,m.I5)("-caliber"))):(u((0,m.b2)(0)),u((0,m.I5)(""))),u((0,m.Ss)(0)),u((0,m.YT)(0)),u((0,m.C6)(0))},children:[c("item-caliber"),1===i&&(0,k.jsx)(b.i4I,{style:{marginRight:"4px"}}),-1===i&&(0,k.jsx)(b.BwW,{style:{marginRight:"4px"}}),0===i&&(0,k.jsx)(O.CFC,{style:{marginRight:"4px"}})]}),(0,k.jsx)("label",{className:v.Z.label_small,children:c("item-packing")}),(0,k.jsxs)("label",{className:[v.Z.label_small,y.Z.flex_center_container].join(" "),onClick:function(){0===s.sortPriceField?(u((0,m.YT)(1)),u((0,m.I5)("price"))):1===s.sortPriceField?(u((0,m.YT)(-1)),u((0,m.I5)("-price"))):(u((0,m.YT)(0)),u((0,m.I5)(""))),u((0,m.Ss)(0)),u((0,m.b2)(0)),u((0,m.C6)(0))},children:[c("item-price"),1===r&&(0,k.jsx)(b.i4I,{style:{marginRight:"4px"}}),-1===r&&(0,k.jsx)(b.BwW,{style:{marginRight:"4px"}}),0===r&&(0,k.jsx)(O.CFC,{style:{marginRight:"4px"}})]}),(0,k.jsxs)("label",{className:[v.Z.label_small,y.Z.flex_center_container].join(" "),onClick:function(){0===s.sortCustomerPriceField?(u((0,m.C6)(1)),u((0,m.I5)("customer_price"))):1===s.sortCustomerPriceField?(u((0,m.C6)(-1)),u((0,m.I5)("-customer_price"))):(u((0,m.C6)(0)),u((0,m.I5)(""))),u((0,m.Ss)(0)),u((0,m.b2)(0)),u((0,m.YT)(0))},children:[c("item-customer-price"),1===o&&(0,k.jsx)(b.i4I,{style:{marginRight:"4px"}}),-1===o&&(0,k.jsx)(b.BwW,{style:{marginRight:"4px"}}),0===o&&(0,k.jsx)(O.CFC,{style:{marginRight:"4px"}})]}),(n.type===C.Wl.ADMIN&&t===C.Wl.WAREHOUSE||n.type===C.Wl.WAREHOUSE)&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("label",{className:v.Z.label_small,children:c("item-max-qty")}),(0,k.jsx)("label",{className:v.Z.label_xsmall}),(0,k.jsx)("label",{className:v.Z.label_xsmall})]})]})},L=t(2541),S=t(6824),F=t(2235),M=t(5861),P=t(7757),D=t.n(P),H=t(4569),U=t.n(H),Y=t(4802),T=t(8484),q=function(e){var n=e.url,t=e.fileName,a=(0,l.$)().t,i=(0,d.v9)(h.rK),r=function(){var e=(0,M.Z)(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U().get(n,{headers:{Authorization:"Bearer ".concat(i)}}).then((function(e){var n={Sheets:{data:T.utils.json_to_sheet(e.data.data.items)},SheetNames:["data"]},a=T.write(n,{bookType:"xlsx",type:"array"}),l=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});Y.saveAs(l,t+".xlsx")}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,k.jsx)(_.Z,{selected:!1,foreColor:C.wL.SECONDARY_COLOR,tooltip:a("export-items"),icon:function(){return(0,k.jsx)(g.Qup,{})},onclick:function(e){return r(t)},withBackground:!0})},B=t(978),$=t(6349);var K=function(e){var n=e.user,t=(e.role,e.warehouse,e.count,e.company),a=e.pageState,r=e.search,o=(0,l.$)().t,s=(0,d.I0)(),c=(0,i.k6)();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(S.Z,{searchAction:r,children:[(0,k.jsx)(F.Z,{label:"item-name",id:"item-name",type:"text",value:a.searchName,onchange:function(e){return s((0,m.$p)(e.target.value))},placeholder:"search",onEnterPress:r,resetField:function(){s((0,m.$p)(""))}}),(n.type===C.Wl.WAREHOUSE||n.type===C.Wl.ADMIN&&a.role!==C.Wl.COMPANY)&&(0,k.jsx)(F.Z,{label:"item-company",id:"item-company",type:"text",value:a.searchCompanyName,onchange:function(e){return s((0,m.HN)(e.target.value))},placeholder:"search",onEnterPress:r,resetField:function(){s((0,m.HN)(""))}}),(n.type===C.Wl.COMPANY||n.type===C.Wl.ADMIN&&a.role!==C.Wl.WAREHOUSE)&&(0,k.jsx)(F.Z,{label:"item-warehouse",id:"item-warehouse",type:"text",value:a.searchWarehouseName,onchange:function(e){return s((0,m.jY)(e.target.value))},placeholder:"search",onEnterPress:r,resetField:function(){s((0,m.jY)(""))}}),(0,k.jsxs)("div",{className:$.Z.checkbox_div,children:[(0,k.jsx)("input",{type:"checkbox",checked:a.searchDeletedItems,onChange:function(){s((0,m.Xp)(!a.searchDeletedItems)),s((0,m.fM)(!1))}}),(0,k.jsx)("label",{children:o("deleted-items")})]}),(0,k.jsxs)("div",{className:$.Z.checkbox_div,children:[(0,k.jsx)("input",{type:"checkbox",checked:a.searchActiveItems,onChange:function(){s((0,m.Xp)(!1)),s((0,m.fM)(!a.searchActiveItems))}}),(0,k.jsx)("label",{children:o("active-items")})]}),n.type!==C.Wl.WAREHOUSE&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:$.Z.checkbox_div,children:[(0,k.jsx)("input",{type:"checkbox",checked:a.searchInWarehouse,onChange:function(){s((0,m.yU)(!a.searchInWarehouse)),s((0,m.Zf)(!1))}}),(0,k.jsx)("label",{children:o("warehouse-in-warehouse")})]}),(0,k.jsxs)("div",{className:$.Z.checkbox_div,children:[(0,k.jsx)("input",{type:"checkbox",checked:a.searchOutWarehouse,onChange:function(){s((0,m.yU)(!1)),s((0,m.Zf)(!a.searchOutWarehouse))}}),(0,k.jsx)("label",{children:o("warehouse-out-warehouse")})]})]})]}),(0,k.jsx)("div",{className:y.Z.actions,children:n.type===C.Wl.COMPANY||n.type===C.Wl.ADMIN&&null!==t&&t.allowAdmin?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(_.Z,{foreColor:C.wL.GREY_COLOR,selected:!1,icon:function(){return(0,k.jsx)(g.PwW,{})},tooltip:o("refresh-tooltip"),onclick:r,withBackground:!0}),(0,k.jsx)(_.Z,{foreColor:C.wL.GREY_COLOR,selected:!1,icon:function(){return(0,k.jsx)(g.OlE,{})},tooltip:o("add-item"),onclick:function(){c.push("/item",{from:n.type,type:"new",allowAction:!0,itemId:null,companyId:n.type===C.Wl.COMPANY?n._id:t._id,warehouseId:null})},withBackground:!0}),(0,k.jsx)(_.Z,{foreColor:C.wL.GREY_COLOR,selected:!1,icon:function(){return(0,k.jsx)(B.bBH,{})},tooltip:o("items-from-excel"),onclick:function(){c.push("/items-from-excel",{companyId:n.type===C.Wl.COMPANY?n._id:t._id})},withBackground:!0}),(0,k.jsx)(q,{url:"".concat(C.Hc,"/items/allItem/").concat(n.type===C.Wl.COMPANY?n._id:t._id),fileName:"filename"})]}):(0,k.jsx)(k.Fragment,{})})]})},G=t(8785),z=t(6154),Q=t(7361);var V=function(e){var n=e.onSelectedChange,t=(0,l.$)().t,o=(0,d.v9)(h.dy),c=(0,d.v9)(f.VY),u=(0,d.I0)(),x=(0,d.v9)(m.a1),p=x.status,_=x.error,b=x.count,j=x.items,g=x.activeStatus,v=x.activeError,Z=x.pageState,N=x.changeOfferStatus,E=(0,d.v9)(z.ZR).changeOfferStatus,W=(0,d.v9)(h.rK),O=function(){u((0,m.kk)({token:W}))},S=function(e){u((0,z.LK)({obj:e,token:W})).then(G.SI).then((function(){O(Z.page)})).catch((function(){}))},F=function(e){e.qty&&u((0,z.QC)({obj:e,token:W})).then(G.SI).then((function(){O(Z.page)})).catch((function(){}))};return(0,a.useEffect)((function(){return O(),n(),function(){u((0,m.nS)())}}),[Z.sortFields,Z.warehouse,Z.role]),o?(0,k.jsxs)("div",{className:y.Z.container,style:{marginTop:"55px"},children:[(0,k.jsx)(K,{user:o,role:Z.role,warehouse:Z.warehouse,count:b,company:Z.company,pageState:Z,search:function(){u((0,m.nS)()),u((0,m.YA)(1)),O()}}),b>0&&(0,k.jsx)(R,{user:o,role:Z.role,pageState:Z,sortNameField:Z.sortNameField,sortCaliberField:Z.sortCaliberField,sortPriceField:Z.sortPriceField,sortCustomerPriceField:Z.sortCustomerPriceField}),null===j||void 0===j?void 0:j.map((function(e){return(0,k.jsx)(w,{item:e,user:o,company:Z.company,warehouse:Z.warehouse,role:Z.role,deleteItemFromWarehouse:S,changeItemMaxQty:F},(0,r.Z)())})),b>0&&c&&(0,k.jsx)(s(),{previousLabel:t("previous"),nextLabel:t("next"),pageCount:Math.ceil(b/9),forcePage:Z.page-1,onPageChange:function(e){var n=e.selected;u((0,m.YA)(n+1)),O(),window.scrollTo(0,0)},containerClassName:Q.Z.pagination,previousLinkClassName:Q.Z.pagination_link,nextLinkClassName:Q.Z.pagination_link,disabledClassName:Q.Z.pagination_link_disabled,activeClassName:Q.Z.pagination_link_active}),0===b&&"loading"!==p&&(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(A.Z,{msg:t("no-medicines")})}),"loading"===p&&(0,k.jsx)(L.Z,{allowCancel:!1}),_&&(0,k.jsx)(I.Z,{bgColor:C.wL.FAILED_COLOR,foreColor:"#fff",toastText:t(_),actionAfterTimeout:function(){return u((0,m.PU)())}}),("loading"===g||"loading"===N||"loading"===E)&&(0,k.jsx)(L.Z,{allowCancel:!1}),"succeeded"===g&&(0,k.jsx)(I.Z,{bgColor:C.wL.SUCCEEDED_COLOR,foreColor:"#fff",toastText:t("update-succeeded"),actionAfterTimeout:function(){return u((0,m.GN)())}}),v&&(0,k.jsx)(I.Z,{bgColor:C.wL.FAILED_COLOR,foreColor:"#fff",toastText:t(v),actionAfterTimeout:function(){return u((0,m.GN)())}}),"succeeded"===N&&(0,k.jsx)(I.Z,{bgColor:C.wL.SUCCEEDED_COLOR,foreColor:"#fff",toastText:t("update-succeeded"),actionAfterTimeout:function(){return u((0,m.oz)())}})]}):(0,k.jsx)(i.l_,{to:"/signin"})}},7361:function(e,n){"use strict";n.Z={pagination:"pagination_pagination__nhJuL",pagination_link_active:"pagination_pagination_link_active__p5sFm",pagination_link_disabled:"pagination_pagination_link_disabled__+CR6E"}},6349:function(e,n){"use strict";n.Z={search_container:"search-container_search_container__6isGM",expanded:"search-container_expanded__79n+k",expanded_div:"search-container_expanded_div__Hmmm1",checkbox_div:"search-container_checkbox_div__RPj5T"}},5382:function(){},2095:function(){},1219:function(){}}]);
//# sourceMappingURL=4073.8e31ff0e.chunk.js.map