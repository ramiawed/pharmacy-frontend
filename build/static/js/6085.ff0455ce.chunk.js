"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[6085],{553:function(n,e,r){r.d(e,{Z:function(){return x}});r(2791);var t=r(3168),o=r(1221),a=r(1176),i=r(6886),c=r(8820),l=r(6355),s=r(6030),d=r(6201),u=r(3541),_=r(6481),p=r(9942),m={small_font:"partner-card_small_font__B6atq",partner_container:"partner-card_partner_container__VB59l",full_width:"partner-card_full_width__CUiS6",partner_logo:"partner-card_partner_logo__zh12g",partner_name:"partner-card_partner_name__jXB4j",from_top:"partner-card_from_top__OssbS",name:"partner-card_name__xgWNa"},h=r(3585),f=r(3329);var x=function(n){var e,r=n.partner,x=n.fullWidth,j=n.addPartnerToFavoriteHandler,v=n.addCompanyToOurCompaniesHandler,g=n.removePartnerFromFavoriteHandler,C=n.removeCompanyFromOurCompaniesHandler,Z=n.partnerRowClickHandler,y=(0,t.$)().t,w=(0,s.v9)(_.vi).settings.showWarehouseItem,k=(0,s.v9)(d.oT),O=(0,s.v9)(d.GI),N=(0,s.v9)(u.tT).user,L=N.type===h.Wl.ADMIN||r.type===h.Wl.COMPANY||r.type===h.Wl.WAREHOUSE&&w&&r.allowShowingMedicines;return(0,f.jsxs)("div",{className:[m.partner_container,x?m.full_width:""].join(" "),children:[(0,f.jsx)("p",{className:m.partner_name,children:r.name}),(null===(e=r.logo_url)||void 0===e?void 0:e.length)>0?(0,f.jsx)("img",{src:"".concat(h.LB,"/profiles/").concat(r.logo_url),className:m.partner_logo,alt:"thumb"}):(0,f.jsx)("img",{src:o,className:m.partner_logo,alt:"thumb"}),(0,f.jsxs)("div",{className:m.from_top,children:[""===O?(0,f.jsx)("div",{className:[p.Z.icon,p.Z.fc_yellow].join(" "),children:k&&k.map((function(n){return n._id})).includes(r._id)?(0,f.jsx)(c.pHD,{size:24,onClick:g}):(0,f.jsx)(c.y5j,{size:24,onClick:j})}):null,N.type===h.Wl.WAREHOUSE&&r.type===h.Wl.COMPANY?(0,f.jsx)("div",{children:N.ourCompanies.includes(r._id)?(0,f.jsx)(i.Z,{text:y("remove-company-from-warehouse-tooltip"),action:C,bgColor:h.wL.FAILED_COLOR,icon:function(){return(0,f.jsx)(l.mwf,{size:24})}}):(0,f.jsx)(i.Z,{text:y("add-company-to-warehouse-tooltip"),action:v,bgColor:h.wL.SUCCEEDED_COLOR,icon:function(){return(0,f.jsx)(l.Cq,{size:24})}})}):(0,f.jsx)(f.Fragment,{}),(r.type===h.Wl.COMPANY||r.type===h.Wl.WAREHOUSE&&N.type!==h.Wl.WAREHOUSE)&&(0,f.jsx)("div",{children:(0,f.jsx)(a.Z,{action:function(){return Z(L)},text:y("medicines"),bgColor:h.wL.FAILED_COLOR})})]})]})}},6824:function(n,e,r){var t=r(885),o=r(2791),a=r(3168),i=r(6355),c=r(6349),l=r(9942),s=r(7500),d=r(3329);e.Z=function(n){var e=n.children,r=n.searchAction,u=(0,a.$)().t,_=o.Children.toArray(e),p=(0,o.useState)(!1),m=(0,t.Z)(p,2),h=m[0],f=m[1];return(0,d.jsx)("div",{className:[c.Z.search_container,c.Z.expanded,h?c.Z.expanded_with_options:""].join(" "),children:(0,d.jsx)("div",{className:c.Z.expanded_div,children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{style:{flex:1},children:[_[0],h&&_.length>1?_.map((function(n,e){return e>0?n:null})):null,h&&(0,d.jsx)("button",{onClick:function(){r(),f(!1)},style:{marginBlockStart:"4px",marginInline:"auto",marginLeft:"auto",marginRight:"auto",width:"50%"},className:[l.Z.button,l.Z.bg_main,l.Z.fc_white,l.Z.block,l.Z.padding_v_6,l.Z.padding_h_8].join(" "),children:u("search")})]}),_.length>1&&(0,d.jsx)("div",{style:{marginInline:"4px",marginLeft:"4px",marginRight:"4px"},children:(0,d.jsx)(s.Z,{onclick:function(){return f(!h)},icon:function(){return(0,d.jsx)(i.ulB,{})}})}),1===_.length&&(0,d.jsx)("div",{className:[l.Z.icon,l.Z.margin_h_4].join(" "),onClick:function(){r(),f(!1)},children:(0,d.jsx)("button",{className:[l.Z.button,l.Z.bg_secondary,l.Z.fc_white,l.Z.block,l.Z.padding_v_6,l.Z.padding_h_8].join(" "),children:u("search")})})]})})})}},2235:function(n,e,r){r.d(e,{Z:function(){return l}});r(2791);var t=r(3168),o=r(8820),a="search-input_input_div__4KoDe",i="search-input_icon_close__TC1nF",c=r(3329);var l=function(n){var e=n.type,r=n.label,l=n.id,s=n.value,d=n.onchange,u=n.placeholder,_=n.onEnterPress,p=n.resetField,m=n.onkeyup,h=(0,t.$)().t;return(0,c.jsxs)("div",{className:a,children:[r&&(0,c.jsx)("label",{htmlFor:l,children:h(r)}),(0,c.jsx)("input",{placeholder:u?h("".concat(u)):"",id:l,type:e,value:s,onChange:d,onKeyPress:function(n){"Enter"===n.key&&_&&_()},onKeyUp:m&&m}),p&&s&&(0,c.jsx)(o.LHV,{onClick:function(){return p(l)},className:i})]})}},6085:function(n,e,r){r.r(e),r.d(e,{default:function(){return A}});var t=r(2791),o=r(3168),a=r(9271),i=r(1968),c=r.n(i),l=r(5880),s=r(125),d=r(553),u=r(3575),_=r(6030),p=r(3502),m=r(6824),h=r(2235),f=r(7500),x=r(670),j=r(7425),v=r(8820),g=r(6355),C=r(4651),Z=r(2268),y=r(9942),w="companies-header_selectDiv__2gPMJ",k=r(3585),O=r(3329);var N,L=function(n){var e=n.search,r=n.refreshHandler,t=(n.count,n.keyUpHandler),i=(0,o.$)().t,c=(0,a.k6)(),l=(0,_.I0)(),s=(0,_.v9)(p.lB),d=s.searchName,u=s.searchCity,N=s.displayType;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(m.Z,{searchAction:e,children:[(0,O.jsx)(h.Z,{label:"user-name",id:"search-name",type:"text",value:d,onchange:function(n){l((0,p.ut)(n.target.value))},placeholder:"search-by-company-name",onEnterPress:e,resetField:function(){return l((0,p.ut)(""))},onkeyup:t}),(0,O.jsxs)("div",{className:w,children:[(0,O.jsx)("label",{children:i("user-city")}),(0,O.jsx)(x.Z,{onSelectionChange:function(n){l((0,p.TH)(n))},defaultValue:{value:u,label:i(u.toLowerCase())}})]})]}),(0,O.jsxs)("div",{className:[y.Z.actions,y.Z.margin_v_4].join(" "),children:[(0,O.jsx)(f.Z,{withBackground:!0,selected:!1,foreColor:k.wL.MAIN_COLOR,tooltip:i("refresh-tooltip"),onclick:function(){r()},icon:function(){return(0,O.jsx)(j.PwW,{})}}),(d.length>0||u!==k.zx.ALL)&&(0,O.jsx)(f.Z,{withBackground:!0,selected:!1,foreColor:k.wL.MAIN_COLOR,tooltip:i("clear-filter-tooltip"),onclick:function(){l((0,p.Fq)()),r()},icon:function(){return(0,O.jsx)(C.jTJ,{})}}),(0,O.jsx)(f.Z,{withBackground:!0,foreColor:"card"===N?k.wL.SUCCEEDED_COLOR:k.wL.MAIN_COLOR,tooltip:i("show-item-as-card-tooltip"),onclick:function(){l((0,p.m1)("card"))},icon:function(){return(0,O.jsx)(v.sF$,{})}}),(0,O.jsx)(f.Z,{withBackground:!0,foreColor:"list"===N?k.wL.SUCCEEDED_COLOR:k.wL.MAIN_COLOR,tooltip:i("show-item-as-row-tooltip"),onclick:function(){l((0,p.m1)("list"))},icon:function(){return(0,O.jsx)(g.hON,{})}}),(0,O.jsx)(f.Z,{withBackground:!0,tooltip:i("go-back"),onclick:function(){c.goBack()},icon:function(){return(0,O.jsx)(Z.D_,{})},foreColor:k.wL.MAIN_COLOR})]})]})},b=r(6886),H=r(3541),R=r(6201),E=r(6425),F=r(9104);var A=function(n){var e=n.onSelectedChange,r=(0,o.$)().t,i=(0,a.k6)(),m=(0,_.I0)(),h=(0,_.v9)(H.tT),f=h.token,x=h.user,j=(0,_.v9)(p.zY),v=j.companies,g=j.count,C=j.status,Z=(0,_.v9)(p.lB),w=Z.searchName,A=Z.searchCity,T=(0,_.v9)(p.lB).displayType,B=(0,_.v9)(E.VY),W=function(){m((0,p.ap)({token:f}))},S=function(){m((0,p.bO)()),W()};return(0,t.useEffect)((function(){return 0===v.length&&W(),window.scrollTo(0,0),e(),function(){(0,p.iX)()}}),[]),x?(0,O.jsxs)("div",{className:y.Z.container,children:[(0,O.jsx)(L,{search:S,refreshHandler:function(){m((0,R.iF)()),m((0,R._l)({token:f})),m((0,p.E5)()),W()},count:g,keyUpHandler:function(n){13!==n.keyCode&&((0,p.iX)(),N&&clearTimeout(N),N=setTimeout((function(){S()}),200))}}),g>0&&(0,O.jsxs)("div",{className:y.Z.count,children:[(0,O.jsx)("span",{className:y.Z.label,children:r("companies-count")}),(0,O.jsx)("span",{className:y.Z.count,children:g})]}),"list"===T&&v.map((function(n){return(0,O.jsx)(s.Z,{partner:n,addPartnerToFavoriteHandler:function(){return(0,F.Vl)(n,B,m,f,x)},addCompanyToOurCompaniesHandler:function(){return(0,F.R9)(n,B,m,f)},removeCompanyFromOurCompaniesHandler:function(){(0,F.ql)(n,B,m,f)},removePartnerFromFavoriteHandler:function(){(0,F.Bd)(n,B,m,f)},partnerRowClickHandler:function(e){return(0,F.Vt)(n,e,x,m,f,i)}},n._id)})),"card"===T&&(0,O.jsx)("div",{className:[y.Z.flex_container,y.Z.margin_top_10].join(" "),children:v.map((function(n){return(0,O.jsx)(d.Z,{partner:n,addPartnerToFavoriteHandler:function(){return(0,F.Vl)(n,B,m,f,x)},addCompanyToOurCompaniesHandler:function(){return(0,F.R9)(n,B,m,f)},removeCompanyFromOurCompaniesHandler:function(){(0,F.ql)(n,B,m,f)},removePartnerFromFavoriteHandler:function(){(0,F.Bd)(n,B,m,f)},partnerRowClickHandler:function(e){return(0,F.Vt)(n,e,x,m,f,i)}},n._id)}))}),g>0&&"loading"!==C&&(0,O.jsxs)("div",{className:y.Z.count,children:[v.length," / ",g]}),0===v.length&&"loading"!==C&&0===w.length&&A===k.zx.ALL&&(0,O.jsx)(u.Z,{msg:r("no-companies")}),0===v.length&&"loading"!==C&&(0!==w.length||A!==k.zx.ALL)&&(0,O.jsx)(u.Z,{msg:r("no-result-found")}),"loading"===C&&(0,O.jsx)("div",{className:y.Z.flex_container,children:(0,O.jsx)(c(),{color:k.wL.SECONDARY_COLOR,type:"cylon"})}),v.length<g&&(0,O.jsx)("div",{className:y.Z.flex_container,children:(0,O.jsx)(b.Z,{text:r("more"),action:function(){B?W():m((0,E.Rb)())},bgColor:k.wL.SECONDARY_COLOR,icon:function(){return(0,O.jsx)(l.lYW,{})}})}),v.length===g&&"loading"!==C&&0!==g&&(0,O.jsx)("p",{className:[y.Z.center,y.Z.fc_secondary].join(" "),children:r("no-more")})]}):(0,O.jsx)(a.l_,{to:"/signin"})}},6349:function(n,e){e.Z={small_font:"search-container_small_font__Ha0Xq",search_container:"search-container_search_container__6isGM",expanded:"search-container_expanded__79n+k",expanded_div:"search-container_expanded_div__Hmmm1",checkbox_div:"search-container_checkbox_div__RPj5T"}}}]);
//# sourceMappingURL=6085.ff0455ce.chunk.js.map