"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[1349],{6886:function(e,a,l){l.d(a,{Z:function(){return t}});var s=l(885),r=l(2791),n=l(3585),c="button-with-icon_button__Yrwl2",i=l(3329);var t=function(e){var a=e.action,l=e.text,t=e.bgColor,o=e.icon,m=(e.smallText,(0,r.useState)(!1)),d=(0,s.Z)(m,2),_=d[0],u=d[1],b=function(){u(!_)};return(0,i.jsxs)("div",{className:c,onClick:a,style:{border:"1px solid ".concat(t),backgroundColor:_?t:n.wL.WHITE_COLOR,color:_?n.wL.WHITE_COLOR:t},onMouseEnter:b,onMouseLeave:b,children:[(0,i.jsx)("p",{children:l}),o&&o()]})}},1886:function(e,a,l){l.d(a,{Z:function(){return b}});l(2791);var s=l(3168),r=l(8820),n=l(7425),c=l(7500),i=l(6030),t=l(3107),o={small_font:"cart-row_small_font__wEnNx",qty:"cart-row_qty__HdE0h",bonus_row:"cart-row_bonus_row__dM67o"},m=l(4131),d=l(3559),_=l(3585),u=l(3329);var b=function(e){var a=e.cartItem,l=e.inOrderDetails,b=(0,s.$)().t,h=(0,i.I0)();return(0,u.jsxs)("div",{className:[m.Z.container,a.bonus?o.bonus_row:""].join(" "),children:[(0,u.jsx)("label",{className:d.Z.label_medium,children:a.item.name}),(0,u.jsx)("label",{className:d.Z.label_small,children:a.item.company.name}),(0,u.jsx)("label",{className:d.Z.label_small,children:a.item.formula}),(0,u.jsxs)("label",{className:d.Z.label_small,children:[a.item.caliber," / ",a.item.packing]}),(0,u.jsxs)("label",{className:d.Z.label_small,children:[l?a.price:a.item.price," /"," ",l?a.customer_price:a.item.customer_price]}),l?(0,u.jsx)("div",{className:[d.Z.label_small,o.qty].join(" "),children:a.qty}):(0,u.jsxs)("div",{className:[d.Z.label_small,o.qty].join(" "),children:[!a.bonus&&(0,u.jsx)(r.rYR,{onClick:function(){a.qty>0&&h((0,t.WG)(a))}}),a.qty,!a.bonus&&(0,u.jsx)(r.FtK,{onClick:function(){(0!==a.warehouse.maxQty&&a.qty<a.warehouse.maxQty||0===a.warehouse.maxQty)&&h((0,t.zb)(a))}})]}),(0,u.jsxs)("label",{className:d.Z.label_xsmall,children:[a.bonus&&a.bonus," ",a.bonus?a.bonusType===_.Hg.PERCENTAGE?b("after-bonus-percentage-label"):b("after-quantity-label"):"-"]}),(0,u.jsx)("label",{className:d.Z.label_small,children:a.qty*(l?a.price:a.item.price)-(a.bonus&&a.bonusType===_.Hg.PERCENTAGE?a.qty*(l?a.price:a.item.price)*a.bonus/100:0)}),!l&&(0,u.jsx)("label",{className:d.Z.label_xsmall,children:(0,u.jsx)(c.Z,{icon:function(){return(0,u.jsx)(n.w6k,{size:20})},foreColor:_.wL.FAILED_COLOR,tooltip:b("delete-cart-row"),onclick:function(){return h((0,t.Cn)(a))}})})]})}},2888:function(e,a,l){l(2791);var s=l(3168),r=l(3004),n=l(3559),c=l(3329);a.Z=function(e){var a=e.withoutMaxQty,l=(0,s.$)().t;return(0,c.jsxs)(r.Z,{children:[(0,c.jsx)("label",{className:n.Z.label_medium,children:l("item-trade-name")}),(0,c.jsx)("label",{className:n.Z.label_small,children:l("user-company-name")}),(0,c.jsx)("label",{className:n.Z.label_small,children:l("item-formula")}),(0,c.jsxs)("label",{className:n.Z.label_small,children:[l("item-caliber"),"/",l("item-packing")]}),(0,c.jsx)("label",{className:n.Z.label_small,children:l("price")}),(0,c.jsx)("label",{className:n.Z.label_small,children:l("selected-qty")}),(0,c.jsx)("label",{className:n.Z.label_xsmall,children:l("offer-label")}),(0,c.jsx)("label",{className:n.Z.label_small,children:l("total-price")}),!a&&(0,c.jsx)("label",{className:n.Z.label_xsmall})]})}},1061:function(e,a,l){l.d(a,{Z:function(){return m}});l(2791);var s=l(9271),r=l(7500),n=l(4373),c=l(3585),i="header_header__MhatS",t="header_back__wgjRV",o=l(3329);var m=function(e){var a=e.children,l=(0,s.k6)();return(0,o.jsxs)("div",{className:i,children:[a,(0,o.jsx)("div",{className:t,children:(0,o.jsx)(r.Z,{onclick:function(){l.goBack()},icon:function(){return(0,o.jsx)(n.D_,{})},foreColor:c.wL.WHITE_COLOR})})]})}},3575:function(e,a,l){l(2791);var s=l(9942),r=l(3126),n=l(3585),c=l(3329);a.Z=function(e){var a=e.msg;return(0,c.jsxs)("div",{className:[s.Z.no_content_div].join(" "),children:[(0,c.jsx)("img",{src:r,alt:"thumb",style:{width:"150px",height:"150px"}}),(0,c.jsx)("p",{style:{color:n.wL.MAIN_COLOR},children:a})]})}},3004:function(e,a,l){l.d(a,{Z:function(){return n}});l(2791);var s="table-header_header__Vm2um",r=l(3329);var n=function(e){var a=e.children;return(0,r.jsx)("div",{className:s,children:a})}},1349:function(e,a,l){l.r(a),l.d(a,{default:function(){return H}});var s=l(2791),r=l(9271),n=l(3168),c=l(6030),i=l(3541),t=l(3107),o=l(1061),m=l(885),d=l(8785),_=l(6425),u=l(3994),b=l(3666),h=l(1886),x=l(2888),j=l(8489),f=l(2541),v=l(6886),p=l(8820),N=l(7425),w={small_font:"cart-item-card_small_font__aBnOR",max_qty_div:"cart-item-card_max_qty_div__2py2i",input:"cart-item-card_input__0E6Jy",container:"cart-item-card_container__I3xwe",header:"cart-item-card_header__cIref",name:"cart-item-card_name__VXW1Q",delete_icon:"cart-item-card_delete_icon__ewtjV",details:"cart-item-card_details__8rUMf",row:"cart-item-card_row__altFb",label:"cart-item-card_label__vOnNA",first:"cart-item-card_first__UzIDP",qty:"cart-item-card_qty__e3TLk",value:"cart-item-card_value__l3OD3",price:"cart-item-card_price__Dk4XD",customer_price:"cart-item-card_customer_price__uovGL",ellipsis:"cart-item-card_ellipsis__B87xF",last_row:"cart-item-card_last_row__yPlCw",sum_row:"cart-item-card_sum_row__PJ8ov",qty_row:"cart-item-card_qty_row__mRc8V",total_price:"cart-item-card_total_price__08c0r",actions:"cart-item-card_actions__+6rq9",inline_block:"cart-item-card_inline_block__f8cEb",loading:"cart-item-card_loading__3VlHu","loading-move":"cart-item-card_loading-move__WLBsh",ribbon_2:"cart-item-card_ribbon_2__Ou2Iq"},y=l(3585),Z=l(3329);var g=function(e){var a=e.cartItem,l=e.inOrderDetails,r=(0,n.$)().t,i=(0,c.I0)(),o=(0,s.useState)(!1),d=(0,m.Z)(o,2),_=d[0],u=d[1];return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:w.container,children:[(0,Z.jsxs)("div",{className:w.header,children:[(0,Z.jsx)("div",{className:[w.name,w.ellipsis].join(" "),onClick:function(){u(!_)},children:a.item.name}),(0,Z.jsx)("div",{className:w.delete_icon,onClick:function(){return i((0,t.Cn)(a))},children:(0,Z.jsx)(N.w6k,{color:y.wL.FAILED_COLOR})})]}),(0,Z.jsxs)("div",{className:w.details,children:[_&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("div",{className:[w.row].join(" "),children:(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("label",{className:[w.label,w.first].join(" "),children:[r("item-company"),":"]}),(0,Z.jsx)("label",{className:w.value,children:a.item.company.name})]})}),(0,Z.jsxs)("div",{className:w.row,children:[(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("label",{className:[w.label,w.first].join(" "),children:[r("item-formula"),":"]}),(0,Z.jsx)("label",{className:w.value,children:a.item.formula})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("label",{className:w.label,children:[r("item-caliber"),":"]}),(0,Z.jsx)("label",{className:w.value,children:a.item.caliber})]})]}),(0,Z.jsx)("div",{className:w.row,children:(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("label",{className:[w.label,w.first].join(" "),children:[r("item-packing"),":"]}),(0,Z.jsx)("label",{className:w.value,children:a.item.packing})]})})]}),(0,Z.jsxs)("div",{className:w.row,children:[(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("label",{className:[w.label,w.first].join(" "),children:[r("item-price"),":"]}),(0,Z.jsx)("label",{className:[w.value,w.price].join(" "),children:a.item.price})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("label",{className:w.label,children:[r("item-customer-price"),":"]}),(0,Z.jsx)("label",{className:[w.value,w.customer_price].join(" "),children:a.item.customer_price})]})]}),_&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{className:[w.row,w.first].join(" "),children:(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("label",{className:w.label,children:[r("item-max-qty"),":"]}),(0,Z.jsx)("label",{className:w.value,children:a.warehouse.maxQty?a.warehouse.maxQty:""})]})})}),(0,Z.jsxs)("div",{className:w.row,children:[(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("label",{className:[w.label,w.first].join(" "),children:[r("quantity-label"),":"]}),!a.bonus&&(0,Z.jsx)("label",{onClick:function(){a.qty>0&&i((0,t.WG)(a))},className:w.minus,children:(0,Z.jsx)(p.n6z,{color:y.wL.FAILED_COLOR,style:{position:"relative",top:"5px"}})}),(0,Z.jsx)("label",{className:w.qty,children:a.qty}),!a.bonus&&(0,Z.jsx)("label",{onClick:function(){(0!==a.warehouse.maxQty&&a.qty<a.warehouse.maxQty||0===a.warehouse.maxQty)&&i((0,t.zb)(a))},className:w.plus,children:(0,Z.jsx)(p.OzW,{color:y.wL.SUCCEEDED_COLOR,style:{position:"relative",top:"5px"}})})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("label",{className:[w.label].join(" "),children:[r("offer-label"),":"]}),(0,Z.jsxs)("label",{className:w.value,children:[a.bonus&&a.bonus,a.bonus?a.bonusType===y.Hg.PERCENTAGE?r("after-bonus-percentage-label"):r("after-quantity-label"):"-"]})]})]}),(0,Z.jsx)("div",{className:[w.sum_row].join(" "),children:(0,Z.jsx)("label",{className:w.total_price,children:a.qty*(l?a.price:a.item.price)-(a.bonus&&a.bonusType===y.Hg.PERCENTAGE?a.qty*(l?a.price:a.item.price)*a.bonus/100:0)})})]})]})})},C=l(3853),k=l(6856),E="cart-warehouse_header__XorCl",q="cart-warehouse_name__UjOCO",L="cart-warehouse_icon__D-CwQ",O="cart-warehouse_total_price__XfuYf",R="cart-warehouse_separator__rpYPA",I="cart-warehouse_on_large__Fd8PF",T="cart-warehouse_on_small__0GhyT";var F=function(e){var a=e.warehouse,l=(0,n.$)().t,r=(0,c.I0)(),o=(0,c.v9)(_.VY),p=(0,c.v9)(i.tT),N=p.token,w=p.user,F=(0,c.v9)(t.D1),D=(0,s.useState)(!1),A=(0,m.Z)(D,2),H=A[0],M=A[1],P=(0,s.useState)(!1),Q=(0,m.Z)(P,2),S=Q[0],G=Q[1],V=(0,s.useState)(!1),W=(0,m.Z)(V,2),Y=W[0],U=W[1],z=(0,s.useState)(!1),$=(0,m.Z)(z,2),B=$[0],X=$[1],J=(0,s.useState)(!1),K=(0,m.Z)(J,2),ee=K[0],ae=K[1];return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:E,children:[(0,Z.jsxs)("div",{className:q,onClick:function(){return ae(!ee)},children:[(0,Z.jsx)("label",{className:L,children:ee?(0,Z.jsx)(k.Yc6,{}):(0,Z.jsx)(k.Faw,{})}),(0,Z.jsx)("label",{children:a})]}),(0,Z.jsx)("label",{children:(0,Z.jsx)(v.Z,{text:l("send-order"),bgColor:y.wL.SUCCEEDED_COLOR,action:function(){return X(!0)},icon:function(){return(0,Z.jsx)(C.LbG,{})}})}),(0,Z.jsxs)("label",{className:O,children:[l("total-invoice-price")," ",function(){var e=0;return F.filter((function(e){return e.warehouse.warehouse.name===a})).forEach((function(a){e=e+a.qty*a.item.price-(a.bonus&&a.bonusType===y.Hg.PERCENTAGE?a.qty*a.item.price*a.bonus/100:0)})),e}()]})]}),ee&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("div",{className:I,children:(0,Z.jsx)(x.Z,{})}),F.filter((function(e){return e.warehouse.warehouse.name===a})).map((function(e,a){return(0,Z.jsxs)("div",{children:[(0,Z.jsx)("div",{className:I,children:(0,Z.jsx)(h.Z,{cartItem:e})}),(0,Z.jsx)("div",{className:T,children:(0,Z.jsx)(g,{cartItem:e})})]},a)})),(0,Z.jsx)("div",{className:R})]}),Y&&(0,Z.jsx)(f.Z,{allowCancel:!1}),H&&(0,Z.jsx)(j.Z,{closeModal:function(){M(!1),r((0,t.C3)(a))},header:l("send-order"),cancelLabel:l("close-label"),small:!0,green:!0,children:l("send-order-succeeded")}),S&&(0,Z.jsx)(j.Z,{closeModal:function(){G(!1)},header:l("send-order"),cancelLabel:l("close-label"),small:!0,children:l("send-order-failed")}),B&&(0,Z.jsx)(j.Z,{closeModal:function(){X(!1)},header:l("send-order"),cancelLabel:l("cancel-label"),okLabel:l("send-order"),okModal:function(){if(o){U(!0);var e={pharmacy:w._id,warehouse:F.filter((function(e){return e.warehouse.warehouse.name===a}))[0].warehouse.warehouse._id,items:F.filter((function(e){return e.warehouse.warehouse.name===a})).map((function(e){return{item:e.item._id,qty:e.qty,bonus:e.bonus,bonusType:e.bonusType,price:e.item.price,customer_price:e.item.customer_price}}))};r((0,b.TR)({obj:e,token:N})).then(d.SI).then((function(){r((0,u.F$)({obj:{sourceUser:w._id,targetUser:null,action:"user-made-an-order"},token:N})),U(!1),M(!0)})).catch((function(e){U(!1),G(!0)})),r((0,b.n9)(!0))}else r((0,_.Rb)())},small:!0,children:l("confirm-save-order")})]})},D=l(3575),A=l(9942);var H=function(e){var a=e.onSelectedChange,l=(0,n.$)().t,m=(0,c.v9)(i.dy),d=(0,c.v9)(t.cj);return(0,s.useEffect)((function(){a()}),[]),m&&m.type===y.Wl.PHARMACY?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(o.Z,{children:(0,Z.jsx)("h2",{children:l("cart")})}),(0,Z.jsxs)("div",{className:A.Z.container_with_header,children:[d.length>0&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{children:d.map((function(e,a){return(0,Z.jsx)(F,{warehouse:e},a)}))})}),0===d.length&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(D.Z,{msg:l("empty-cart")})})]})]}):(0,Z.jsx)(r.l_,{to:"/signin"})}},3559:function(e,a){a.Z={small_font:"table_small_font__bV+Nb",label_small:"table_label_small__8-3Up",label_xsmall:"table_label_xsmall__F3kmN",label_medium:"table_label_medium__gVQ8c",label_large:"table_label_large__Yk8HG",center:"table_center__+B6kl",underline:"table_underline__PZHMx",hide_on_small:"table_hide_on_small__uIAcl",hide_on_medium:"table_hide_on_medium__HgYD8"}},3126:function(e,a,l){e.exports=l.p+"static/media/no-content.577bb836915173c305ce.jpeg"}}]);
//# sourceMappingURL=1349.3e0e8606.chunk.js.map