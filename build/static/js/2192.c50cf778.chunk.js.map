{"version":3,"file":"static/js/2192.c50cf778.chunk.js","mappings":"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","sources":["components/search-container/search-container.component.jsx","webpack://pharmacy-frontend/./src/components/search-partner-container/search-partner-container.module.scss?b2fb","components/search-partner-container/search-partner-container.component.jsx","pages/special-offers-page/special-offers-page.component.jsx","webpack://pharmacy-frontend/./src/components/search-container/search-container.module.scss?b7db"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\n// react-icons\nimport { FaFilter, FaSearch } from \"react-icons/fa\";\n\n// constants\nimport { Colors } from \"../../utils/constants\";\n\n// components\nimport Icon from \"../icon/icon.component\";\n\n// styles\nimport styles from \"./search-container.module.scss\";\n\nfunction SearchContainer({ children, searchAction, searchEngineAlert }) {\n  const { t } = useTranslation();\n\n  let childrenArray = React.Children.toArray(children);\n  const [moreSearchOptions, setMoreSearchOptions] = useState(false);\n\n  return (\n    <div className={[styles.search_container, styles.expanded].join(\" \")}>\n      <div className={styles.options_container}>\n        {childrenArray[0]}\n        {moreSearchOptions && childrenArray.length > 1\n          ? childrenArray.map((child, index) => {\n              if (index > 0) return child;\n              return null;\n            })\n          : null}\n\n        {moreSearchOptions && searchAction && (\n          <button\n            className={styles.search_button}\n            onClick={() => {\n              searchAction();\n              setMoreSearchOptions(false);\n            }}\n          >\n            {t(\"search\")}\n          </button>\n        )}\n      </div>\n\n      <div className={styles.icon_container}>\n        {childrenArray.length > 1 ? (\n          <Icon\n            onclick={() => setMoreSearchOptions(!moreSearchOptions)}\n            icon={() => <FaFilter size={24} color={Colors.WHITE_COLOR} />}\n            withAlertIcon={searchEngineAlert}\n          />\n        ) : searchAction ? (\n          <Icon\n            onclick={() => {\n              searchAction();\n              setMoreSearchOptions(false);\n            }}\n            icon={() => <FaSearch size={24} color={Colors.WHITE_COLOR} />}\n          />\n        ) : (\n          <></>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default SearchContainer;\n","// extracted by mini-css-extract-plugin\nexport default {\"small_font\":\"search-partner-container_small_font__326Lu\",\"container\":\"search-partner-container_container__pkV9k\",\"partners_container\":\"search-partner-container_partners_container__MqViX\",\"partner\":\"search-partner-container_partner__XJpNF\",\"name\":\"search-partner-container_name__zBnCa\",\"remove_icon\":\"search-partner-container_remove_icon__U80hW\",\"placeholder\":\"search-partner-container_placeholder__FOsnd\",\"label\":\"search-partner-container_label__J9E0U\",\"add_icon\":\"search-partner-container_add_icon__2rxoE\"};","import React, { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\n// redux stuff\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport { selectCompanies } from \"../../redux/company/companySlice\";\nimport { selectWarehouses } from \"../../redux/warehouse/warehousesSlice\";\n\n// components\nimport SelectPartnerModal from \"../../modals/select-partner-modal/select-partner-modal.component\";\n\n// icons\nimport { IoMdAddCircle, IoMdClose } from \"react-icons/io\";\n\n// constants\nimport { Colors, UserTypeConstants } from \"../../utils/constants\";\n\n// styles\nimport styles from \"./search-partner-container.module.scss\";\n\nconst SearchPartnerContainer = ({\n  label,\n  partners,\n  addId,\n  removeId,\n  partnerType,\n  action,\n}) => {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n\n  const { companies } = useSelector(selectCompanies);\n  const { warehouses } = useSelector(selectWarehouses);\n\n  const [showChoosePartnerModal, setShowChoosePartnerModal] = useState(false);\n\n  const clickHandler = () => {\n    if (partners?.length === 0) setShowChoosePartnerModal(true);\n  };\n\n  return (\n    <>\n      <div className={styles.container}>\n        <label className={styles.label}>{label}</label>\n        <div className={styles.partners_container} onClick={clickHandler}>\n          {partners?.length > 0 ? (\n            partners?.map((partner) => (\n              <div key={partner.value} className={styles.partner}>\n                <div className={styles.name}>{partner.label}</div>\n                <div\n                  className={styles.remove_icon}\n                  onClick={() => {\n                    dispatch(removeId(partner.value));\n                    if (action) action();\n                  }}\n                >\n                  <IoMdClose size={20} color={Colors.FAILED_COLOR} />\n                </div>\n              </div>\n            ))\n          ) : (\n            <label className={styles.placeholder}>\n              {partnerType === UserTypeConstants.WAREHOUSE\n                ? t(\"choose warehouse\")\n                : t(\"choose company\")}\n            </label>\n          )}\n        </div>\n        <IoMdAddCircle\n          size={32}\n          color={Colors.SUCCEEDED_COLOR}\n          className={styles.add_icon}\n          onClick={() => {\n            setShowChoosePartnerModal(true);\n          }}\n        />\n      </div>\n\n      {showChoosePartnerModal && (\n        <SelectPartnerModal\n          header={`${\n            partnerType === UserTypeConstants.WAREHOUSE\n              ? \"choose warehouse\"\n              : \"choose company\"\n          }`}\n          close={() => setShowChoosePartnerModal(false)}\n          chooseAction={(data) => {\n            dispatch(addId({ value: data._id, label: data.name }));\n            if (action) action();\n          }}\n          placeholder={`${\n            partnerType === UserTypeConstants.WAREHOUSE\n              ? \"enter warehouse name\"\n              : \"enter company name\"\n          }`}\n          data={\n            partnerType === UserTypeConstants.WAREHOUSE ? warehouses : companies\n          }\n        />\n      )}\n    </>\n  );\n};\n\nexport default SearchPartnerContainer;\n","import React, { useEffect } from \"react\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\n\n// redux stuff\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectUser, selectUserData } from \"../../redux/auth/authSlice\";\nimport {\n  addIdToWarehousesIds,\n  cancelOperation,\n  getBaskets,\n  removeIdFromWarehousesId,\n  resetBasketsArray,\n  selectBaskets,\n} from \"../../redux/baskets/basketsSlice\";\n\n// components\nimport SearchPartnerContainer from \"../../components/search-partner-container/search-partner-container.component\";\nimport MainContentContainer from \"../../components/main-content-container/main-content-container.component\";\nimport SearchContainer from \"../../components/search-container/search-container.component\";\nimport ButtonWithIcon from \"../../components/button-with-icon/button-with-icon.component\";\nimport ResultsCount from \"../../components/results-count/results-count.component\";\nimport NoMoreResult from \"../../components/no-more-result/no-more-result.component\";\nimport CylonLoader from \"../../components/cylon-loader/cylon-loader.component\";\nimport NoContent from \"../../components/no-content/no-content.component\";\nimport ActionBar from \"../../components/action-bar/action-bar.component\";\nimport Basket from \"../../components/basket/basket.component\";\nimport Icon from \"../../components/icon/icon.component\";\n\n// icons\nimport { IoMdArrowRoundBack } from \"react-icons/io\";\nimport { CgMoreVertical } from \"react-icons/cg\";\nimport { RiRefreshLine } from \"react-icons/ri\";\n\n// constants\nimport { Colors, UserTypeConstants } from \"../../utils/constants\";\n\nconst SpecialOffersPage = ({ onSelectedChange }) => {\n  const { t } = useTranslation();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const user = useSelector(selectUser);\n  const { token } = useSelector(selectUserData);\n  const { status, baskets, count, pageState } = useSelector(selectBaskets);\n\n  const handleSearch = () => {\n    dispatch(getBaskets({ token }));\n  };\n\n  const handleMoreResult = () => {\n    // if (!isOnline) {\n    //   dispatch(changeOnlineMsg());\n    //   return;\n    // }\n\n    handleSearch();\n  };\n\n  const handleEnterPress = () => {\n    dispatch(resetBasketsArray());\n    handleSearch();\n    window.scrollTo(0, 0);\n  };\n\n  useEffect(() => {\n    if (baskets.length === 0) handleSearch();\n\n    window.scrollTo(0, 0);\n\n    onSelectedChange();\n\n    return () => {\n      cancelOperation();\n    };\n  }, []);\n  return user.type === UserTypeConstants.PHARMACY ? (\n    <>\n      <SearchContainer>\n        <SearchPartnerContainer\n          label={t(\"warehouse\")}\n          partners={pageState?.searchWarehousesIds}\n          addId={addIdToWarehousesIds}\n          removeId={removeIdFromWarehousesId}\n          partnerType={UserTypeConstants.WAREHOUSE}\n          action={handleEnterPress}\n        />\n      </SearchContainer>\n      <ActionBar>\n        <Icon\n          withBackground={true}\n          icon={() => <RiRefreshLine />}\n          foreColor={Colors.MAIN_COLOR}\n          tooltip={t(\"refresh\")}\n          onclick={handleEnterPress}\n        />\n        <Icon\n          withBackground={true}\n          tooltip={t(\"back\")}\n          onclick={() => {\n            history.goBack();\n          }}\n          icon={() => <IoMdArrowRoundBack />}\n          foreColor={Colors.MAIN_COLOR}\n        />\n      </ActionBar>\n      <MainContentContainer>\n        {count > 0 && <ResultsCount label={t(\"baskets count\")} count={count} />}\n        {baskets?.map((basket) => (\n          <Basket basket={basket} key={basket._id} editable={false} />\n        ))}\n\n        {count === 0 && status !== \"loading\" && (\n          <NoContent msg={t(\"no basket to order\")} />\n        )}\n        {status === \"loading\" && <CylonLoader />}\n        {count > 0 && status !== \"loading\" && (\n          <ResultsCount count={`${baskets.length} / ${count}`} />\n        )}\n        {baskets.length < count && (\n          <ActionBar>\n            <ButtonWithIcon\n              text={t(\"more\")}\n              action={handleMoreResult}\n              bgColor={Colors.LIGHT_COLOR}\n              icon={() => <CgMoreVertical />}\n            />\n          </ActionBar>\n        )}\n        {baskets.length === count && status !== \"loading\" && count !== 0 && (\n          <NoMoreResult msg={t(\"no more\")} />\n        )}\n      </MainContentContainer>\n    </>\n  ) : (\n    <Redirect to=\"/\" />\n  );\n};\n\nexport default SpecialOffersPage;\n","// extracted by mini-css-extract-plugin\nexport default {\"small_font\":\"search-container_small_font__Ha0Xq\",\"search_container\":\"search-container_search_container__6isGM\",\"options_container\":\"search-container_options_container__vvfU4\",\"search_button\":\"search-container_search_button__CR7Cm\",\"small_search_button\":\"search-container_small_search_button__FJ+gS\",\"checkbox_div\":\"search-container_checkbox_div__RPj5T\",\"icon_container\":\"search-container_icon_container__1e8wJ\"};"],"names":["children","searchAction","searchEngineAlert","t","useTranslation","childrenArray","React","useState","moreSearchOptions","setMoreSearchOptions","className","styles","join","length","map","child","index","onClick","onclick","icon","size","color","Colors","withAlertIcon","label","partners","addId","removeId","partnerType","action","dispatch","useDispatch","companies","useSelector","selectCompanies","warehouses","selectWarehouses","showChoosePartnerModal","setShowChoosePartnerModal","partner","value","UserTypeConstants","header","close","chooseAction","data","_id","name","placeholder","onSelectedChange","history","useHistory","user","selectUser","token","selectUserData","selectBaskets","status","baskets","count","pageState","handleSearch","getBaskets","handleEnterPress","resetBasketsArray","window","scrollTo","useEffect","cancelOperation","type","searchWarehousesIds","addIdToWarehousesIds","removeIdFromWarehousesId","withBackground","foreColor","tooltip","goBack","basket","editable","msg","text","bgColor","to"],"sourceRoot":""}