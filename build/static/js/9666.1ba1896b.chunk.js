"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[9666,3990],{1886:function(e,a,n){n.d(a,{Z:function(){return p}});n(2791);var l=n(3168),t=n(8820),s=n(7425),c=n(7500),r=n(6030),i=n(3107),o={qty:"cart-row_qty__HdE0h",bonus_row:"cart-row_bonus_row__dM67o"},d=n(4131),u=n(3559),h=n(3585),m=n(3329);var p=function(e){var a=e.cartItem,n=e.inOrderDetails,p=(0,l.$)().t,b=(0,r.I0)();return(0,m.jsxs)("div",{className:[d.Z.container,a.bonus?o.bonus_row:""].join(" "),children:[(0,m.jsx)("label",{className:u.Z.label_medium,children:a.item.name}),(0,m.jsx)("label",{className:u.Z.label_small,children:a.item.company.name}),(0,m.jsx)("label",{className:u.Z.label_small,children:a.item.formula}),(0,m.jsxs)("label",{className:u.Z.label_small,children:[a.item.caliber," / ",a.item.packing]}),(0,m.jsxs)("label",{className:u.Z.label_small,children:[n?a.price:a.item.price," /"," ",n?a.customer_price:a.item.customer_price]}),!n&&(0,m.jsx)("label",{className:u.Z.label_small,children:a.warehouse.maxQty?a.warehouse.maxQty:""}),n?(0,m.jsx)("div",{className:[u.Z.label_small,o.qty].join(" "),children:a.qty}):(0,m.jsxs)("div",{className:[u.Z.label_small,o.qty].join(" "),children:[!a.bonus&&(0,m.jsx)(t.rYR,{onClick:function(){a.qty>0&&b((0,i.WG)(a))}}),a.qty,!a.bonus&&(0,m.jsx)(t.FtK,{onClick:function(){(0!==a.warehouse.maxQty&&a.qty<a.warehouse.maxQty||0===a.warehouse.maxQty)&&b((0,i.zb)(a))}})]}),(0,m.jsxs)("label",{className:u.Z.label_xsmall,children:[a.bonus&&a.bonus," ",a.bonus?a.bonusType===h.Hg.PERCENTAGE?p("after-bonus-percentage-label"):p("after-quantity-label"):"-"]}),(0,m.jsx)("label",{className:u.Z.label_small,children:a.qty*(n?a.price:a.item.price)-(a.bonus&&a.bonusType===h.Hg.PERCENTAGE?a.qty*(n?a.price:a.item.price)*a.bonus/100:0)}),!n&&(0,m.jsx)("label",{className:u.Z.label_xsmall,children:(0,m.jsx)(c.Z,{icon:function(){return(0,m.jsx)(s.w6k,{size:20})},foreColor:h.wL.FAILED_COLOR,tooltip:"delete-cart-row",onclick:function(){return b((0,i.Cn)(a))}})})]})}},2888:function(e,a,n){n(2791);var l=n(3168),t=n(3004),s=n(3559),c=n(3329);a.Z=function(e){var a=e.withoutMaxQty,n=(0,l.$)().t;return(0,c.jsxs)(t.Z,{children:[(0,c.jsx)("label",{className:s.Z.label_medium,children:n("item-trade-name")}),(0,c.jsx)("label",{className:s.Z.label_small,children:n("user-company-name")}),(0,c.jsx)("label",{className:s.Z.label_small,children:n("item-formula")}),(0,c.jsxs)("label",{className:s.Z.label_small,children:[n("item-caliber"),"/",n("item-packing")]}),(0,c.jsx)("label",{className:s.Z.label_small,children:n("price")}),!a&&(0,c.jsx)("label",{className:s.Z.label_small,children:n("item-max-qty")}),(0,c.jsx)("label",{className:s.Z.label_small,children:n("selected-qty")}),(0,c.jsx)("label",{className:s.Z.label_xsmall,children:n("offer-label")}),(0,c.jsx)("label",{className:s.Z.label_small,children:n("total-price")}),!a&&(0,c.jsx)("label",{className:s.Z.label_xsmall})]})}},1061:function(e,a,n){n.d(a,{Z:function(){return u}});n(2791);var l=n(3168),t=n(4373),s=n(9271),c=n(3585),r=n(7500),i="header_header__MhatS",o="header_back__wgjRV",d=n(3329);var u=function(e){var a=e.children,n=((0,l.$)().t,(0,s.k6)());return(0,d.jsxs)("div",{className:i,children:[a,(0,d.jsx)("div",{className:o,children:(0,d.jsx)(r.Z,{onclick:function(){n.goBack()},icon:function(){return(0,d.jsx)(t.D_,{})},foreColor:c.wL.WHITE_COLOR})})]})}},3575:function(e,a,n){n(2791);var l=n(9942),t=n(6372),s=n(3329);a.Z=function(e){return e.msg,(0,s.jsx)("div",{className:[l.Z.no_content_div,l.Z.fc_white].join(" "),children:(0,s.jsx)("img",{src:t,alt:"thumb",style:{width:"150px",height:"150px"}})})}},3004:function(e,a,n){n.d(a,{Z:function(){return s}});n(2791);var l="table-header_header__Vm2um",t=n(3329);var s=function(e){var a=e.children;return(0,t.jsx)("div",{className:l,children:a})}},3990:function(e,a,n){n.r(a),n.d(a,{default:function(){return A}});var l=n(2791),t=n(9271),s=n(3168),c=n(6030),r=n(3541),i=n(3107),o=n(1061),d=n(2982),u=n(885),h=n(4569),m=n.n(h),p=n(6425),b=n(3994),x=n(1886),f=n(1176),_=n(2888),j=n(8489),N=n(2541),v="cart-warehouse_header__XorCl",w="cart-warehouse_total_price__XfuYf",S=n(3585),y=n(6481),O=n(3666),Z=n(3329);var g=function(e){var a=e.warehouse,n=(0,s.$)().t,t=(0,c.I0)(),o=(0,c.v9)(p.VY),h=(0,c.v9)(r.tT),g=h.token,T=h.user,C=(0,c.v9)(i.D1),A=(0,c.v9)(y.vi).settings.saveOrders,E=(0,l.useState)(!1),k=(0,u.Z)(E,2),q=k[0],P=k[1],I=(0,l.useState)(!1),R=(0,u.Z)(I,2),W=R[0],z=R[1],B=(0,l.useState)(!1),H=(0,u.Z)(B,2),F=H[0],L=H[1],M=(0,l.useState)(!1),D=(0,u.Z)(M,2),$=D[0],Q=D[1],Y=function(){var e=0;return C.filter((function(e){return e.warehouse.warehouse.name===a})).forEach((function(a){e=e+a.qty*a.item.price-(a.bonus&&a.bonusType===S.Hg.PERCENTAGE?a.qty*a.item.price*a.bonus/100:0)})),e};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("h4",{className:v,children:a}),(0,Z.jsx)(_.Z,{}),C.filter((function(e){return e.warehouse.warehouse.name===a})).map((function(e,a){return(0,Z.jsx)(x.Z,{cartItem:e},a)})),(0,Z.jsxs)("p",{className:w,children:[n("total-invoice-price")," ",Y()]}),(0,Z.jsx)(f.Z,{text:n("send-order"),bgColor:S.wL.SUCCEEDED_COLOR,action:function(){return Q(!0)}}),F&&(0,Z.jsx)(N.Z,{allowCancel:!1}),q&&(0,Z.jsx)(j.Z,{closeModal:function(){P(!1),t((0,i.C3)(a))},header:n("send-order"),cancelLabel:n("cancel-label"),small:!0,green:!0,children:n("send-order-succeeded")}),W&&(0,Z.jsx)(j.Z,{closeModal:function(){z(!1)},header:n("send-order"),cancelLabel:n("cancel-label"),small:!0,children:n("send-order-failed")}),$&&(0,Z.jsx)(j.Z,{closeModal:function(){Q(!1)},header:n("send-order"),cancelLabel:n("cancel-label"),okLabel:n("send-order"),okModal:function(){if(o){L(!0);var e=C.filter((function(e){return e.warehouse.warehouse.name===a})).map((function(e){return{itemName:e.item.name,companyName:e.item.company.name,warehouseName:e.warehouse.warehouse.name,formula:e.item.formula,caliber:e.item.caliber,packing:e.item.packing,price:e.item.price,customerPrice:e.item.customer_price,quantity:e.qty,bonus:e.bonusType?"".concat(e.bonus," ").concat("pieces"===e.bonusType?"\u0642\u0637\u0639":"%"):"",totalPrice:e.qty*e.item.price-(e.bonus&&"percentage"===e.bonusType?e.qty*e.item.price*e.bonus/100:0)}}));e=[].concat((0,d.Z)(e),[{itemName:"",companyName:"",warehouseName:"",formula:"",caliber:"",packing:"",price:"",customerPrice:"",quantity:"",bonus:"",totalPrice:Y()}]),m().post("".concat(S.Hc,"/users/sendemail"),{cartItems:e},{timeout:25e3,headers:{Authorization:"Bearer ".concat(g)}}).then((function(){if(t((0,b.lc)({token:g})),L(!1),P(!0),A){var e={pharmacy:T._id,warehouse:C.filter((function(e){return e.warehouse.warehouse.name===a}))[0].warehouse.warehouse._id,items:C.filter((function(e){return e.warehouse.warehouse.name===a})).map((function(e){return{item:e.item._id,qty:e.qty,bonus:e.bonus,bonusType:e.bonusType,price:e.item.price,customer_price:e.item.customer_price}}))};t((0,O.TR)({obj:e,token:g})),t((0,O.n9)(!0))}})).catch((function(e){L(!1),z(!0)}))}else t((0,p.Rb)())},small:!0,children:n("confirm-save-order")})]})},T=n(3575),C=n(9942);var A=function(e){var a=e.onSelectedChange,n=(0,s.$)().t,d=(0,c.v9)(r.dy),u=(0,c.v9)(i.cj);return(0,l.useEffect)((function(){a()}),[]),d&&d.type===S.Wl.PHARMACY?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(o.Z,{children:(0,Z.jsx)("h2",{children:n("cart")})}),(0,Z.jsxs)("div",{className:C.Z.container_with_header,children:[u.length>0&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{children:u.map((function(e,a){return(0,Z.jsx)(g,{warehouse:e},a)}))})}),0===u.length&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(T.Z,{msg:n("empty-cart")})})]})]}):(0,Z.jsx)(t.l_,{to:"/signin"})}},9666:function(e,a,n){n.r(a);var l=n(2791),t=n(9271),s=n(4681),c=n(3585),r=n(3990),i=n(3329),o=(0,l.lazy)((function(){return Promise.all([n.e(4723),n.e(5760)]).then(n.bind(n,4723))})),d=(0,l.lazy)((function(){return Promise.all([n.e(9126),n.e(5421)]).then(n.bind(n,1854))})),u=(0,l.lazy)((function(){return Promise.all([n.e(5717),n.e(2188)]).then(n.bind(n,2188))})),h=(0,l.lazy)((function(){return Promise.all([n.e(9126),n.e(4816),n.e(3234)]).then(n.bind(n,4816))})),m=(0,l.lazy)((function(){return Promise.all([n.e(5503),n.e(5515)]).then(n.bind(n,5503))})),p=(0,l.lazy)((function(){return n.e(8674).then(n.bind(n,8674))})),b=(0,l.lazy)((function(){return n.e(6356).then(n.bind(n,483))})),x=(0,l.lazy)((function(){return Promise.all([n.e(7692),n.e(5080)]).then(n.bind(n,5830))})),f=(0,l.lazy)((function(){return Promise.all([n.e(9126),n.e(5668),n.e(5513)]).then(n.bind(n,5668))})),_=(0,l.lazy)((function(){return Promise.all([n.e(4321),n.e(3867)]).then(n.bind(n,4321))})),j=(0,l.lazy)((function(){return Promise.all([n.e(9126),n.e(9665),n.e(8233)]).then(n.bind(n,9665))})),N=(0,l.lazy)((function(){return Promise.all([n.e(9126),n.e(8484),n.e(3301)]).then(n.bind(n,7096))}));a.default=function(e){var a=e.changeOptionHandler;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.Suspense,{fallback:(0,i.jsx)(s.Z,{}),children:(0,i.jsxs)(t.rs,{children:[(0,i.jsx)(t.AW,{exact:!0,path:"/",children:(0,i.jsx)(u,{onSelectedChange:function(){a({selectedTopNavOption:c.c.HOME,collapsedSideNavOption:!0,selectedSideNavOption:"",showTopNav:!1,showSearchBar:!1})}})}),(0,i.jsx)(t.AW,{exact:!0,path:"/companies",children:(0,i.jsx)(o,{onSelectedChange:function(){a({selectedTopNavOption:c.c.COMPANIES,collapsedSideNavOption:!0,selectedSideNavOption:"",showTopNav:!1,showSearchBar:!1})}})}),(0,i.jsx)(t.AW,{exact:!0,path:"/medicines",children:(0,i.jsx)(m,{onSelectedChange:function(){a({selectedTopNavOption:c.c.MEDICINES,collapsedSideNavOption:!0,selectedSideNavOption:"",showTopNav:!1,showSearchBar:!1})}})}),(0,i.jsx)(t.AW,{exact:!0,path:"/warehouses",children:(0,i.jsx)(_,{onSelectedChange:function(){a({selectedTopNavOption:c.c.WAREHOUSES,collapsedSideNavOption:!0,selectedSideNavOption:"",showTopNav:!1,showSearchBar:!1})}})}),(0,i.jsx)(t.AW,{exact:!0,path:"/item",children:(0,i.jsx)(h,{})}),(0,i.jsx)(t.AW,{exact:!0,path:"/profile",children:(0,i.jsx)(f,{onSelectedChange:function(){a({selectedTopNavOption:"",collapsedSideNavOption:!0,selectedSideNavOption:c.$6.PROFILE,showTopNav:!1,showSearchBar:!1})}})}),(0,i.jsx)(t.AW,{exact:!0,path:"/favorites",children:(0,i.jsx)(d,{onSelectedChange:function(){a({selectedTopNavOption:c.c.FAVORITES,collapsedSideNavOption:!0,selectedSideNavOption:"",showTopNav:!1,showSearchBar:!1})}})}),(0,i.jsx)(t.AW,{exact:!0,path:"/cart",children:(0,i.jsx)(r.default,{onSelectedChange:function(){a({selectedTopNavOption:"",collapsedSideNavOption:!0,selectedSideNavOption:c.c.CART,showTopNav:!1,showSearchBar:!1})}})}),(0,i.jsx)(t.AW,{exact:!0,path:"/notifications",children:(0,i.jsx)(x,{onSelectedChange:function(){a({selectedTopNavOption:"",collapsedSideNavOption:!0,selectedSideNavOption:c.$6.NOTIFICATIONS,showTopNav:!1,showSearchBar:!1})}})}),(0,i.jsx)(t.AW,{exact:!0,path:"/notification/:notificationId",children:(0,i.jsx)(b,{onSelectedChange:function(){a({selectedTopNavOption:"",collapsedSideNavOption:!0,selectedSideNavOption:c.$6.NOTIFICATIONS,showTopNav:!1,showSearchBar:!1})}})}),(0,i.jsx)(t.AW,{exact:!0,path:"/orders",children:(0,i.jsx)(j,{onSelectedChange:function(){a({selectedTopNavOption:"",collapsedSideNavOption:!0,selectedSideNavOption:c.$6.ORDERS,showTopNav:!1,showSearchBar:!1})}})}),(0,i.jsx)(t.AW,{exact:!0,path:"/order-details",children:(0,i.jsx)(N,{onSelectedChange:function(){a({selectedTopNavOption:"",collapsedSideNavOption:!0,selectedSideNavOption:c.$6.ORDERS,showTopNav:!1,showSearchBar:!1})}})}),(0,i.jsx)(t.AW,{component:p})]})})})}},3559:function(e,a){a.Z={label_small:"table_label_small__8-3Up",label_xsmall:"table_label_xsmall__F3kmN",label_medium:"table_label_medium__gVQ8c",label_large:"table_label_large__Yk8HG",center:"table_center__+B6kl",underline:"table_underline__PZHMx",hide_on_small:"table_hide_on_small__uIAcl",hide_on_medium:"table_hide_on_medium__HgYD8"}},6372:function(e,a,n){e.exports=n.p+"static/media/no-content.5522bf60228916ffdb36.png"}}]);
//# sourceMappingURL=9666.1ba1896b.chunk.js.map