"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[4007],{4960:function(e,n,a){a.d(n,{Z:function(){return t}});a(2791);var o="custom-checkbox_container__xRmIL",c="custom-checkbox_checkmark__Sr2i9",r=a(3329),t=function(e){var n=e.label,a=e.value,t=e.changeHandler;return(0,r.jsxs)("div",{className:o,onClick:t,children:[(0,r.jsx)("input",{type:"checkbox",checked:a,value:a,onChange:function(){t()}}),(0,r.jsx)("span",{className:c}),(0,r.jsx)("label",{children:n})]})}},6824:function(e,n,a){var o=a(885),c=a(2791),r=a(3168),t=a(6355),i=a(3585),s=a(9883),l=a(6349),d=a(3329);n.Z=function(e){var n=e.children,a=e.searchAction,u=e.searchEngineAlert,h=(0,r.$)().t,_=c.Children.toArray(n),m=(0,c.useState)(!1),f=(0,o.Z)(m,2),p=f[0],v=f[1];return(0,d.jsxs)("div",{className:[l.Z.search_container,l.Z.expanded].join(" "),children:[(0,d.jsxs)("div",{className:l.Z.options_container,children:[_[0],p&&_.length>1?_.map((function(e,n){return n>0?e:null})):null,p&&a&&(0,d.jsx)("button",{className:l.Z.search_button,onClick:function(){a(),v(!1)},children:h("search")})]}),(0,d.jsx)("div",{className:l.Z.icon_container,children:_.length>1?(0,d.jsx)(s.Z,{onclick:function(){return v(!p)},icon:function(){return(0,d.jsx)(t.ulB,{size:24,color:i.wL.WHITE_COLOR})},withAlertIcon:u}):a?(0,d.jsx)(s.Z,{onclick:function(){a(),v(!1)},icon:function(){return(0,d.jsx)(t.U41,{size:24,color:i.wL.WHITE_COLOR})}}):(0,d.jsx)(d.Fragment,{})})]})}},8838:function(e,n,a){a.d(n,{Z:function(){return C}});var o=a(885),c=a(2791),r=a(3168),t=a(6030),i=a(3502),s=a(8218),l=a(3076),d=a(4373),u=a(3585),h="search-partner-container_container__pkV9k",_="search-partner-container_partners_container__MqViX",m="search-partner-container_partner__XJpNF",f="search-partner-container_name__zBnCa",p="search-partner-container_remove_icon__U80hW",v="search-partner-container_placeholder__FOsnd",x="search-partner-container_label__J9E0U",j="search-partner-container_add_icon__2rxoE",g=a(3329),C=function(e){var n=e.label,a=e.partners,C=e.addId,y=e.removeId,O=e.partnerType,I=e.action,b=(0,r.$)().t,w=(0,t.I0)(),Z=(0,t.v9)(i.zY).companies,E=(0,t.v9)(s.op).warehouses,N=(0,c.useState)(!1),W=(0,o.Z)(N,2),k=W[0],L=W[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:h,children:[(0,g.jsx)("label",{className:x,children:n}),(0,g.jsx)("div",{className:_,onClick:function(){0===(null===a||void 0===a?void 0:a.length)&&L(!0)},children:(null===a||void 0===a?void 0:a.length)>0?null===a||void 0===a?void 0:a.map((function(e){return(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("div",{className:f,children:e.label}),(0,g.jsx)("div",{className:p,onClick:function(){w(y(e.value)),I&&I()},children:(0,g.jsx)(d.QAE,{size:20,color:u.wL.FAILED_COLOR})})]},e.value)})):(0,g.jsx)("label",{className:v,children:O===u.Wl.WAREHOUSE?b("choose warehouse"):b("choose company")})}),(0,g.jsx)(d.Lgw,{size:32,color:u.wL.SUCCEEDED_COLOR,className:j,onClick:function(){L(!0)}})]}),k&&(0,g.jsx)(l.Z,{header:"".concat(O===u.Wl.WAREHOUSE?"choose warehouse":"choose company"),close:function(){return L(!1)},chooseAction:function(e){w(C({value:e._id,label:e.name})),I&&I()},placeholder:"".concat(O===u.Wl.WAREHOUSE?"enter warehouse name":"enter company name"),data:O===u.Wl.WAREHOUSE?E:Z})]})}},3076:function(e,n,a){a.d(n,{Z:function(){return f}});var o=a(885),c=a(2791),r=a(3168),t=a(9761),i=a(9883),s=a(7207),l=a(4373),d=a(6856),u={small_font:"select-partner-modal_small_font__dmMS8",search_container:"select-partner-modal_search_container__vOBPi",search_input:"select-partner-modal_search_input__aSI3L",company_row:"select-partner-modal_company_row__Z4ogO",more_btn:"select-partner-modal_more_btn__BhuwE"},h=a(3585),_=a(3329);var m=function(e){var n=e.data,a=e.select;return(0,_.jsxs)("div",{className:u.company_row,children:[(0,_.jsx)("p",{className:u.company_name,children:n.name}),(0,_.jsx)(i.Z,{icon:function(){return(0,_.jsx)(d.NcC,{size:24})},foreColor:h.wL.SUCCEEDED_COLOR,onclick:function(){a(n)},selected:!1})]})},f=function(e){var n=e.close,a=e.chooseAction,i=e.header,d=e.placeholder,f=e.data,p=(0,r.$)().t,v=(0,c.useRef)(),x=(0,c.useState)(""),j=(0,o.Z)(x,2),g=j[0],C=j[1],y=f.filter((function(e){return!(g.trim().length>0)||e.name.includes(g.trim())})),O=function(e){a(e),n()};return(0,c.useEffect)((function(){v.current.focus()}),[]),(0,_.jsx)(s.Z,{header:p(i),cancelLabel:"cancel",closeModal:n,small:!0,children:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:[u.search_container,"flex_center_container"].join(" "),children:[(0,_.jsx)(l.FKI,{color:h.wL.LIGHT_COLOR,size:24}),(0,_.jsx)("input",{className:u.search_input,placeholder:p(d),value:g,onChange:function(e){return C(e.target.value)},ref:v})]}),(0,_.jsxs)("div",{style:{maxHeight:"300px",overflow:"auto"},children:[(null===y||void 0===y?void 0:y.length)>0&&y.map((function(e){return(0,_.jsx)(m,{data:e,select:O},e._id)})),0===y.length&&0===g.length&&(0,_.jsx)(t.Z,{msg:p("no result found")}),0===y.length&&0!==g.length&&(0,_.jsx)(t.Z,{msg:p("no result found")})]})]})})}},4007:function(e,n,a){a.r(n),a.d(n,{default:function(){return q}});var o=a(2791),c=a(3168),r=a(9271),t=a(3229),i=a(2982),s=a(885),l=a(8838),d=a(3384),u=a(6824),h=a(4960),_=a(4831),m=a(9363),f=a(6030),p=a(3541),v=a(6523),x=a(6355),j=a(3585),g=a(6349),C=a(3329),y=function(e){var n,a=e.handleEnterPress,r=e.keyUpHandler,t=e.location,y=(0,c.$)().t,O=(0,f.I0)(),I=(0,f.v9)(v.oH).pageState,b=(0,f.v9)(p.tT).user,w=(0,o.useState)(!1),Z=(0,s.Z)(w,2),E=Z[0],N=Z[1],W=t.state.myCompanies?[{value:"",label:y("all companies")}].concat((0,i.Z)(null===(n=t.state.myCompanies)||void 0===n?void 0:n.map((function(e){return{value:e._id,label:e.name}})))):[],k=W.find((function(e){return e.value===I.searchWarehouseCompanyId})),L=I.searchName.length>0||I.searchCompanyName.length>0||I.searchWarehouseName.length>0||I.searchInWarehouse||I.searchOutWarehouse||I.searchHaveOffer;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(u.Z,{searchAction:a,searchEngineAlert:L,children:[(0,C.jsx)(_.Z,{label:"item name",id:"search-name",type:"text",value:I.searchName,onchange:function(e){O((0,v.$p)(e.target.value))},icon:(0,C.jsx)(x.U41,{}),placeholder:"search by name composition barcode",onEnterPress:a,resetField:function(){O((0,v.$p)(""))},onkeyup:r}),null===I.searchCompanyId&&null===I.searchWarehouseId&&(0,C.jsx)(l.Z,{label:y("company"),partners:null===I||void 0===I?void 0:I.searchCompaniesIds,addId:v.YW,removeId:v.ok,partnerType:j.Wl.COMPANY,action:a}),null!==I.searchWarehouseId&&(0,C.jsx)(d.Z,{onclick:function(){return N(!0)},selectedValue:k?k.label:y("all companies"),label:"companies",styleForSearch:!0,withoutBorder:!0}),null===I.searchWarehouseId&&b.type!==j.Wl.GUEST&&b.type!==j.Wl.WAREHOUSE&&b.type!==j.Wl.COMPANY&&(0,C.jsx)(l.Z,{label:y("warehouse"),partners:null===I||void 0===I?void 0:I.searchWarehousesIds,addId:v.PJ,removeId:v.ni,partnerType:j.Wl.WAREHOUSE,action:a}),b.type!==j.Wl.GUEST&&b.type!==j.Wl.COMPANY&&!I.searchWarehouseId&&(0,C.jsx)("div",{className:g.Z.checkbox_div,children:(0,C.jsx)(h.Z,{label:b.type===j.Wl.WAREHOUSE?y("in warehouse"):y("in warehouses"),value:I.searchInWarehouse,changeHandler:function(){O((0,v.yU)(!I.searchInWarehouse)),O((0,v.Zf)(!1)),r()}})}),b.type!==j.Wl.GUEST&&b.type!==j.Wl.COMPANY&&!I.searchWarehouseId&&(0,C.jsx)("div",{className:g.Z.checkbox_div,children:(0,C.jsx)(h.Z,{label:b.type===j.Wl.WAREHOUSE?y("not in warehouse"):y("not in warehouses"),value:I.searchOutWarehouse,changeHandler:function(){O((0,v.Zf)(!I.searchOutWarehouse)),O((0,v.yU)(!1)),r()}})}),b.type!==j.Wl.GUEST&&b.type!==j.Wl.COMPANY&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:g.Z.checkbox_div,children:(0,C.jsx)(h.Z,{label:y("have offers"),value:I.searchHaveOffer,changeHandler:function(){O((0,v._N)(!I.searchHaveOffer)),r()}})}),(0,C.jsx)("div",{className:g.Z.checkbox_div,children:(0,C.jsx)(h.Z,{label:y("have points"),value:I.searchHavePoint,changeHandler:function(){O((0,v.TP)(!I.searchHavePoint)),r()}})})]})]}),E&&(0,C.jsx)(m.Z,{headerTitle:"companies",close:function(){N(!1)},values:W,defaultValue:k?k.value:"",chooseHandler:function(e){!function(e){if(""===e)O((0,v.IU)(null)),a();else{var n=W.find((function(n){return n.value===e}));O((0,v.IU)(n.value)),a()}}(e)}})]})},O=a(1650),I=a(6886),b=a(9114),w=a(6552),Z=a(4891),E=a(3582),N=a(9412),W=a(4899),k=a(9883),L=a(8820),S=a(7425),R=a(6856),H=a(8014),T=a(9126),A=a(8785),U=a(3994),D=a(6425),z=a(8682),F=a(6201),P={small_font:"medicine-card_small_font__azgsm",partner_container:"medicine-card_partner_container__yb2zQ",icons_div:"medicine-card_icons_div__dj+FN",offer_icon:"medicine-card_offer_icon__lDsfJ",logo_div:"medicine-card_logo_div__7a5ID",logo:"medicine-card_logo__pqunT",company_name:"medicine-card_company_name__DCc1K",content:"medicine-card_content__k4Bsz",showed_content:"medicine-card_showed_content__Eme5w",main_details:"medicine-card_main_details__+dyxr",name:"medicine-card_name__xKz0J",secondRow:"medicine-card_secondRow__YTM3x",nameAr:"medicine-card_nameAr__vTika",price:"medicine-card_price__igMZ1",customer_price:"medicine-card_customer_price__cIsWM",info:"medicine-card_info__XYxwi",label:"medicine-card_label__5HNDN",value:"medicine-card_value__0jzw9",ribbon_2:"medicine-card_ribbon_2__HnyT2"};var M=function(e){var n=e.item,a=e.searchString,r=(0,c.$)().t,t=(0,f.I0)(),i=(0,f.v9)(D.VY),l=(0,f.v9)(p.tT),d=l.user,u=l.token,h=(0,f.v9)(F.hX),_=(0,f.v9)(z.IO).savedItems,m=(0,o.useState)(!1),x=(0,s.Z)(m,2),g=x[0],y=x[1],O=(0,o.useState)(!1),I=(0,s.Z)(O,2),b=I[0],M=I[1],Y=(0,o.useState)(!1),B=(0,s.Z)(Y,2),$=B[0],G=B[1],J=(0,o.useState)(!1),X=(0,s.Z)(J,2),K=X[0],V=X[1];return(0,C.jsxs)("div",{className:[P.partner_container].join(" "),children:[(0,j.nx)(n,d)&&(0,C.jsx)("div",{className:[P.ribbon_2].join(" "),children:(0,C.jsx)("span",{children:r("offer")})}),(0,C.jsx)("div",{className:P.company_name,style:{fontSize:n.company.name.length>30?"13px":"16px"},children:n.company.name}),(0,C.jsxs)("div",{style:{flex:1},children:[(0,C.jsxs)("div",{className:P.icons_div,children:[d.type===j.Wl.WAREHOUSE&&(0,C.jsx)(E.Z,{loading:K,array:n.warehouses.map((function(e){return e.warehouse._id})),id:d._id,removeHandler:function(e){i?(V(!0),t((0,v.LK)({obj:{itemId:n._id,warehouseId:d._id},token:u})).then(A.SI).then((function(){V(!1)})).catch((function(){V(!1)})),e.stopPropagation()):t((0,D.Rb)())},addHandler:function(e){i?(V(!0),t((0,v._h)({obj:{itemId:n._id,warehouseId:d._id},token:u})).then(A.SI).then((function(){V(!1)})).catch((function(){V(!1)}))):t((0,D.Rb)())},removeTooltip:"remove from warehouse",addTooltip:"add to warehouse",removeIcon:function(){return(0,C.jsx)(S.w6k,{color:j.wL.FAILED_COLOR,size:24})},addIcon:function(){return(0,C.jsx)(R.NcC,{color:j.wL.SUCCEEDED_COLOR,size:24})}}),d.type===j.Wl.PHARMACY?(0,j.ZC)(n,d)?(0,C.jsx)(k.Z,{tooltip:r("add to cart"),onclick:function(){return y(!0)},foreColor:j.wL.SUCCEEDED_COLOR,icon:function(){return(0,C.jsx)(H.ffc,{size:24})}}):(0,C.jsx)(E.Z,{loading:$,array:_.map((function(e){return e._id})),id:n._id,removeHandler:function(e){i?(G(!0),t((0,z.xT)({obj:{savedItemId:n._id},token:u})).then(A.SI).then((function(){G(!1)})).catch((function(){G(!1)}))):t((0,D.Rb)())},addHandler:function(e){i?(G(!0),t((0,z.Mg)({obj:{savedItemId:n._id},token:u})).then(A.SI).then((function(){G(!1)})).catch((function(){G(!1)}))):t((0,D.Rb)())},removeTooltip:"remove item from saved items",addTooltip:"add item to saved items",removeIcon:function(){return(0,C.jsx)(T.aiX,{color:j.wL.FAILED_COLOR,size:24})},addIcon:function(){return(0,C.jsx)(T.XNB,{color:j.wL.SUCCEEDED_COLOR,size:24})}}):(0,C.jsx)(C.Fragment,{}),(0,C.jsx)(E.Z,{loading:b,array:h.map((function(e){return e._id})),id:n._id,removeHandler:function(e){i?(M(!0),t((0,F.wy)({obj:{favoriteItemId:n._id},token:u})).then(A.SI).then((function(){M(!1)})).catch((function(){M(!1)}))):t((0,D.Rb)())},addHandler:function(e){i?(M(!0),t((0,F.wF)({obj:{favoriteItemId:n._id},token:u})).then(A.SI).then((function(){t((0,U.F$)({obj:{sourceUser:d._id,targetItem:n._id,action:"item-added-to-favorite"}})),M(!1)})).catch((function(){M(!1)}))):t((0,D.Rb)())},removeTooltip:"remove from favorites",addTooltip:"add to favorites",removeIcon:function(){return(0,C.jsx)(L.pHD,{size:24,color:j.wL.YELLOW_COLOR})},addIcon:function(){return(0,C.jsx)(L.y5j,{size:24,color:j.wL.YELLOW_COLOR})}})]}),(0,C.jsx)("div",{className:P.logo_div,children:n.logo_url&&""!==n.logo_url?(0,C.jsx)("img",{src:"".concat(j.LB,"/items/").concat(n.logo_url),className:P.logo,alt:"thumb"}):(0,C.jsx)("img",{src:w,className:P.logo,alt:"thumb"})}),(0,C.jsx)("div",{className:P.content,children:(0,C.jsx)("div",{className:[P.showed_content].join(" "),children:(0,C.jsxs)("div",{className:P.main_details,children:[(0,C.jsx)(W.Z,{on_click:function(){d.type!==j.Wl.PHARMACY&&d.type!==j.Wl.GUEST||t((0,U.F$)({obj:{sourceUser:d._id,targetItem:n._id,action:"choose-item"},token:u}))},flexDirection:"column",item:n,searchString:a}),(0,C.jsx)("div",{style:{alignSelf:"flex-end"},children:(0,C.jsx)(N.Z,{showCustomerPrice:!0,showPrice:d.type!==j.Wl.GUEST,price:n.price,customerPrice:n.customer_price})})]})})})]}),g&&(0,C.jsx)(Z.Z,{item:n,close:function(){return y(!1)}})]})},Y=a(9215),B=a(3804),$=a(394),G=a(8516),J=a(9761),X=a(4651),K=a(4373),V=a(5880),Q=null;var q=function(e){var n=e.onSelectedChange,a=(0,c.$)().t,i=(0,r.k6)(),s=(0,f.I0)(),l=(0,r.TH)(),d=(0,f.v9)(p.tT),u=d.token,h=d.user,_=(0,f.v9)(v.oH),m=_.medicines,g=_.count,w=_.status,Z=_.pageState,E=function(){s((0,v.iK)({token:u}))},N=function(){s((0,v.ic)()),E()};return(0,o.useEffect)((function(){0===m.length&&E(),window.scrollTo(0,0),n()}),[]),h?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(y,{handleEnterPress:N,keyUpHandler:function(e){(0,v.iX)(),Q&&clearTimeout(Q),Q=setTimeout((function(){s((0,v.ic)()),E()}),200)},location:l}),(0,C.jsxs)(t.Z,{children:[(0,C.jsxs)(G.Z,{children:[(0,C.jsx)(k.Z,{withBackground:!0,icon:function(){return(0,C.jsx)(S.PwW,{})},foreColor:j.wL.MAIN_COLOR,tooltip:a("refresh"),onclick:N}),(Z.searchName.length>0||Z.searchCompanyName.length>0||Z.searchWarehouseName.length>0||Z.searchInWarehouse||Z.searchOutWarehouse||Z.searchHaveOffer)&&(0,C.jsx)(k.Z,{withBackground:!0,selected:!1,foreColor:j.wL.MAIN_COLOR,tooltip:a("clear filter"),onclick:function(){s((0,v.zy)()),N()},icon:function(){return(0,C.jsx)(X.jTJ,{})}}),(0,C.jsx)(k.Z,{withBackground:!0,icon:function(){return(0,C.jsx)(L.sF$,{})},foreColor:"card"===Z.displayType?j.wL.SUCCEEDED_COLOR:j.wL.MAIN_COLOR,tooltip:a("show as card"),onclick:function(){return s((0,v.Q$)("card"))}}),(0,C.jsx)(k.Z,{withBackground:!0,icon:function(){return(0,C.jsx)(x.hON,{})},foreColor:"list"===Z.displayType?j.wL.SUCCEEDED_COLOR:j.wL.MAIN_COLOR,tooltip:a("show as list"),onclick:function(){return s((0,v.Q$)("list"))}}),(0,C.jsx)(k.Z,{withBackground:!0,tooltip:a("back"),onclick:function(){i.goBack()},icon:function(){return(0,C.jsx)(K.D_,{})},foreColor:j.wL.MAIN_COLOR})]}),g>0&&(0,C.jsx)(Y.Z,{label:a("items count"),count:g}),"list"===Z.displayType&&m.map((function(e,n){return(0,C.jsx)($.Z,{item:e,index:n,searchString:Z.searchName,showComposition:!0},e._id)})),"card"===Z.displayType&&(0,C.jsx)(O.Z,{children:m.map((function(e){return(0,C.jsx)(M,{item:e,searchString:Z.searchName},e._id)}))}),g>0&&"loading"!==w&&(0,C.jsx)(Y.Z,{count:"".concat(m.length," / ").concat(g)}),0===m.length&&"loading"!==w&&0===Z.searchName.length&&0===Z.searchCompanyName.length&&0===Z.searchWarehouseName.length&&!Z.searchInWarehouse&&!Z.searchOutWarehouse&&(0,C.jsx)(J.Z,{msg:a("no items")}),0===m.length&&"loading"!==w&&(0!==Z.searchName.length||0!==Z.searchCompanyName.length||0!==Z.searchWarehouseName.length||Z.searchInWarehouse||Z.searchOutWarehouse)&&(0,C.jsx)(J.Z,{msg:a("no result found")}),"loading"===w&&(0,C.jsx)(B.Z,{}),m.length<g&&"loading"!==w&&(0,C.jsx)(G.Z,{children:(0,C.jsx)(I.Z,{text:a("more"),action:function(){E()},bgColor:j.wL.SUCCEEDED_COLOR,icon:function(){return(0,C.jsx)(V.lYW,{})}})}),m.length===g&&"loading"!==w&&0!==g&&(0,C.jsx)(b.Z,{msg:a("no more")})]})]}):(0,C.jsx)(r.l_,{to:"/signin"})}},6349:function(e,n){n.Z={small_font:"search-container_small_font__Ha0Xq",search_container:"search-container_search_container__6isGM",options_container:"search-container_options_container__vvfU4",search_button:"search-container_search_button__CR7Cm",small_search_button:"search-container_small_search_button__FJ+gS",checkbox_div:"search-container_checkbox_div__RPj5T",icon_container:"search-container_icon_container__1e8wJ"}},6552:function(e,n,a){e.exports=a.p+"static/media/transparent_logo.7dc40fbb56f0f84914ce.png"}}]);
//# sourceMappingURL=4007.33634290.chunk.js.map