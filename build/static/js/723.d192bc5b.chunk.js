"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[723],{553:function(n,e,t){t.d(e,{Z:function(){return w}});var o=t(885),r=t(2791),i=t(3168),c=t(9271),a=t(733),s=t(1176),l=t(8820),u=t(4651),d=t(8785),f=t(6030),p=t(6201),_=t(3541),h=t(3994),j=t(6425),m=t(6481),x=t(6523),g=t(9942),C={partner_container:"partner-card_partner_container__VB59l",full_width:"partner-card_full_width__CUiS6",partner_logo:"partner-card_partner_logo__zh12g",partner_name:"partner-card_partner_name__jXB4j",from_top:"partner-card_from_top__OssbS",name:"partner-card_name__xgWNa"},v=t(3585),O=t(3329);var w=function(n){var e,t=n.partner,w=n.fullWidth,E=(0,i.$)().t,L=(0,c.k6)(),Z=(0,f.I0)(),k=(0,f.v9)(m.vi).settings.showWarehouseItem,y=(0,f.v9)(j.VY),R=(0,f.v9)(p.oT),b=(0,f.v9)(p.GI),N=(0,f.v9)(_.tT),W=N.token,S=N.user,A=(0,r.useState)(!1),Y=(0,o.Z)(A,2),I=Y[0],U=Y[1],D=S.type===v.Wl.ADMIN||t.type===v.Wl.COMPANY||t.type===v.Wl.WAREHOUSE&&k&&t.allowShowingMedicines;return(0,O.jsxs)("div",{className:[C.partner_container,w?C.full_width:""].join(" "),children:[(0,O.jsx)("p",{className:C.partner_name,children:t.name}),(null===(e=t.logo_url)||void 0===e?void 0:e.length)>0?(0,O.jsx)("img",{src:"".concat(v.LB,"/profiles/").concat(t.logo_url),className:C.partner_logo,alt:"thumb"}):(0,O.jsx)("img",{src:a,className:C.partner_logo,alt:"thumb"}),(0,O.jsxs)("div",{className:C.from_top,children:[""===b?I?(0,O.jsx)("div",{className:[g.Z.icon,g.Z.fc_yellow].join(" "),children:(0,O.jsx)(u.H_P,{className:g.Z.loading,size:20})}):(0,O.jsx)("div",{className:[g.Z.icon,g.Z.fc_yellow].join(" "),children:R&&R.map((function(n){return n._id})).includes(t._id)?(0,O.jsx)(l.pHD,{size:24,onClick:function(){y?(U(!0),Z((0,p.Ni)({obj:{favoriteId:t._id},token:W})).then(d.SI).then((function(){I(!1)})).catch((function(){return U(!1)}))):Z((0,j.Rb)())}}):(0,O.jsx)(l.y5j,{size:24,onClick:function(){y?(U(!0),Z((0,p.a3)({obj:{favoriteId:t._id},token:W})).then(d.SI).then((function(){U(!1),Z((0,h.ji)({obj:{partnerId:t._id},token:W})),Z((0,h.F$)({obj:{sourceUser:S._id,targetUser:t._id,action:"user-added-to-favorite"},token:W}))})).catch((function(){U(!1)}))):Z((0,j.Rb)())}})}):null,(t.type===v.Wl.COMPANY||t.type===v.Wl.WAREHOUSE&&S.type!==v.Wl.WAREHOUSE)&&(0,O.jsx)("div",{children:(0,O.jsx)(s.Z,{action:function(){t.type===v.Wl.WAREHOUSE&&S.type===v.Wl.WAREHOUSE||D&&(S.type!==v.Wl.PHARMACY&&S.type!==v.Wl.GUEST||(Z((0,h.bD)({obj:{companyId:t._id},token:W})),Z((0,h.F$)({obj:{sourceUser:S._id,targetUser:t._id,action:"choose-company"},token:W}))),Z((0,x.Pl)()),t.type===v.Wl.COMPANY&&Z((0,x.HN)(t.name)),t.type===v.Wl.WAREHOUSE&&Z((0,x.jY)(t.name)),L.push("/medicines"))},text:E("medicines"),bgColor:v.wL.FAILED_COLOR})})]})]})}},4723:function(n,e,t){t.r(e),t.d(e,{default:function(){return W}});var o=t(2791),r=t(3168),i=t(9271),c=t(1968),a=t.n(c),s=t(125),l=t(553),u=t(1176),d=t(9488),f=t(3575),p=t(6030),_=t(3502),h=t(6201),j=t(670),m=t(6824),x=t(2235),g=t(7500),C=t(7425),v=t(8820),O=t(6355),w=t(4651),E=t(4373),L=t(9942),Z=t(3585),k=t(3329);var y=function(n){var e=n.search,t=n.refreshHandler,o=(n.count,(0,r.$)().t),c=(0,i.k6)(),a=(0,p.I0)(),l=(0,p.v9)(_.lB),u=l.searchName,d=l.searchCity,f=l.displayType,y=l.showFavorites,R=(0,p.v9)(h.oT);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(m.Z,{searchAction:e,children:[(0,k.jsx)(x.Z,{label:"user-name",id:"search-name",type:"text",value:u,onchange:function(n){a((0,_.ut)(n.target.value))},placeholder:"search",onEnterPress:e,resetField:function(){return a((0,_.ut)(""))}}),(0,k.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",backgroundColor:Z.wL.WHITE_COLOR,borderRadius:"6px"},children:(0,k.jsx)(j.Z,{onSelectionChange:function(n){a((0,_.TH)(n))},defaultValue:{value:d,label:o(d.toLowerCase())},caption:"user-city"})})]})}),(0,k.jsxs)("div",{className:[L.Z.actions,L.Z.margin_v_4].join(" "),children:[(0,k.jsx)(g.Z,{withBackground:!0,selected:!1,foreColor:Z.wL.GREY_COLOR,tooltip:o("refresh-tooltip"),onclick:function(){t(),a((0,_.bV)(!1))},icon:function(){return(0,k.jsx)(C.PwW,{})}}),(u.length>0||d!==Z.zx.ALL)&&(0,k.jsx)(g.Z,{withBackground:!0,selected:!1,foreColor:Z.wL.GREY_COLOR,tooltip:o("clear-filter-tooltip"),onclick:function(){a((0,_.Fq)()),t(),a((0,_.bV)(!1))},icon:function(){return(0,k.jsx)(w.jTJ,{})}}),(0,k.jsxs)("div",{className:L.Z.relative,children:[(0,k.jsx)(g.Z,{withBackground:!0,foreColor:y?Z.wL.SUCCEEDED_COLOR:Z.wL.GREY_COLOR,tooltip:o("show-favorite-tooltip"),onclick:function(){return a((0,_.bV)(!y))},icon:function(){return(0,k.jsx)(v.pHD,{})}}),y&&(0,k.jsx)("div",{className:[L.Z.favorites_content,L.Z.bg_white].join(" "),children:y&&R&&R.filter((function(n){return n.type===Z.Wl.COMPANY})).map((function(n){return(0,k.jsx)(s.Z,{partner:n,withoutBoxShadow:!0},n._id)}))})]}),(0,k.jsx)(g.Z,{withBackground:!0,foreColor:"card"===f?Z.wL.SUCCEEDED_COLOR:Z.wL.GREY_COLOR,tooltip:o("show-item-as-card-tooltip"),onclick:function(){a((0,_.m1)("card")),a((0,_.bV)(!1))},icon:function(){return(0,k.jsx)(v.sF$,{})}}),(0,k.jsx)(g.Z,{withBackground:!0,foreColor:"list"===f?Z.wL.SUCCEEDED_COLOR:Z.wL.GREY_COLOR,tooltip:o("show-item-as-row-tooltip"),onclick:function(){a((0,_.m1)("list")),a((0,_.bV)(!1))},icon:function(){return(0,k.jsx)(O.hON,{})}}),(0,k.jsx)(g.Z,{withBackground:!0,tooltip:o("go-back"),onclick:function(){c.goBack()},icon:function(){return(0,k.jsx)(E.D_,{})},foreColor:Z.wL.GREY_COLOR})]})]})},R=t(8785),b=t(3541),N=t(6425);var W=function(n){var e=n.onSelectedChange,t=(0,r.$)().t,c=(0,p.I0)(),j=(0,p.v9)(b.tT),m=j.token,x=j.user,g=(0,p.v9)(_.zY),C=g.companies,v=g.count,O=g.status,w=g.error,E=(0,p.v9)(_.lB),W=E.displayType,S=E.page,A=(0,p.v9)(N.VY),Y=function(n){c((0,_.bV)(!1)),c((0,_.ap)({token:m})).then(R.SI).then((function(){c((0,_.oO)(n+1))}))};return(0,o.useEffect)((function(){return 0===C.length&&Y(1),window.scrollTo(0,0),e(),function(){(0,_.iX)()}}),[]),x?(0,k.jsxs)("div",{className:L.Z.container,children:[(0,k.jsx)(y,{search:function(){c((0,_.E5)()),c((0,_.oO)(1)),Y(1)},refreshHandler:function(){c((0,h.iF)()),c((0,h._l)({token:m})),c((0,_.E5)()),c((0,_.oO)(1)),Y(1)},count:v}),"list"===W&&C.map((function(n){return(0,k.jsx)(s.Z,{partner:n},n._id)})),"card"===W&&(0,k.jsx)("div",{className:[L.Z.flex_container,L.Z.margin_top_10].join(" "),children:C.map((function(n){return(0,k.jsx)(l.Z,{partner:n},n._id)}))}),0===C.length&&"loading"!==O&&(0,k.jsx)(f.Z,{msg:t("no-companies")}),"loading"===O&&(0,k.jsx)("div",{className:L.Z.flex_container,children:(0,k.jsx)(a(),{color:Z.wL.SECONDARY_COLOR,type:"cylon"})}),C.length<v&&(0,k.jsx)(u.Z,{text:t("more"),action:function(){A?Y(S):c((0,N.Rb)())},bgColor:Z.wL.SECONDARY_COLOR}),C.length===v&&"loading"!==O&&0!==v&&(0,k.jsx)("p",{className:[L.Z.center,L.Z.fc_secondary].join(" "),children:t("no-more")}),w&&(0,k.jsx)(d.Z,{bgColor:Z.wL.FAILED_COLOR,foreColor:"#fff",actionAfterTimeout:function(){c((0,_.PU)())},children:t(w)})]}):(0,k.jsx)(i.l_,{to:"/signin"})}}}]);
//# sourceMappingURL=723.d192bc5b.chunk.js.map