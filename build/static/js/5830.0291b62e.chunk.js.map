{"version":3,"file":"static/js/5830.0291b62e.chunk.js","mappings":"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","sources":["webpack://pharmacy-frontend/./src/components/header/header.module.scss?fd78","components/header/header.component.jsx","components/no-content/no-content.component.jsx","webpack://pharmacy-frontend/./src/components/notification-row/notification-row.module.scss?0ea7","components/notification-row/notification-row.component.jsx","pages/user-notification-page/user-notification-page.component.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"header\":\"header_header__MhatS\",\"back\":\"header_back__wgjRV\"};","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { IoMdArrowRoundBack } from \"react-icons/io\";\nimport { useHistory } from \"react-router-dom\";\nimport { Colors } from \"../../utils/constants\";\nimport Icon from \"../action-icon/action-icon.component\";\n\n// style\nimport styles from \"./header.module.scss\";\n\nfunction Header({ children }) {\n  const { t } = useTranslation();\n  const history = useHistory();\n\n  return (\n    <div className={styles.header}>\n      {children}\n      <div className={styles.back}>\n        <Icon\n          onclick={() => {\n            history.goBack();\n          }}\n          icon={() => <IoMdArrowRoundBack />}\n          foreColor={Colors.WHITE_COLOR}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nimport generalStyles from \"../../style.module.scss\";\nimport NoContentImage from \"../../no-content.jpeg\";\nimport { Colors } from \"../../utils/constants\";\n\nfunction NoContent({ msg }) {\n  return (\n    <div className={[generalStyles.no_content_div].join(\" \")}>\n      <img\n        src={NoContentImage}\n        alt=\"thumb\"\n        style={{\n          width: \"150px\",\n          height: \"150px\",\n        }}\n      />\n\n      <p\n        style={{\n          color: Colors.MAIN_COLOR,\n        }}\n      >\n        {msg}\n      </p>\n    </div>\n  );\n}\n\nexport default NoContent;\n","// extracted by mini-css-extract-plugin\nexport default {\"row_container\":\"notification-row_row_container__H9osv\",\"inner_container\":\"notification-row_inner_container__mY+Cj\",\"img\":\"notification-row_img__3B3IG\",\"image\":\"notification-row_image__ziJsf\",\"actions\":\"notification-row_actions__xTxlf\",\"delete\":\"notification-row_delete__Xs7yf\",\"unread\":\"notification-row_unread__wOU2r\",\"row\":\"notification-row_row__pwMuM\",\"body\":\"notification-row_body__FQWd+\",\"header\":\"notification-row_header__yfsGP\",\"unread_icon\":\"notification-row_unread_icon__-5kw9\"};","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { useTranslation } from \"react-i18next\";\n\n// react-stuff\nimport { unwrapResult } from \"@reduxjs/toolkit\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { deleteNotification } from \"../../redux/notifications/notificationsSlice\";\nimport { selectUserData } from \"../../redux/auth/authSlice\";\nimport {\n  decreaseUnreadNotificationsCount,\n  setNotificationRead,\n} from \"../../redux/userNotifications/userNotificationsSlice\";\n\n// components\nimport Modal from \"../modal/modal.component\";\n\n// icons\nimport { RiDeleteBin5Fill } from \"react-icons/ri\";\nimport { BiImage } from \"react-icons/bi\";\nimport { FaBookmark } from \"react-icons/fa\";\n\n// styles\nimport styles from \"./notification-row.module.scss\";\n\n// constants\nimport { Colors, SERVER_URL, UserTypeConstants } from \"../../utils/constants\";\n\nfunction NotificationRow({ notification, index, setSuccessDeletingMsg }) {\n  const { t } = useTranslation();\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  // selectors\n  const { token, user } = useSelector(selectUserData);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n\n  const showNotificationDetails = () => {\n    if (\n      user.type !== UserTypeConstants.ADMIN &&\n      !notification.users.includes(user._id)\n    ) {\n      dispatch(\n        setNotificationRead({ token, notificationId: notification._id })\n      );\n      dispatch(decreaseUnreadNotificationsCount());\n    }\n\n    history.push(`/notification/${notification._id}`);\n  };\n\n  const deleteNotificationHandler = () => {\n    setShowDeleteModal(false);\n    dispatch(deleteNotification({ id: notification._id, token }))\n      .then(unwrapResult)\n      .then(() => {\n        setSuccessDeletingMsg(\"delete-notification-msg\");\n      });\n  };\n\n  return (\n    <div\n      className={[styles.row_container].join(\" \")}\n      style={{\n        animationDuration: (0.3 * index) / 10 + \"s\",\n      }}\n    >\n      <div className={styles.img}>\n        {notification.logo_url !== \"\" ? (\n          <img\n            className={styles.image}\n            src={`${SERVER_URL}/notifications/${notification.logo_url}`}\n            alt=\"thumb\"\n          />\n        ) : (\n          <>\n            <BiImage size={64} color={Colors.SECONDARY_COLOR} />\n          </>\n        )}\n      </div>\n\n      <div className={styles.inner_container} onClick={showNotificationDetails}>\n        <div className={styles.row}>\n          <label>{t(\"header\")}</label>\n          <p className={styles.header}>{notification.header}</p>\n        </div>\n        <div className={styles.row}>\n          <label>{t(\"body\")}</label>\n          <p className={styles.body}>{notification.body}</p>\n        </div>\n\n        {!notification.users.includes(user._id) &&\n          user.type !== UserTypeConstants.ADMIN && (\n            <div className={styles.unread_icon}>\n              <FaBookmark />\n            </div>\n          )}\n      </div>\n\n      {user.type === UserTypeConstants.ADMIN && (\n        <div\n          className={styles.delete}\n          onClick={() => {\n            setShowDeleteModal(true);\n          }}\n        >\n          <RiDeleteBin5Fill size={24} />\n        </div>\n      )}\n\n      {showDeleteModal && (\n        <Modal\n          header=\"delete-notification\"\n          cancelLabel=\"close-label\"\n          okLabel=\"ok-label\"\n          closeModal={() => {\n            setShowDeleteModal(false);\n          }}\n          small={true}\n          okModal={deleteNotificationHandler}\n          color={Colors.FAILED_COLOR}\n        >\n          <p>{t(\"delete-notification-confirm-msg\")}</p>\n        </Modal>\n      )}\n    </div>\n  );\n}\n\nexport default NotificationRow;\n","import React, { useEffect } from \"react\";\nimport ReactLoading from \"react-loading\";\n\n// components\nimport Button from \"../../components/button/button.component\";\nimport NoContent from \"../../components/no-content/no-content.component\";\nimport NotificationRow from \"../../components/notification-row/notification-row.component\";\nimport Icon from \"../../components/action-icon/action-icon.component\";\n\n// redux stuff\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectToken } from \"../../redux/auth/authSlice\";\nimport {\n  changeOnlineMsg,\n  selectOnlineStatus,\n} from \"../../redux/online/onlineSlice\";\nimport { useTranslation } from \"react-i18next\";\nimport Header from \"../../components/header/header.component\";\nimport {\n  getAllNotifications,\n  getUnreadNotification,\n  resetNotificationsData,\n  selectUserNotifications,\n  setPage,\n  setRefresh,\n} from \"../../redux/userNotifications/userNotificationsSlice\";\n\n// icons\nimport { RiRefreshLine } from \"react-icons/ri\";\n\n// styles\nimport generalStyles from \"../../style.module.scss\";\n\n// constants\nimport { Colors } from \"../../utils/constants\";\n\nfunction UserNotificationPage({ onSelectedChange }) {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n\n  const token = useSelector(selectToken);\n  const isOnline = useSelector(selectOnlineStatus);\n  const { status, page, count, userNotifications, refresh, forceRefresh } =\n    useSelector(selectUserNotifications);\n\n  const handleSearch = (page) => {\n    if (!isOnline) {\n      dispatch(changeOnlineMsg());\n      return;\n    }\n\n    if (page === 1) {\n      dispatch(resetNotificationsData());\n    }\n    dispatch(setPage(page));\n    dispatch(getAllNotifications({ token }));\n  };\n\n  const handleMoreResult = () => {\n    if (!isOnline) {\n      dispatch(changeOnlineMsg());\n      return;\n    }\n\n    handleSearch(page + 1);\n  };\n\n  const refreshHandler = () => {\n    dispatch(setRefresh(true));\n    dispatch(getUnreadNotification({ token }));\n  };\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n\n    onSelectedChange();\n\n    if (refresh || forceRefresh) {\n      handleSearch(1);\n    }\n  }, [refresh, forceRefresh]);\n\n  return (\n    <>\n      <Header>\n        <h2>{t(\"nav-notifications\")}</h2>\n\n        <div className={generalStyles.refresh_icon}>\n          {/* Refresh */}\n          <Icon\n            selected={false}\n            foreColor={Colors.WHITE_COLOR}\n            tooltip={t(\"refresh-tooltip\")}\n            onclick={() => {\n              refreshHandler();\n            }}\n            icon={() => <RiRefreshLine />}\n          />\n        </div>\n      </Header>\n\n      <div className={generalStyles.container_with_header}>\n        <div\n          style={{\n            paddingInline: \"10px\",\n            paddingLeft: \"10px\",\n            paddingRight: \"10px\",\n          }}\n        >\n          {userNotifications.map((note, index) => (\n            <NotificationRow key={note._id} notification={note} index={index} />\n          ))}\n        </div>\n\n        {userNotifications.length === 0 && status !== \"loading\" && (\n          <NoContent msg={t(\"no-notifications\")} />\n        )}\n\n        {status === \"loading\" && (\n          <div className={generalStyles.flex_container}>\n            <ReactLoading color={Colors.SECONDARY_COLOR} type=\"cylon\" />\n          </div>\n        )}\n\n        {userNotifications.length < count && (\n          <Button\n            text={t(\"more\")}\n            action={handleMoreResult}\n            bgColor={Colors.SECONDARY_COLOR}\n          />\n        )}\n\n        {userNotifications.length === count &&\n          status !== \"loading\" &&\n          count !== 0 && (\n            <p\n              className={[\n                generalStyles.center,\n                generalStyles.fc_secondary,\n              ].join(\" \")}\n            >\n              {t(\"no-more\")}\n            </p>\n          )}\n      </div>\n    </>\n  );\n}\n\nexport default UserNotificationPage;\n"],"names":["children","history","useTranslation","t","useHistory","className","styles","onclick","goBack","icon","foreColor","Colors","msg","generalStyles","join","src","NoContentImage","alt","style","width","height","color","notification","index","setSuccessDeletingMsg","dispatch","useDispatch","useSelector","selectUserData","token","user","useState","showDeleteModal","setShowDeleteModal","animationDuration","logo_url","SERVER_URL","size","onClick","type","UserTypeConstants","users","includes","_id","setNotificationRead","notificationId","decreaseUnreadNotificationsCount","push","header","body","cancelLabel","okLabel","closeModal","small","okModal","deleteNotification","id","then","unwrapResult","onSelectedChange","selectToken","isOnline","selectOnlineStatus","selectUserNotifications","status","page","count","userNotifications","refresh","forceRefresh","handleSearch","resetNotificationsData","setPage","getAllNotifications","changeOnlineMsg","useEffect","window","scrollTo","selected","tooltip","setRefresh","getUnreadNotification","paddingInline","paddingLeft","paddingRight","map","note","length","text","action","bgColor"],"sourceRoot":""}