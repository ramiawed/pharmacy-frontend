"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[723],{553:function(e,n,t){t.d(n,{Z:function(){return A}});var o=t(885),a=t(2791),r=t(3168),i=t(9271),l=t(1176),c=t(8820),s=t(4651),u=t(8785),d=t(6030),_=t(6201),f=t(3541),h=t(3994),p=t(6425),x=t(6481),j=t(6523),m=t(9942),v={partner_container:"partner-card_partner_container__VB59l",full_width:"partner-card_full_width__CUiS6",partner_logo:"partner-card_partner_logo__zh12g",partner_name:"partner-card_partner_name__jXB4j",from_top:"partner-card_from_top__OssbS",name:"partner-card_name__xgWNa"},C=t(3585),O=t(3329);var A=function(e){var n,t=e.partner,A=e.fullWidth,g=(0,r.$)().t,b=(0,i.k6)(),w=(0,d.I0)(),E=(0,d.v9)(x.vi).settings.showWarehouseItem,L=(0,d.v9)(p.VY),R=(0,d.v9)(_.oT),S=(0,d.v9)(_.GI),Z=(0,d.v9)(f.tT),N=Z.token,y=Z.user,k=(0,a.useState)(!1),D=(0,o.Z)(k,2),W=D[0],z=D[1],U=y.type===C.Wl.ADMIN||t.type===C.Wl.COMPANY||t.type===C.Wl.WAREHOUSE&&E&&t.allowShowingMedicines;return(0,O.jsxs)("div",{className:[v.partner_container,A?v.full_width:""].join(" "),children:[(0,O.jsx)("p",{className:v.partner_name,children:t.name}),(null===(n=t.logo_url)||void 0===n?void 0:n.length)>0?(0,O.jsx)("img",{src:"".concat(C.LB,"/").concat(t.logo_url),className:v.partner_logo,alt:"thumb"}):(0,O.jsx)("img",{src:"".concat(C.LB,"/default-logo.jpg"),className:v.partner_logo,alt:"thumb"}),(0,O.jsxs)("div",{className:v.from_top,children:[""===S?W?(0,O.jsx)("div",{className:[m.Z.icon,m.Z.fc_yellow].join(" "),children:(0,O.jsx)(s.H_P,{className:m.Z.loading,size:20})}):(0,O.jsx)("div",{className:[m.Z.icon,m.Z.fc_yellow].join(" "),children:R&&R.map((function(e){return e._id})).includes(t._id)?(0,O.jsx)(c.pHD,{size:24,onClick:function(){L?(z(!0),w((0,_.Ni)({obj:{favoriteId:t._id},token:N})).then(u.SI).then((function(){W(!1)})).catch((function(){return z(!1)}))):w((0,p.Rb)())}}):(0,O.jsx)(c.y5j,{size:24,onClick:function(){L?(z(!0),w((0,_.a3)({obj:{favoriteId:t._id},token:N})).then(u.SI).then((function(){z(!1),w((0,h.ji)({obj:{partnerId:t._id},token:N})),w((0,h.F$)({obj:{sourceUser:y._id,targetUser:t._id,action:"user-added-to-favorite"},token:N}))})).catch((function(){z(!1)}))):w((0,p.Rb)())}})}):null,(t.type===C.Wl.COMPANY||t.type===C.Wl.WAREHOUSE&&y.type!==C.Wl.WAREHOUSE)&&(0,O.jsx)("div",{children:(0,O.jsx)(l.Z,{action:function(){t.type===C.Wl.WAREHOUSE&&y.type===C.Wl.WAREHOUSE||U&&(y.type!==C.Wl.PHARMACY&&y.type!==C.Wl.GUEST||(w((0,h.bD)({obj:{companyId:t._id},token:N})),w((0,h.F$)({obj:{sourceUser:y._id,targetUser:t._id,action:"choose-company"},token:N}))),w((0,j.Pl)()),t.type===C.Wl.COMPANY&&w((0,j.HN)(t.name)),t.type===C.Wl.WAREHOUSE&&w((0,j.jY)(t.name)),b.push("/medicines"))},text:g("medicines"),bgColor:C.wL.FAILED_COLOR})})]})]})}},4723:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var o=t(2791),a=t(3168),r=t(9271),i=t(1968),l=t.n(i),c=t(125),s=t(553),u=t(1176),d=t(9488),_=t(3575),f=t(6030),h=t(3502),p=t(6201),x=t(1061),j=t(6824),m=t(2235),v=t(7500),C=t(7425),O=t(8820),A=t(6355),g=t(4651),b=t(9942),w=t(3585),E=t(9021),L=t(3329);var R=function(e){var n=e.search,t=e.refreshHandler,o=e.count,r=(0,a.$)().t,i=(0,f.I0)(),l=(0,f.v9)(h.lB),s=l.searchName,u=l.searchCity,d=l.displayType,_=l.showFavorites,R=(0,f.v9)(p.oT),S=[{value:w.zx.ALL,label:r("all-cities")},{value:w.zx.ALEPPO,label:r("aleppo")},{value:w.zx.DAMASCUS,label:r("damascus")},{value:w.zx.DARAA,label:r("daraa")},{value:w.zx.DEIR_EZ_ZOR,label:r("deir_ez_zor")},{value:w.zx.HAMA,label:r("hama")},{value:w.zx.AL_HASAKAH,label:r("al_hasakah")},{value:w.zx.HOMS,label:r("homs")},{value:w.zx.IDLIB,label:r("idlib")},{value:w.zx.LATAKIA,label:r("latakia")},{value:w.zx.QUNEITRA,label:r("quneitra")},{value:w.zx.RAQQA,label:r("raqqa")},{value:w.zx.AL_SUWAYDA,label:r("al_suwayda")},{value:w.zx.TARTUS,label:r("tartus")},{value:w.zx.DAMASCUS_COUNTRYSIDE,label:r("damascus_countryside")}];return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(x.Z,{children:[(0,L.jsxs)("h2",{children:[r("companies")," ",(0,L.jsx)("span",{children:o})]}),(0,L.jsx)("div",{style:{position:"relative",height:"50px"},children:(0,L.jsxs)(j.Z,{searchAction:n,children:[(0,L.jsx)(m.Z,{label:"user-name",id:"search-name",type:"text",value:s,onchange:function(e){i((0,h.ut)(e.target.value))},placeholder:"search",onEnterPress:n,resetField:function(){return i((0,h.ut)(""))}}),(0,L.jsx)(E.Z,{bgColor:w.wL.SECONDARY_COLOR,foreColor:"#fff",options:S,onchange:function(e){i((0,h.TH)(e))},defaultOption:{value:u,label:r(u.toLowerCase())},caption:"user-city"})]})})]}),(0,L.jsxs)("div",{className:[b.Z.actions,b.Z.margin_v_4].join(" "),children:[(0,L.jsx)(v.Z,{withBackground:!0,selected:!1,foreColor:w.wL.SECONDARY_COLOR,tooltip:r("refresh-tooltip"),onclick:function(){t(),i((0,h.bV)(!1))},icon:function(){return(0,L.jsx)(C.PwW,{})}}),(s.length>0||u!==w.zx.ALL)&&(0,L.jsx)(v.Z,{withBackground:!0,selected:!1,foreColor:w.wL.SECONDARY_COLOR,tooltip:r("clear-filter-tooltip"),onclick:function(){i((0,h.Fq)()),t(),i((0,h.bV)(!1))},icon:function(){return(0,L.jsx)(g.jTJ,{})}}),(0,L.jsxs)("div",{className:b.Z.relative,children:[(0,L.jsx)(v.Z,{withBackground:!0,foreColor:_?w.wL.SUCCEEDED_COLOR:w.wL.SECONDARY_COLOR,tooltip:r("show-favorite-tooltip"),onclick:function(){return i((0,h.bV)(!_))},icon:function(){return(0,L.jsx)(O.pHD,{})}}),_&&(0,L.jsx)("div",{className:[b.Z.favorites_content,b.Z.bg_white].join(" "),children:_&&R&&R.filter((function(e){return e.type===w.Wl.COMPANY})).map((function(e){return(0,L.jsx)(c.Z,{partner:e,withoutBoxShadow:!0},e._id)}))})]}),(0,L.jsx)(v.Z,{withBackground:!0,foreColor:"card"===d?w.wL.SUCCEEDED_COLOR:w.wL.SECONDARY_COLOR,tooltip:r("show-item-as-card-tooltip"),onclick:function(){i((0,h.m1)("card")),i((0,h.bV)(!1))},icon:function(){return(0,L.jsx)(O.sF$,{})}}),(0,L.jsx)(v.Z,{withBackground:!0,foreColor:"list"===d?w.wL.SUCCEEDED_COLOR:w.wL.SECONDARY_COLOR,tooltip:r("show-item-as-row-tooltip"),onclick:function(){i((0,h.m1)("list")),i((0,h.bV)(!1))},icon:function(){return(0,L.jsx)(A.hON,{})}})]})]})},S=t(8785),Z=t(3541),N=t(6425);var y=function(e){var n=e.onSelectedChange,t=(0,a.$)().t,i=(0,f.I0)(),x=(0,f.v9)(Z.tT),j=x.token,m=x.user,v=(0,f.v9)(h.zY),C=v.companies,O=v.count,A=v.status,g=v.error,E=(0,f.v9)(h.lB),y=E.displayType,k=E.page,D=(0,f.v9)(N.VY),W=function(e){i((0,h.bV)(!1)),i((0,h.ap)({token:j})).then(S.SI).then((function(){i((0,h.oO)(e+1))}))};return(0,o.useEffect)((function(){return 0===C.length&&W(1),window.scrollTo(0,0),n(),function(){(0,h.iX)()}}),[]),m?(0,L.jsxs)("div",{className:b.Z.container,children:[(0,L.jsx)(R,{search:function(){i((0,h.E5)()),i((0,h.oO)(1)),W(1)},refreshHandler:function(){i((0,p.iF)()),i((0,p._l)({token:j})),i((0,h.E5)()),i((0,h.oO)(1)),W(1)},count:O}),"list"===y&&C.map((function(e){return(0,L.jsx)(c.Z,{partner:e},e._id)})),"card"===y&&(0,L.jsx)("div",{className:[b.Z.flex_container,b.Z.margin_top_10].join(" "),children:C.map((function(e){return(0,L.jsx)(s.Z,{partner:e},e._id)}))}),0===C.length&&"loading"!==A&&(0,L.jsx)(_.Z,{msg:t("no-companies")}),"loading"===A&&(0,L.jsx)("div",{className:b.Z.flex_container,children:(0,L.jsx)(l(),{color:w.wL.SECONDARY_COLOR,type:"cylon"})}),C.length<O&&(0,L.jsx)(u.Z,{text:t("more"),action:function(){D?W(k):i((0,N.Rb)())},bgColor:w.wL.SECONDARY_COLOR}),C.length===O&&"loading"!==A&&0!==O&&(0,L.jsx)("p",{className:[b.Z.center,b.Z.fc_secondary].join(" "),children:t("no-more")}),g&&(0,L.jsx)(d.Z,{bgColor:w.wL.FAILED_COLOR,foreColor:"#fff",actionAfterTimeout:function(){i((0,h.PU)())},children:t(g)})]}):(0,L.jsx)(r.l_,{to:"/signin"})}}}]);
//# sourceMappingURL=723.09f182c2.chunk.js.map