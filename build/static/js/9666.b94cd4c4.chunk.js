"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[9666,3990],{6886:function(e,a,n){n.d(a,{Z:function(){return l}});var t=n(885),i=n(2791),c=n(3585),r="button-with-icon_button__Yrwl2",s=n(3329);var l=function(e){var a=e.action,n=e.text,l=e.bgColor,o=e.icon,d=(e.smallText,(0,i.useState)(!1)),h=(0,t.Z)(d,2),u=h[0],m=h[1],p=function(){m(!u)};return(0,s.jsxs)("div",{className:r,onClick:a,style:{border:"1px solid ".concat(l),backgroundColor:u?l:c.wL.WHITE_COLOR,color:u?c.wL.WHITE_COLOR:l},onMouseEnter:p,onMouseLeave:p,children:[(0,s.jsx)("p",{children:n}),o&&o()]})}},6181:function(e,a,n){n.d(a,{Z:function(){return p}});var t=n(885),i=n(2791),c=n(3168),r=n(8820),s=n(7425),l=n(6856),o=n(6030),d=n(3107),h={small_font:"cart-item-card_small_font__aBnOR",max_qty_div:"cart-item-card_max_qty_div__2py2i",input:"cart-item-card_input__0E6Jy",container:"cart-item-card_container__I3xwe",header:"cart-item-card_header__cIref",icon:"cart-item-card_icon__V1nn7",name:"cart-item-card_name__VXW1Q",delete_icon:"cart-item-card_delete_icon__ewtjV",details:"cart-item-card_details__8rUMf",row:"cart-item-card_row__altFb",label:"cart-item-card_label__vOnNA",first:"cart-item-card_first__UzIDP",qty:"cart-item-card_qty__e3TLk",value:"cart-item-card_value__l3OD3",price:"cart-item-card_price__Dk4XD",customer_price:"cart-item-card_customer_price__uovGL",ellipsis:"cart-item-card_ellipsis__B87xF",last_row:"cart-item-card_last_row__yPlCw",sum_row:"cart-item-card_sum_row__PJ8ov",qty_row:"cart-item-card_qty_row__mRc8V",total_price:"cart-item-card_total_price__08c0r",actions:"cart-item-card_actions__+6rq9",inline_block:"cart-item-card_inline_block__f8cEb",loading:"cart-item-card_loading__3VlHu","loading-move":"cart-item-card_loading-move__WLBsh",ribbon_2:"cart-item-card_ribbon_2__Ou2Iq"},u=n(3585),m=n(3329);var p=function(e){var a=e.cartItem,n=e.inOrderDetails,p=e.withoutMaxQty,x=(0,c.$)().t,_=(0,o.I0)(),j=(0,i.useState)(!1),v=(0,t.Z)(j,2),f=v[0],b=v[1];return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:h.container,children:[(0,m.jsxs)("div",{className:h.header,children:[(0,m.jsx)("label",{className:h.icon,onClick:function(e){b(!f),e.stopPropagation()},children:f?(0,m.jsx)(l.Faw,{}):(0,m.jsx)(l.Yc6,{})}),(0,m.jsxs)("div",{className:[h.name,h.ellipsis].join(" "),children:[(0,m.jsx)("label",{children:a.item.name}),(0,m.jsx)("label",{children:a.item.nameAr})]}),!n&&(0,m.jsx)("div",{className:h.delete_icon,onClick:function(){return _((0,d.Cn)(a))},children:(0,m.jsx)(s.w6k,{size:20,color:u.wL.FAILED_COLOR})})]}),(0,m.jsxs)("div",{className:h.details,children:[f&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:[h.row].join(" "),children:(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:[h.label,h.first].join(" "),children:[x("item-company"),":"]}),(0,m.jsx)("label",{className:h.value,children:a.item.company.name})]})}),(0,m.jsxs)("div",{className:h.row,children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:[h.label,h.first].join(" "),children:[x("item-formula"),":"]}),(0,m.jsx)("label",{className:h.value,children:a.item.formula})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:h.label,children:[x("item-caliber"),":"]}),(0,m.jsx)("label",{className:h.value,children:a.item.caliber})]})]}),(0,m.jsx)("div",{className:h.row,children:(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:[h.label,h.first].join(" "),children:[x("item-packing"),":"]}),(0,m.jsx)("label",{className:h.value,children:a.item.packing})]})})]}),(0,m.jsxs)("div",{className:h.row,children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:[h.label,h.first].join(" "),children:[x("item-price"),":"]}),(0,m.jsx)("label",{className:[h.value,h.price].join(" "),children:a.item.price})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:h.label,children:[x("item-customer-price"),":"]}),(0,m.jsx)("label",{className:[h.value,h.customer_price].join(" "),children:a.item.customer_price})]})]}),f&&("without"===p?(0,m.jsx)(m.Fragment,{}):(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:[h.row,h.first].join(" "),children:(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:h.label,children:[x("item-max-qty"),":"]}),(0,m.jsx)("label",{className:h.value,children:a.warehouse.maxQty?a.warehouse.maxQty:""})]})})})),(0,m.jsxs)("div",{className:h.row,children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:[h.label,h.first].join(" "),children:[x("quantity-label"),":"]}),!a.bonus&&!n&&(0,m.jsx)("label",{onClick:function(){a.qty>0&&_((0,d.WG)(a))},className:h.minus,children:(0,m.jsx)(r.n6z,{color:u.wL.FAILED_COLOR,style:{position:"relative",top:"5px"}})}),(0,m.jsx)("label",{className:h.qty,children:a.qty}),!a.bonus&&!n&&(0,m.jsx)("label",{onClick:function(){(0!==a.warehouse.maxQty&&a.qty<a.warehouse.maxQty||0===a.warehouse.maxQty)&&_((0,d.zb)(a))},className:h.plus,children:(0,m.jsx)(r.OzW,{color:u.wL.SUCCEEDED_COLOR,style:{position:"relative",top:"5px"}})})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:[h.label].join(" "),children:[x("offer-label"),":"]}),(0,m.jsxs)("label",{className:h.value,children:[a.bonus&&a.bonus,a.bonus?a.bonusType===u.Hg.PERCENTAGE?x("after-bonus-percentage-label"):x("after-quantity-label"):"-"]})]})]}),(0,m.jsx)("div",{className:[h.sum_row].join(" "),children:(0,m.jsx)("label",{className:h.total_price,children:a.qty*(n?a.price:a.item.price)-(a.bonus&&a.bonusType===u.Hg.PERCENTAGE?a.qty*(n?a.price:a.item.price)*a.bonus/100:0)})})]})]})})}},1061:function(e,a,n){n.d(a,{Z:function(){return d}});n(2791);var t=n(9271),i=n(7500),c=n(4373),r=n(3585),s="header_header__MhatS",l="header_back__wgjRV",o=n(3329);var d=function(e){var a=e.children,n=(0,t.k6)();return(0,o.jsxs)("div",{className:s,children:[a,(0,o.jsx)("div",{className:l,children:(0,o.jsx)(i.Z,{onclick:function(){n.goBack()},icon:function(){return(0,o.jsx)(c.D_,{})},foreColor:r.wL.WHITE_COLOR})})]})}},3575:function(e,a,n){n(2791);var t=n(9942),i=n(3126),c=n(3585),r=n(3329);a.Z=function(e){var a=e.msg;return(0,r.jsxs)("div",{className:[t.Z.no_content_div].join(" "),children:[(0,r.jsx)("img",{src:i,alt:"thumb",style:{width:"150px",height:"150px"}}),(0,r.jsx)("p",{style:{color:c.wL.MAIN_COLOR},children:a})]})}},3990:function(e,a,n){n.r(a),n.d(a,{default:function(){return A}});var t=n(2791),i=n(9271),c=n(3168),r=n(6030),s=n(3541),l=n(3107),o=n(1061),d=n(885),h=n(8785),u=n(6425),m=n(3994),p=n(3666),x=n(8489),_=n(2541),j=n(6886),v=n(6181),f=n(6856),b="cart-warehouse_container__dgErK",N="cart-warehouse_header__XorCl",w="cart-warehouse_name__UjOCO",O="cart-warehouse_icon__D-CwQ",S="cart-warehouse_total_price__XfuYf",y=n(3585),C=n(3329);var g=function(e){var a=e.warehouse,n=(0,c.$)().t,i=(0,r.I0)(),o=(0,r.v9)(u.VY),g=(0,r.v9)(s.tT),T=g.token,E=g.user,A=(0,r.v9)(l.D1),k=(0,t.useState)(!1),I=(0,d.Z)(k,2),L=I[0],R=I[1],W=(0,t.useState)(!1),Z=(0,d.Z)(W,2),F=Z[0],q=Z[1],P=(0,t.useState)(!1),z=(0,d.Z)(P,2),D=z[0],B=z[1],M=(0,t.useState)(!1),H=(0,d.Z)(M,2),$=H[0],Q=H[1],U=(0,t.useState)(!1),V=(0,d.Z)(U,2),Y=V[0],G=V[1];return(0,C.jsxs)("div",{className:[b],children:[(0,C.jsxs)("div",{className:N,children:[(0,C.jsxs)("div",{className:w,onClick:function(){return G(!Y)},children:[(0,C.jsx)("label",{className:O,children:Y?(0,C.jsx)(f.Yc6,{}):(0,C.jsx)(f.Faw,{})}),(0,C.jsx)("label",{children:a})]}),(0,C.jsx)("label",{children:(0,C.jsx)(j.Z,{text:n("send-order"),bgColor:y.wL.SUCCEEDED_COLOR,action:function(){return Q(!0)}})}),(0,C.jsx)("label",{className:S,children:function(){var e=0;return A.filter((function(e){return e.warehouse.warehouse.name===a})).forEach((function(a){e=e+a.qty*a.item.price-(a.bonus&&a.bonusType===y.Hg.PERCENTAGE?a.qty*a.item.price*a.bonus/100:0)})),e}()})]}),Y&&(0,C.jsx)(C.Fragment,{children:A.filter((function(e){return e.warehouse.warehouse.name===a})).map((function(e,a){return(0,C.jsx)("div",{children:(0,C.jsx)(v.Z,{cartItem:e,inOrderDetails:!1})},a)}))}),D&&(0,C.jsx)(_.Z,{allowCancel:!1}),L&&(0,C.jsx)(x.Z,{closeModal:function(){R(!1),i((0,l.C3)(a))},header:n("send-order"),cancelLabel:n("close-label"),small:!0,green:!0,children:n("send-order-succeeded")}),F&&(0,C.jsx)(x.Z,{closeModal:function(){q(!1)},header:n("send-order"),cancelLabel:n("close-label"),small:!0,children:n("send-order-failed")}),$&&(0,C.jsx)(x.Z,{closeModal:function(){Q(!1)},header:n("send-order"),cancelLabel:n("cancel-label"),okLabel:n("send-order"),okModal:function(){if(o){B(!0);var e={pharmacy:E._id,warehouse:A.filter((function(e){return e.warehouse.warehouse.name===a}))[0].warehouse.warehouse._id,items:A.filter((function(e){return e.warehouse.warehouse.name===a})).map((function(e){return{item:e.item._id,qty:e.qty,bonus:e.bonus,bonusType:e.bonusType,price:e.item.price,customer_price:e.item.customer_price}}))};i((0,p.TR)({obj:e,token:T})).then(h.SI).then((function(){i((0,m.F$)({obj:{sourceUser:E._id,targetUser:null,action:"user-made-an-order"},token:T})),B(!1),R(!0)})).catch((function(e){B(!1),q(!0)})),i((0,p.n9)(!0))}else i((0,u.Rb)())},small:!0,children:n("confirm-save-order")})]})},T=n(3575),E=n(9942);var A=function(e){var a=e.onSelectedChange,n=(0,c.$)().t,d=(0,r.v9)(s.dy),h=(0,r.v9)(l.cj);return(0,t.useEffect)((function(){a()}),[]),d&&d.type===y.Wl.PHARMACY?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(o.Z,{children:(0,C.jsx)("h2",{children:n("cart")})}),(0,C.jsxs)("div",{className:E.Z.container_with_header,children:[h.length>0&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("div",{children:h.map((function(e,a){return(0,C.jsx)(g,{warehouse:e},a)}))})}),0===h.length&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(T.Z,{msg:n("empty-cart")})})]})]}):(0,C.jsx)(i.l_,{to:"/signin"})}},9666:function(e,a,n){n.r(a);var t=n(2791),i=n(9271),c=n(4681),r=n(3585),s=n(3990),l=n(3329),o=(0,t.lazy)((function(){return Promise.all([n.e(5880),n.e(4723),n.e(5760)]).then(n.bind(n,4723))})),d=(0,t.lazy)((function(){return Promise.all([n.e(9126),n.e(5421)]).then(n.bind(n,1854))})),h=(0,t.lazy)((function(){return n.e(3673).then(n.bind(n,3673))})),u=(0,t.lazy)((function(){return Promise.all([n.e(9126),n.e(1089),n.e(3234)]).then(n.bind(n,1089))})),m=(0,t.lazy)((function(){return Promise.all([n.e(5880),n.e(5198),n.e(7935)]).then(n.bind(n,5198))})),p=(0,t.lazy)((function(){return n.e(8674).then(n.bind(n,8674))})),x=(0,t.lazy)((function(){return n.e(6356).then(n.bind(n,483))})),_=(0,t.lazy)((function(){return Promise.all([n.e(7692),n.e(5080)]).then(n.bind(n,5830))})),j=(0,t.lazy)((function(){return Promise.all([n.e(9126),n.e(5668),n.e(5513)]).then(n.bind(n,5668))})),v=(0,t.lazy)((function(){return Promise.all([n.e(5880),n.e(4321),n.e(3867)]).then(n.bind(n,4321))})),f=(0,t.lazy)((function(){return Promise.all([n.e(9126),n.e(9665),n.e(1826)]).then(n.bind(n,9665))})),b=(0,t.lazy)((function(){return Promise.all([n.e(9126),n.e(8484),n.e(9042),n.e(9349)]).then(n.bind(n,5265))})),N=(0,t.lazy)((function(){return Promise.all([n.e(5880),n.e(9327),n.e(5991)]).then(n.bind(n,9327))}));a.default=function(e){var a=e.changeOptionHandler;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(t.Suspense,{fallback:(0,l.jsx)(c.Z,{}),children:(0,l.jsxs)(i.rs,{children:[(0,l.jsx)(i.AW,{exact:!0,path:"/",children:(0,l.jsx)(h,{onSelectedChange:function(){a({selectedTopNavOption:r.c.HOME,collapsedSideNavOption:!0,selectedSideNavOption:"",showTopNav:!1,showSearchBar:!1})}})}),(0,l.jsx)(i.AW,{exact:!0,path:"/companies",children:(0,l.jsx)(o,{onSelectedChange:function(){a({selectedTopNavOption:r.c.COMPANIES,collapsedSideNavOption:!0,selectedSideNavOption:"",showTopNav:!1,showSearchBar:!1})}})}),(0,l.jsx)(i.AW,{exact:!0,path:"/medicines",children:(0,l.jsx)(m,{onSelectedChange:function(){a({selectedTopNavOption:r.c.MEDICINES,collapsedSideNavOption:!0,selectedSideNavOption:"",showTopNav:!1,showSearchBar:!1})}})}),(0,l.jsx)(i.AW,{exact:!0,path:"/offers",children:(0,l.jsx)(N,{onSelectedChange:function(){a({selectedTopNavOption:r.c.OFFERS,collapsedSideNavOption:!0,selectedSideNavOption:"",showTopNav:!1,showSearchBar:!1})}})}),(0,l.jsx)(i.AW,{exact:!0,path:"/warehouses",children:(0,l.jsx)(v,{onSelectedChange:function(){a({selectedTopNavOption:r.c.WAREHOUSES,collapsedSideNavOption:!0,selectedSideNavOption:"",showTopNav:!1,showSearchBar:!1})}})}),(0,l.jsx)(i.AW,{exact:!0,path:"/item",children:(0,l.jsx)(u,{})}),(0,l.jsx)(i.AW,{exact:!0,path:"/profile",children:(0,l.jsx)(j,{onSelectedChange:function(){a({selectedTopNavOption:"",collapsedSideNavOption:!0,selectedSideNavOption:r.$6.PROFILE,showTopNav:!1,showSearchBar:!1})}})}),(0,l.jsx)(i.AW,{exact:!0,path:"/favorites",children:(0,l.jsx)(d,{onSelectedChange:function(){a({selectedTopNavOption:r.c.FAVORITES,collapsedSideNavOption:!0,selectedSideNavOption:"",showTopNav:!1,showSearchBar:!1})}})}),(0,l.jsx)(i.AW,{exact:!0,path:"/cart",children:(0,l.jsx)(s.default,{onSelectedChange:function(){a({selectedTopNavOption:"",collapsedSideNavOption:!0,selectedSideNavOption:r.c.CART,showTopNav:!1,showSearchBar:!1})}})}),(0,l.jsx)(i.AW,{exact:!0,path:"/notifications",children:(0,l.jsx)(_,{onSelectedChange:function(){a({selectedTopNavOption:"",collapsedSideNavOption:!0,selectedSideNavOption:r.$6.NOTIFICATIONS,showTopNav:!1,showSearchBar:!1})}})}),(0,l.jsx)(i.AW,{exact:!0,path:"/notification/:notificationId",children:(0,l.jsx)(x,{onSelectedChange:function(){a({selectedTopNavOption:"",collapsedSideNavOption:!0,selectedSideNavOption:r.$6.NOTIFICATIONS,showTopNav:!1,showSearchBar:!1})}})}),(0,l.jsx)(i.AW,{exact:!0,path:"/orders",children:(0,l.jsx)(f,{onSelectedChange:function(){a({selectedTopNavOption:"",collapsedSideNavOption:!0,selectedSideNavOption:r.$6.ORDERS,showTopNav:!1,showSearchBar:!1})}})}),(0,l.jsx)(i.AW,{exact:!0,path:"/order-details",children:(0,l.jsx)(b,{onSelectedChange:function(){a({selectedTopNavOption:"",collapsedSideNavOption:!0,selectedSideNavOption:r.$6.ORDERS,showTopNav:!1,showSearchBar:!1})}})}),(0,l.jsx)(i.AW,{component:p})]})})})}},3126:function(e,a,n){e.exports=n.p+"static/media/no-content.577bb836915173c305ce.jpeg"}}]);
//# sourceMappingURL=9666.b94cd4c4.chunk.js.map