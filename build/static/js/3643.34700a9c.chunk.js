"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[3643],{3566:function(e,n,a){a.d(n,{Z:function(){return l}});a(2791);var o=a(3168),i=a(1968),c=a.n(i),t=a(3585),s="loader_loader__qZv+U",r=a(3329);var l=function(e){var n=e.color,a=(0,o.$)().t;return(0,r.jsxs)("div",{className:s,style:{color:n||t.wL.SECONDARY_COLOR},children:[(0,r.jsx)(c(),{type:"bars",height:75,width:75,color:n||t.wL.SECONDARY_COLOR}),(0,r.jsx)("p",{children:a("loading-data")})]})}},394:function(e,n,a){a.d(n,{Z:function(){return Z}});var o=a(885),i=a(2791),c=a(3168),t=a(9271),s=a(3994),r=a(8785),l=a(6030),d=a(3541),u=a(6425),m=a(6201),h=a(6523),_=a(1847),f=a(7500),x=a(9488),p=a(8820),j=a(8014),v=a(7425),g=a(6856),b=a(4651),N=a(9126),w={small_font:"medicine-row_small_font__+8ZUj",item_row:"medicine-row_item_row__fiqmL",first_row:"medicine-row_first_row__zInzm",nameDiv:"medicine-row_nameDiv__yCJbp",nameAr:"medicine-row_nameAr__PH3PI",item_name:"medicine-row_item_name__TskTd",icon:"medicine-row_icon__0jmIa",second_row:"medicine-row_second_row__xXAjz",item_company:"medicine-row_item_company__fgt3Z",item_price:"medicine-row_item_price__3+zHe",item_customer_price:"medicine-row_item_customer_price__Ez3J+",separator:"medicine-row_separator__7e7N1",details_row:"medicine-row_details_row__Xo7IX",label:"medicine-row_label__qFkQg",value:"medicine-row_value__AY-+G",offer_div:"medicine-row_offer_div__xsflQ",loading:"medicine-row_loading__y9F-W","loading-move":"medicine-row_loading-move__QXYWk",ribbon_2:"medicine-row_ribbon_2__Jed9U"},C=a(3585),y=a(8682),O=a(3329);var Z=function(e){var n=e.item,a=(0,c.$)().t,Z=(0,t.k6)(),L=(0,l.I0)(),k=(0,l.v9)(u.VY),E=(0,l.v9)(d.tT),I=E.user,R=E.token,W=(0,l.v9)(m.hX),S=(0,l.v9)(y.IO).savedItems,A=(0,i.useState)(!1),D=(0,o.Z)(A,2),U=D[0],H=D[1],T=(0,i.useState)(!1),Y=(0,o.Z)(T,2),F=Y[0],z=Y[1],P=(0,i.useState)(!1),M=(0,o.Z)(P,2),$=M[0],B=M[1],X=(0,i.useState)(!1),K=(0,o.Z)(X,2),G=K[0],q=K[1],J=(0,i.useState)(""),Q=(0,o.Z)(J,2),V=Q[0],ee=Q[1],ne=(0,i.useState)(!1),ae=(0,o.Z)(ne,2),oe=ae[0],ie=ae[1];return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:w.item_row,onClick:function(){I.type!==C.Wl.PHARMACY&&I.type!==C.Wl.GUEST||L((0,s.F$)({obj:{sourceUser:I._id,targetItem:n._id,action:"choose-item"},token:R})),Z.push("/item",{from:I.type,type:"info",allowAction:!1,itemId:n._id,companyId:n.company._id,warehouseId:I.type===C.Wl.WAREHOUSE?I._id:null})},children:[(0,C.nx)(n,I)&&(0,O.jsx)("div",{className:w.offer_div}),(0,O.jsxs)("div",{className:w.first_row,children:[(0,O.jsxs)("label",{className:[w.item_name].join(" "),children:[(0,O.jsx)("label",{className:w.icon,onClick:function(e){ie(!oe),e.stopPropagation()},children:oe?(0,O.jsx)(g.Faw,{}):(0,O.jsx)(g.Yc6,{})}),(0,O.jsxs)("div",{className:w.nameDiv,children:[(0,O.jsx)("label",{children:n.name}),(0,O.jsx)("label",{className:w.nameAr,children:n.nameAr})]})]}),G?(0,O.jsx)(f.Z,{text:a(""),onclick:function(){},foreColor:C.wL.SECONDARY_COLOR,icon:function(){return(0,O.jsx)(b.H_P,{className:w.loading})}}):I.type===C.Wl.WAREHOUSE&&(n.warehouses.map((function(e){return e.warehouse._id})).includes(I._id)?(0,O.jsx)(f.Z,{text:a("remove-from-warehouse-tooltip"),onclick:function(e){k?(q(!0),L((0,h.LK)({obj:{itemId:n._id,warehouseId:I._id,city:I.city},token:R})).then(r.SI).then((function(){q(!1)})).catch((function(){q(!1)}))):L((0,u.Rb)())},foreColor:C.wL.FAILED_COLOR,icon:function(){return(0,O.jsx)(v.w6k,{size:24})}}):(0,O.jsx)(f.Z,{text:a("add-to-warehouse-tooltip"),onclick:function(e){k?(q(!0),L((0,h._h)({obj:{itemId:n._id,warehouseId:I._id,city:I.city},token:R})).then(r.SI).then((function(){q(!1)})).catch((function(){q(!1)}))):L((0,u.Rb)())},foreColor:C.wL.SUCCEEDED_COLOR,icon:function(){return(0,O.jsx)(g.NcC,{size:24})}})),I.type===C.Wl.PHARMACY?(0,C.ZC)(n,I)?(0,O.jsx)(f.Z,{text:a("add-to-cart"),onclick:function(){return H(!0)},foreColor:C.wL.SUCCEEDED_COLOR,icon:function(){return(0,O.jsx)(j.ffc,{size:24})}}):$?(0,O.jsx)(f.Z,{text:a(""),onclick:function(){},foreColor:C.wL.YELLOW_COLOR,icon:function(){return(0,O.jsx)(b.H_P,{className:w.loading})}}):S.map((function(e){return e._id})).includes(n._id)?(0,O.jsx)(f.Z,{tooltip:a("remove-item-from-saved-items-tooltip"),onclick:function(e){k?(B(!0),L((0,y.xT)({obj:{savedItemId:n._id},token:R})).then(r.SI).then((function(){B(!1)})).catch((function(){B(!1)}))):L((0,u.Rb)())},foreColor:C.wL.FAILED_COLOR,icon:function(){return(0,O.jsx)(N.aiX,{size:24})}}):(0,O.jsx)(f.Z,{tooltip:a("add-item-to-saved-items-tooltip"),onclick:function(e){k?(B(!0),L((0,y.Mg)({obj:{savedItemId:n._id},token:R})).then(r.SI).then((function(){B(!1)})).catch((function(){B(!1)}))):L((0,u.Rb)())},foreColor:C.wL.SUCCEEDED_COLOR,icon:function(){return(0,O.jsx)(N.XNB,{size:24})}}):(0,O.jsx)(O.Fragment,{}),F?(0,O.jsx)(f.Z,{text:a(""),onclick:function(){},foreColor:C.wL.YELLOW_COLOR,icon:function(){return(0,O.jsx)(b.H_P,{className:w.loading})}}):W.map((function(e){return e._id})).includes(n._id)?(0,O.jsx)(f.Z,{text:a("remove-from-favorite-tooltip"),onclick:function(e){k?(z(!0),L((0,m.wy)({obj:{favoriteItemId:n._id},token:R})).then(r.SI).then((function(){z(!1)})).catch((function(){z(!1)}))):L((0,u.Rb)())},foreColor:C.wL.YELLOW_COLOR,icon:function(){return(0,O.jsx)(p.pHD,{size:24})}}):(0,O.jsx)(f.Z,{text:a("add-to-favorite-tooltip"),onclick:function(e){k?(z(!0),L((0,m.wF)({obj:{favoriteItemId:n._id},token:R})).then(r.SI).then((function(){L((0,s.F$)({obj:{sourceUser:I._id,targetItem:n._id,action:"item-added-to-favorite"},token:R})),z(!1)})).catch((function(){z(!1)}))):L((0,u.Rb)())},foreColor:C.wL.YELLOW_COLOR,icon:function(){return(0,O.jsx)(p.y5j,{size:24})}})]}),(0,O.jsxs)("div",{className:w.second_row,children:[(0,O.jsx)("label",{className:w.item_company,children:n.company.name}),I.type!==C.Wl.GUEST&&(0,O.jsx)("label",{className:w.item_price,children:n.price}),(0,O.jsx)("label",{className:w.item_customer_price,children:n.customer_price})]}),oe&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{className:w.separator}),(0,O.jsxs)("div",{className:w.details_row,children:[(0,O.jsxs)("label",{className:w.label,children:[a("item-packing"),":"]}),(0,O.jsx)("label",{className:w.value,children:n.packing})]}),(0,O.jsxs)("div",{className:w.details_row,children:[(0,O.jsxs)("label",{className:w.label,children:[a("item-caliber"),":"]}),(0,O.jsx)("label",{className:w.value,children:n.caliber})]}),(0,O.jsxs)("div",{className:w.details_row,children:[(0,O.jsxs)("label",{className:w.label,children:[a("item-composition"),":"]}),(0,O.jsx)("label",{className:w.value,children:n.composition})]})]})]}),U&&(0,O.jsx)(_.Z,{item:n,close:function(){return H(!1)},setAddItemToCartMsg:ee,fromSavedItems:!0}),V.length>0&&(0,O.jsx)(x.Z,{bgColor:C.wL.SUCCEEDED_COLOR,foreColor:"#fff",toastText:a(V),actionAfterTimeout:function(){return ee("")}})]})}},6824:function(e,n,a){var o=a(885),i=a(2791),c=a(3168),t=a(6355),s=a(6349),r=a(9942),l=a(7500),d=a(3329);n.Z=function(e){var n=e.children,a=e.searchAction,u=(0,c.$)().t,m=i.Children.toArray(n),h=(0,i.useState)(!1),_=(0,o.Z)(h,2),f=_[0],x=_[1];return(0,d.jsx)("div",{className:[s.Z.search_container,s.Z.expanded,f?s.Z.expanded_with_options:""].join(" "),children:(0,d.jsx)("div",{className:s.Z.expanded_div,children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{style:{flex:1},children:[m[0],f&&m.length>1?m.map((function(e,n){return n>0?e:null})):null,f&&(0,d.jsx)("button",{onClick:function(){a(),x(!1)},style:{marginBlockStart:"4px",marginInline:"auto",marginLeft:"auto",marginRight:"auto",width:"50%"},className:[r.Z.button,r.Z.bg_main,r.Z.fc_white,r.Z.block,r.Z.padding_v_6,r.Z.padding_h_8].join(" "),children:u("search")})]}),m.length>1&&(0,d.jsx)("div",{style:{marginInline:"4px",marginLeft:"4px",marginRight:"4px"},children:(0,d.jsx)(l.Z,{onclick:function(){return x(!f)},icon:function(){return(0,d.jsx)(t.ulB,{})}})}),1===m.length&&(0,d.jsx)("div",{className:[r.Z.icon,r.Z.margin_h_4].join(" "),onClick:function(){a(),x(!1)},children:(0,d.jsx)("button",{className:[r.Z.button,r.Z.bg_secondary,r.Z.fc_white,r.Z.block,r.Z.padding_v_6,r.Z.padding_h_8].join(" "),children:u("search")})})]})})})}},2235:function(e,n,a){a.d(n,{Z:function(){return r}});a(2791);var o=a(3168),i=a(8820),c="search-input_input_div__4KoDe",t="search-input_icon_close__TC1nF",s=a(3329);var r=function(e){var n=e.type,a=e.label,r=e.id,l=e.value,d=e.onchange,u=e.placeholder,m=e.onEnterPress,h=e.resetField,_=e.onkeyup,f=(0,o.$)().t;return(0,s.jsxs)("div",{className:c,children:[a&&(0,s.jsx)("label",{htmlFor:r,children:f(a)}),(0,s.jsx)("input",{placeholder:u?f("".concat(u)):"",id:r,type:n,value:l,onChange:d,onKeyPress:function(e){"Enter"===e.key&&m&&m()},onKeyUp:_&&_}),h&&l&&(0,s.jsx)(i.LHV,{onClick:function(){return h(r)},className:t})]})}},2412:function(e,n,a){a.d(n,{Z:function(){return w}});var o=a(2982),i=a(885),c=a(2791),t=a(3168),s=a(4569),r=a.n(s),l=a(6030),d=a(3541),u=a(8489),m=a(1176),h=a(7500),_=a(3575),f=a(3566),x=a(2268),p=a(6053),j={small_font:"select-partner-modal_small_font__Kp3oN",search_container:"select-partner-modal_search_container__X5Syf",search_input:"select-partner-modal_search_input__IVAlg",company_row:"select-partner-modal_company_row__BKU0e"},v=a(9942),g=a(3585),b=a(3329);var N=function(e){var n=e.data,a=e.select;return(0,b.jsxs)("div",{className:j.company_row,children:[(0,b.jsx)("p",{className:j.company_name,children:n.name}),(0,b.jsx)(h.Z,{icon:function(){return(0,b.jsx)(p.PgY,{})},foreColor:g.wL.SUCCEEDED_COLOR,onclick:function(){a(n)}})]})},w=function(e){var n=e.close,a=e.chooseAction,s=e.url,h=e.header,p=e.placeholder,w=(0,t.$)().t,C=(0,l.v9)(d.rK),y=(0,c.useState)(""),O=(0,i.Z)(y,2),Z=O[0],L=O[1],k=(0,c.useState)([]),E=(0,i.Z)(k,2),I=E[0],R=E[1],W=(0,c.useState)(!1),S=(0,i.Z)(W,2),A=S[0],D=S[1],U=(0,c.useState)(1),H=(0,i.Z)(U,2),T=H[0],Y=H[1],F=(0,c.useState)(0),z=(0,i.Z)(F,2),P=z[0],M=z[1],$=(0,c.useCallback)((function(e){try{D(!0);var n="";Z.trim().length>0&&(n="&name=".concat(Z.trim())),r().get("".concat(s,"&page=").concat(e).concat(n),{headers:{Authorization:"Bearer ".concat(C)}}).then((function(n){R(1===e?n.data.data.users:[].concat((0,o.Z)(I),(0,o.Z)(n.data.data.users))),M(n.data.count),D(!1),Y(e+1)}))}catch(a){}}),[I,Z,C,s]),B=function(e){a(e),n()};return(0,c.useEffect)((function(){$(1)}),[]),(0,b.jsx)(u.Z,{header:w(h),cancelLabel:"cancel-label",closeModal:n,small:!0,children:A?(0,b.jsx)(f.Z,{}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:[j.search_container,v.Z.flex_center_container].join(" "),children:[(0,b.jsx)(x.FKI,{color:g.wL.SECONDARY_COLOR,size:24}),(0,b.jsx)("input",{className:j.search_input,placeholder:w(p),value:Z,onChange:function(e){return L(e.target.value)},onKeyDown:function(e){"Enter"===e.code&&$(1),"Escape"!==e.code&&e.stopPropagation()}}),(0,b.jsx)(m.Z,{text:"search",action:function(){$(1)},bgColor:g.wL.SECONDARY_COLOR})]}),(0,b.jsxs)("div",{style:{maxHeight:"300px",overflow:"auto"},children:[(null===I||void 0===I?void 0:I.length)>0&&I.map((function(e){return(0,b.jsx)(N,{data:e,select:B},e._id)})),0===I.length&&0===Z.length&&(0,b.jsx)(_.Z,{msg:w("search-for-company")}),0===I.length&&0!==Z.length&&(0,b.jsx)(_.Z,{msg:w("search-empty")})]}),I.length<P&&(0,b.jsx)("div",{className:v.Z.padding_v_6,children:(0,b.jsx)(m.Z,{text:"more",action:function(){$(T)},bgColor:g.wL.SECONDARY_COLOR})})]})})}},3643:function(e,n,a){a.r(n),a.d(n,{default:function(){return K}});var o=a(2982),i=a(2791),c=a(3168),t=a(9271),s=a(1968),r=a.n(s),l=a(6824),d=a(2235),u=a(3575),m=a(7500),h=a(3585),_="medicines-search-string_div_search_str__VtrHq",f="medicines-search-string_label__-AfzZ",x="medicines-search-string_value__TyoDg",p=a(3329);var j=function(e){var n=e.pageState,a=e.user,o=(0,c.$)().t;return(0,p.jsxs)("div",{className:_,children:[n.searchName&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("label",{className:f,children:[o("item-name"),":"]})," ",(0,p.jsx)("label",{className:x,children:n.searchName})]}),n.searchCompanyName&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("label",{className:f,children:[o("item-company"),":"]})," ",(0,p.jsx)("label",{className:x,children:n.searchCompanyName})]}),n.searchWarehouseName&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("label",{className:f,children:[o("item-warehouse"),":"]})," ",(0,p.jsx)("label",{className:x,children:n.searchWarehouseName})]}),n.searchInWarehouse&&a.type===h.Wl.WAREHOUSE&&(0,p.jsx)("label",{className:x,children:o("warehouse-in-warehouse")}),n.searchInWarehouse&&a.type!==h.Wl.WAREHOUSE&&(0,p.jsx)("label",{className:x,children:o("pharmacy-in-warehouse")}),n.searchOutWarehouse&&a.type===h.Wl.WAREHOUSE&&(0,p.jsx)("label",{className:x,children:o("warehouse-out-warehouse")}),n.searchOutWarehouse&&a.type!==h.Wl.WAREHOUSE&&(0,p.jsx)("label",{className:x,children:o("pharmacy-out-warehouse")})]})},v=a(394),g=a(6886),b=a(885),N=a(1221),w=a(1847),C=a(8820),y=a(7425),O=a(6856),Z=a(8014),L=a(4651),k=a(9126),E=a(6030),I=a(3994),R=a(8785),W=a(6425),S=a(6523),A=a(6201),D=a(3541),U=a(9942),H={small_font:"medicine-card_small_font__azgsm",partner_container:"medicine-card_partner_container__yb2zQ",icons_div:"medicine-card_icons_div__dj+FN",offer_icon:"medicine-card_offer_icon__lDsfJ",logo_div:"medicine-card_logo_div__7a5ID",logo:"medicine-card_logo__pqunT",company_name:"medicine-card_company_name__DCc1K",content:"medicine-card_content__k4Bsz",showed_content:"medicine-card_showed_content__Eme5w",main_details:"medicine-card_main_details__+dyxr",name:"medicine-card_name__xKz0J",secondRow:"medicine-card_secondRow__YTM3x",nameAr:"medicine-card_nameAr__vTika",price:"medicine-card_price__igMZ1",customer_price:"medicine-card_customer_price__cIsWM",info:"medicine-card_info__XYxwi",label:"medicine-card_label__5HNDN",value:"medicine-card_value__0jzw9",ribbon_2:"medicine-card_ribbon_2__HnyT2"},T=a(8682);var Y=function(e){var n=e.companyItem,a=(0,c.$)().t,o=(0,t.k6)(),s=(0,E.I0)(),r=(0,E.v9)(W.VY),l=(0,E.v9)(D.tT),d=l.user,u=l.token,_=(0,E.v9)(A.hX),f=(0,E.v9)(T.IO).savedItems,x=(0,i.useState)(!1),j=(0,b.Z)(x,2),v=j[0],g=j[1],Y=(0,i.useState)(!1),F=(0,b.Z)(Y,2),z=F[0],P=F[1],M=(0,i.useState)(!1),$=(0,b.Z)(M,2),B=$[0],X=$[1],K=(0,i.useState)(!1),G=(0,b.Z)(K,2),q=G[0],J=G[1];return(0,p.jsxs)("div",{className:[H.partner_container].join(" "),onClick:function(){d.type!==h.Wl.PHARMACY&&d.type!==h.Wl.GUEST||s((0,I.F$)({obj:{sourceUser:d._id,targetItem:n._id,action:"choose-item"},token:u})),o.push("item",{from:d.type,type:"info",allowAction:!1,itemId:n._id,companyId:n.company._id,warehouseId:d.type===h.Wl.WAREHOUSE?d._id:null})},children:[(0,h.nx)(n,d)&&(0,p.jsx)("div",{className:[H.ribbon_2].join(" "),children:(0,p.jsx)("span",{children:a("offer")})}),(0,p.jsx)("div",{className:H.company_name,children:n.company.name}),(0,p.jsxs)("div",{style:{flex:1},children:[(0,p.jsxs)("div",{className:H.icons_div,children:[q?(0,p.jsx)(m.Z,{icon:function(){return(0,p.jsx)(L.H_P,{className:U.Z.loading,size:24})},onclick:function(){},foreColor:h.wL.SECONDARY_COLOR}):d.type===h.Wl.WAREHOUSE&&(n.warehouses.map((function(e){return e.warehouse._id})).includes(d._id)?(0,p.jsx)(m.Z,{icon:function(){return(0,p.jsx)(y.w6k,{size:24})},onclick:function(e){r?(J(!0),s((0,S.LK)({obj:{itemId:n._id,warehouseId:d._id},token:u})).then(R.SI).then((function(){J(!1)})).catch((function(){J(!1)})),e.stopPropagation()):s((0,W.Rb)())},tooltip:a("remove-from-warehouse-tooltip"),foreColor:h.wL.FAILED_COLOR}):(0,p.jsx)(m.Z,{icon:function(){return(0,p.jsx)(O.NcC,{size:24})},onclick:function(e){r?(J(!0),s((0,S._h)({obj:{itemId:n._id,warehouseId:d._id},token:u})).then(R.SI).then((function(){J(!1)})).catch((function(){J(!1)}))):s((0,W.Rb)())},tooltip:a("add-to-warehouse-tooltip"),foreColor:h.wL.SUCCEEDED_COLOR})),d.type===h.Wl.PHARMACY?(0,h.ZC)(n,d)?(0,p.jsx)(m.Z,{icon:function(){return(0,p.jsx)(Z.ffc,{size:24})},onclick:function(){return g(!0)},foreColor:h.wL.SUCCEEDED_COLOR}):B?(0,p.jsx)(m.Z,{text:a(""),onclick:function(){},foreColor:h.wL.YELLOW_COLOR,icon:function(){return(0,p.jsx)(L.H_P,{className:H.loading})}}):f.map((function(e){return e._id})).includes(n._id)?(0,p.jsx)(m.Z,{tooltip:a("remove-item-from-saved-items-tooltip"),onclick:function(e){r?(X(!0),s((0,T.xT)({obj:{savedItemId:n._id},token:u})).then(R.SI).then((function(){X(!1)})).catch((function(){X(!1)}))):s((0,W.Rb)())},foreColor:h.wL.FAILED_COLOR,icon:function(){return(0,p.jsx)(k.aiX,{size:24})}}):(0,p.jsx)(m.Z,{tooltip:a("add-item-to-saved-items-tooltip"),onclick:function(e){r?(X(!0),s((0,T.Mg)({obj:{savedItemId:n._id},token:u})).then(R.SI).then((function(){X(!1)})).catch((function(){X(!1)}))):s((0,W.Rb)())},foreColor:h.wL.SUCCEEDED_COLOR,icon:function(){return(0,p.jsx)(k.XNB,{size:24})}}):(0,p.jsx)(p.Fragment,{}),z?(0,p.jsx)(m.Z,{icon:function(){return(0,p.jsx)(L.H_P,{className:U.Z.loading,size:24})},onclick:function(){},foreColor:h.wL.YELLOW_COLOR}):_.map((function(e){return e._id})).includes(n._id)?(0,p.jsx)(m.Z,{icon:function(){return(0,p.jsx)(C.pHD,{size:24})},onclick:function(e){r?(P(!0),s((0,A.wy)({obj:{favoriteItemId:n._id},token:u})).then(R.SI).then((function(){P(!1)})).catch((function(){P(!1)}))):s((0,W.Rb)())},tooltip:a("remove-from-favorite-tooltip"),foreColor:h.wL.YELLOW_COLOR}):(0,p.jsx)(m.Z,{icon:function(){return(0,p.jsx)(C.y5j,{size:24})},onclick:function(e){r?(P(!0),s((0,A.wF)({obj:{favoriteItemId:n._id},token:u})).then(R.SI).then((function(){s((0,I.F$)({obj:{sourceUser:d._id,targetItem:n._id,action:"item-added-to-favorite"}})),P(!1)})).catch((function(){P(!1)}))):s((0,W.Rb)())},tooltip:a("add-to-favorite-tooltip"),foreColor:h.wL.YELLOW_COLOR})]}),(0,p.jsx)("div",{className:H.logo_div,children:n.logo_url&&""!==n.logo_url?(0,p.jsx)("img",{src:"".concat(h.LB,"/items/").concat(n.logo_url),className:H.logo,alt:"thumb"}):(0,p.jsx)("img",{src:N,className:H.logo,alt:"thumb"})}),(0,p.jsxs)("div",{className:H.content,children:[(0,p.jsxs)("div",{className:[H.showed_content].join(" "),children:[(0,p.jsxs)("div",{className:H.main_details,children:[(0,p.jsx)("label",{className:H.name,children:n.name}),(0,p.jsxs)("div",{className:H.secondRow,children:[(0,p.jsx)("label",{className:H.nameAr,children:n.nameAr}),d.type!==h.Wl.GUEST&&(0,p.jsx)("div",{className:H.price,children:(0,p.jsx)("label",{children:n.price})}),(0,p.jsx)("div",{className:H.price,children:(0,p.jsx)("label",{className:H.customer_price,children:n.customer_price})})]})]}),(0,p.jsxs)("div",{className:H.info,children:[(0,p.jsxs)("label",{className:H.label,children:[a("item-formula"),":"]}),(0,p.jsx)("label",{className:H.value,children:n.formula})]}),(0,p.jsxs)("div",{className:H.info,children:[(0,p.jsxs)("label",{className:H.label,children:[a("item-packing"),":"]}),(0,p.jsx)("label",{className:H.value,children:n.packing})]}),(0,p.jsxs)("div",{className:H.info,children:[(0,p.jsxs)("label",{className:H.label,children:[a("item-caliber"),":"]}),(0,p.jsx)("label",{className:H.value,children:n.caliber})]}),(0,p.jsxs)("div",{className:H.info,children:[(0,p.jsxs)("label",{className:H.label,children:[a("item-composition"),":"]}),(0,p.jsx)("label",{className:H.value,children:n.composition})]})]}),(0,p.jsx)("div",{className:H.behind_content})]})]}),v&&(0,p.jsx)(w.Z,{item:n,close:function(){return g(!1)}})]})},F=a(9021),z=a(6355),P=a(2268),M=a(5880),$=a(6349),B="medicines-page_selectDiv__cqz1e",X=(a(2412),null);var K=function(e){var n=e.onSelectedChange,a=(0,c.$)().t,s=(0,t.k6)(),_=(0,E.I0)(),f=(0,t.TH)(),x=[{value:"",label:a("all-companies")}].concat((0,o.Z)(f.state.myCompanies.map((function(e){return{value:e._id,label:e.name}})))),b=(0,E.v9)(D.tT),N=b.token,w=b.user,O=(0,E.v9)(S.oH),Z=O.medicines,k=O.count,I=O.status,R=O.pageState,W=x.find((function(e){return e.label===R.searchCompanyName})),A=function(){w.type===h.Wl.PHARMACY?_((0,S.nc)(w.city)):_((0,S.nc)("")),_((0,S.iK)({token:N}))},H=function(){_((0,S.ic)()),A()},T=function(e){(0,S.iX)(),X&&clearTimeout(X),X=setTimeout((function(){_((0,S.ic)()),A()}),200)};return(0,i.useEffect)((function(){0===Z.length&&(A(),window.scrollTo(0,0)),n()}),[]),w?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(l.Z,{searchAction:H,children:[(0,p.jsx)(d.Z,{label:"user-name",id:"search-name",type:"text",value:R.searchName,onchange:function(e){_((0,S.$p)(e.target.value))},icon:(0,p.jsx)(z.U41,{}),placeholder:"search-by-name-composition-barcode",onEnterPress:H,resetField:function(){_((0,S.$p)(""))},onkeyup:T}),null===R.searchCompanyId&&null===R.searchWarehouseId&&(0,p.jsx)(d.Z,{label:"item-company",id:"item-company",type:"text",value:R.searchCompanyName,onchange:function(e){_((0,S.HN)(e.target.value))},icon:(0,p.jsx)(z.U41,{}),placeholder:"search-by-company-name",onEnterPress:H,resetField:function(){_((0,S.HN)(""))},onkeyup:T}),null!==R.searchWarehouseId&&(0,p.jsxs)("div",{className:B,children:[(0,p.jsx)("label",{children:a("companies")}),(0,p.jsx)(F.Z,{bgColor:h.wL.SECONDARY_COLOR,foreColor:"#fff",options:x,onchange:function(e){if(""===e)_((0,S.HN)("")),H();else{var n=x.find((function(n){return n.value===e}));_((0,S.HN)(n.label)),H()}},defaultOption:W||{value:"",label:a("all-companies")}})]}),null===R.searchWarehouseId&&w.type!==h.Wl.GUEST&&(0,p.jsx)(d.Z,{label:"item-warehouse",id:"item-warehouse",type:"text",value:R.searchWarehouseName,onchange:function(e){_((0,S.jY)(e.target.value))},icon:(0,p.jsx)(z.U41,{}),placeholder:"search-by-warehouse-name",onEnterPress:H,resetField:function(){_((0,S.jY)(""))},onkeyup:T}),w.type!==h.Wl.GUEST&&!R.searchWarehouseId&&(0,p.jsxs)("div",{className:$.Z.checkbox_div,children:[(0,p.jsx)("input",{type:"checkbox",value:R.searchInWarehouse,checked:R.searchInWarehouse,onChange:function(){_((0,S.yU)(!R.searchInWarehouse)),_((0,S.Zf)(!1)),T()}}),w.type===h.Wl.WAREHOUSE&&(0,p.jsx)("label",{children:a("warehouse-in-warehouse")}),w.type!==h.Wl.WAREHOUSE&&(0,p.jsx)("label",{children:a("pharmacy-in-warehouse")})]}),w.type!==h.Wl.GUEST&&!R.searchWarehouseId&&(0,p.jsxs)("div",{className:$.Z.checkbox_div,children:[(0,p.jsx)("input",{type:"checkbox",value:R.searchOutWarehouse,checked:R.searchOutWarehouse,onChange:function(){_((0,S.Zf)(!R.searchOutWarehouse)),_((0,S.yU)(!1)),T()}}),w.type===h.Wl.WAREHOUSE&&(0,p.jsx)("label",{children:a("warehouse-out-warehouse")}),w.type!==h.Wl.WAREHOUSE&&(0,p.jsx)("label",{children:a("pharmacy-out-warehouse")})]}),w.type!==h.Wl.GUEST&&(R.searchWarehouseId||R.searchCompanyId)&&(0,p.jsxs)("div",{className:$.Z.checkbox_div,children:[(0,p.jsx)("input",{type:"checkbox",value:R.searchHaveOffer,checked:R.searchHaveOffer,onChange:function(){_((0,S._N)(!R.searchHaveOffer)),T()}}),(0,p.jsx)("label",{children:a("medicies-have-offer-label")})]})]}),(0,p.jsxs)("div",{className:U.Z.container,style:{marginBlockStart:"50px",paddingInlineStart:"50px"},children:[(0,p.jsx)(j,{pageState:R,user:w}),(0,p.jsxs)("div",{className:U.Z.actions,children:[(0,p.jsx)(m.Z,{withBackground:!0,icon:function(){return(0,p.jsx)(y.PwW,{})},foreColor:h.wL.MAIN_COLOR,tooltip:a("refresh-tooltip"),onclick:H}),(R.searchName.length>0||R.searchCompanyName.length>0||R.searchWarehouseName.length>0||R.searchInWarehouse||R.searchOutWarehouse)&&(0,p.jsx)(m.Z,{withBackground:!0,selected:!1,foreColor:h.wL.MAIN_COLOR,tooltip:a("clear-filter-tooltip"),onclick:function(){_((0,S.zy)()),H()},icon:function(){return(0,p.jsx)(L.jTJ,{})}}),(0,p.jsx)(m.Z,{withBackground:!0,icon:function(){return(0,p.jsx)(C.sF$,{})},foreColor:"card"===R.displayType?h.wL.SUCCEEDED_COLOR:h.wL.MAIN_COLOR,tooltip:a("show-item-as-card-tooltip"),onclick:function(){return _((0,S.Q$)("card"))}}),(0,p.jsx)(m.Z,{withBackground:!0,icon:function(){return(0,p.jsx)(z.hON,{})},foreColor:"list"===R.displayType?h.wL.SUCCEEDED_COLOR:h.wL.MAIN_COLOR,tooltip:a("show-item-as-row-tooltip"),onclick:function(){return _((0,S.Q$)("list"))}}),(0,p.jsx)(m.Z,{withBackground:!0,tooltip:a("go-back"),onclick:function(){s.goBack()},icon:function(){return(0,p.jsx)(P.D_,{})},foreColor:h.wL.MAIN_COLOR})]}),k>0&&(0,p.jsxs)("div",{className:U.Z.count,children:[(0,p.jsx)("span",{className:U.Z.label,children:a("items-count")}),(0,p.jsx)("span",{className:U.Z.count,children:k})]}),"list"===R.displayType&&Z.map((function(e){return(0,p.jsx)(v.Z,{item:e},e._id)})),"card"===R.displayType&&(0,p.jsx)("div",{className:[U.Z.flex_container,U.Z.margin_top_10].join(" "),children:Z.map((function(e){return(0,p.jsx)(Y,{companyItem:e},e._id)}))}),k>0&&"loading"!==I&&(0,p.jsxs)("div",{className:U.Z.count,children:[Z.length," / ",k]}),0===Z.length&&"loading"!==I&&0===R.searchName.length&&0===R.searchCompanyName.length&&0===R.searchWarehouseName.length&&!R.searchInWarehouse&&!R.searchOutWarehouse&&(0,p.jsx)(u.Z,{msg:a("no-items")}),0===Z.length&&"loading"!==I&&(0!==R.searchName.length||0!==R.searchCompanyName.length||0!==R.searchWarehouseName.length||R.searchInWarehouse||R.searchOutWarehouse)&&(0,p.jsx)(u.Z,{msg:a("no-result-found")}),"loading"===I&&(0,p.jsx)("div",{className:U.Z.flex_container,children:(0,p.jsx)(r(),{color:h.wL.SECONDARY_COLOR,type:"cylon"})}),Z.length<k&&"loading"!==I&&(0,p.jsx)("div",{className:U.Z.flex_container,children:(0,p.jsx)(g.Z,{text:a("more"),action:function(){A()},bgColor:h.wL.SECONDARY_COLOR,icon:function(){return(0,p.jsx)(M.lYW,{})}})}),Z.length===k&&"loading"!==I&&0!==k&&(0,p.jsx)("p",{className:[U.Z.center,U.Z.fc_secondary].join(" "),children:a("no-more")})]})]}):(0,p.jsx)(t.l_,{to:"/signin"})}},6349:function(e,n){n.Z={small_font:"search-container_small_font__Ha0Xq",search_container:"search-container_search_container__6isGM",expanded:"search-container_expanded__79n+k",expanded_div:"search-container_expanded_div__Hmmm1",checkbox_div:"search-container_checkbox_div__RPj5T"}}}]);
//# sourceMappingURL=3643.34700a9c.chunk.js.map