"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[321],{553:function(e,n,t){t.d(n,{Z:function(){return A}});var o=t(885),r=t(2791),i=t(3168),a=t(9271),l=t(1176),c=t(8820),s=t(4651),u=t(8785),d=t(6030),f=t(6201),h=t(3541),p=t(3994),_=t(6425),j=t(6481),x=t(6523),v=t(9942),m={partner_container:"partner-card_partner_container__VB59l",full_width:"partner-card_full_width__CUiS6",partner_logo:"partner-card_partner_logo__zh12g",partner_name:"partner-card_partner_name__jXB4j",from_top:"partner-card_from_top__OssbS",name:"partner-card_name__xgWNa"},O=t(3585),C=t(3329);var A=function(e){var n,t=e.partner,A=e.fullWidth,g=(0,i.$)().t,E=(0,a.k6)(),b=(0,d.I0)(),w=(0,d.v9)(j.vi).settings.showWarehouseItem,L=(0,d.v9)(_.VY),y=(0,d.v9)(f.oT),R=(0,d.v9)(f.GI),S=(0,d.v9)(h.tT),Z=S.token,W=S.user,N=(0,r.useState)(!1),k=(0,o.Z)(N,2),U=k[0],I=k[1],D=W.type===O.Wl.ADMIN||t.type===O.Wl.COMPANY||t.type===O.Wl.WAREHOUSE&&w&&t.allowShowingMedicines;return(0,C.jsxs)("div",{className:[m.partner_container,A?m.full_width:""].join(" "),children:[(0,C.jsx)("p",{className:m.partner_name,children:t.name}),(null===(n=t.logo_url)||void 0===n?void 0:n.length)>0?(0,C.jsx)("img",{src:"".concat(O.LB,"/").concat(t.logo_url),className:m.partner_logo,alt:"thumb"}):(0,C.jsx)("img",{src:"".concat(O.LB,"/default-logo.jpg"),className:m.partner_logo,alt:"thumb"}),(0,C.jsxs)("div",{className:m.from_top,children:[""===R?U?(0,C.jsx)("div",{className:[v.Z.icon,v.Z.fc_yellow].join(" "),children:(0,C.jsx)(s.H_P,{className:v.Z.loading,size:20})}):(0,C.jsx)("div",{className:[v.Z.icon,v.Z.fc_yellow].join(" "),children:y&&y.map((function(e){return e._id})).includes(t._id)?(0,C.jsx)(c.pHD,{size:24,onClick:function(e){L?(I(!0),b((0,f.Ni)({obj:{favoriteId:t._id},token:Z})).then(u.SI).then((function(){U(!1)})).catch((function(){return I(!1)}))):b((0,_.Rb)())}}):(0,C.jsx)(c.y5j,{size:24,onClick:function(e){L?(I(!0),b((0,f.a3)({obj:{favoriteId:t._id},token:Z})).then(u.SI).then((function(){I(!1),b((0,p.ji)({obj:{partnerId:t._id},token:Z})),b((0,p.F$)({obj:{sourceUser:W._id,targetUser:t._id,action:"user-added-to-favorite"},token:Z}))})).catch((function(){I(!1)}))):b((0,_.Rb)())}})}):null,(t.type===O.Wl.COMPANY||t.type===O.Wl.WAREHOUSE&&W.type!==O.Wl.WAREHOUSE)&&(0,C.jsx)("div",{children:(0,C.jsx)(l.Z,{action:function(){t.type===O.Wl.WAREHOUSE&&W.type===O.Wl.WAREHOUSE||D&&(W.type!==O.Wl.PHARMACY&&W.type!==O.Wl.GUEST||(b((0,p.bD)({obj:{companyId:t._id},token:Z})),b((0,p.F$)({obj:{sourceUser:W._id,targetUser:t._id,action:"choose-company"},token:Z}))),b((0,x.Pl)()),t.type===O.Wl.COMPANY&&b((0,x.HN)(t.name)),t.type===O.Wl.WAREHOUSE&&b((0,x.jY)(t.name)),E.push("/medicines"))},text:g("medicines"),bgColor:O.wL.FAILED_COLOR})})]})]})}},125:function(e,n,t){var o=t(885),r=t(2791),i=t(3168),a=t(9271),l=t(8820),c=t(4651),s=t(7500),u=t(6030),d=t(8785),f=t(6201),h=t(3541),p=t(3994),_=t(6425),j=t(6481),x=t(6523),v=t(9942),m=t(4131),O=t(3585),C=t(3329);n.Z=function(e){var n=e.partner,t=e.isSearch,A=e.withoutBoxShadow,g=(0,i.$)().t,E=(0,a.k6)(),b=(0,u.I0)(),w=(0,u.v9)(j.vi).settings.showWarehouseItem,L=(0,u.v9)(_.VY),y=(0,u.v9)(f.oT),R=(0,u.v9)(f.GI),S=(0,u.v9)(h.tT),Z=S.token,W=S.user,N=(0,r.useState)(!1),k=(0,o.Z)(N,2),U=k[0],I=k[1],D=W.type===O.Wl.ADMIN||n.type===O.Wl.COMPANY||n.type===O.Wl.WAREHOUSE&&w&&n.allowShowingMedicines;return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:[t?m.Z.search_container:m.Z.container,A?m.Z.without_box_shadow:""].join(" "),style:{cursor:"pointer"},onClick:function(){n.type===O.Wl.WAREHOUSE&&W.type===O.Wl.WAREHOUSE||D&&(W.type!==O.Wl.PHARMACY&&W.type!==O.Wl.GUEST||(b((0,p.bD)({obj:{companyId:n._id},token:Z})),b((0,p.F$)({obj:{sourceUser:W._id,targetUser:n._id,action:"choose-company"},token:Z}))),b((0,x.Pl)()),n.type===O.Wl.COMPANY&&b((0,x.HN)(n.name)),n.type===O.Wl.WAREHOUSE&&b((0,x.jY)(n.name)),E.push("/medicines"))},children:[(0,C.jsx)("label",{className:[m.Z.hover_underline,m.Z.padding_start].join(" "),style:{fontSize:"16px"},children:n.name}),U?(0,C.jsx)("div",{className:[m.Z.padding_end].join(" "),children:(0,C.jsx)(s.Z,{icon:function(){return(0,C.jsx)(c.H_P,{className:v.Z.loading,size:20})},onclick:function(){},foreColor:O.wL.YELLOW_COLOR})}):(0,C.jsx)("div",{className:[m.Z.padding_end].join(" "),children:""===R?y&&y.map((function(e){return e._id})).includes(n._id)?(0,C.jsx)(s.Z,{icon:function(){return(0,C.jsx)(l.pHD,{size:20})},onclick:function(e){L?(I(!0),b((0,f.Ni)({obj:{favoriteId:n._id},token:Z})).then(d.SI).then((function(){I(!1)})).catch((function(){return I(!1)}))):b((0,_.Rb)())},foreColor:O.wL.YELLOW_COLOR,tooltip:g("remove-from-favorite-tooltip")}):(0,C.jsx)(s.Z,{icon:function(){return(0,C.jsx)(l.y5j,{size:20})},onclick:function(e){L?(I(!0),b((0,f.a3)({obj:{favoriteId:n._id},token:Z})).then(d.SI).then((function(){I(!1),b((0,p.ji)({obj:{partnerId:n._id},token:Z})),b((0,p.F$)({obj:{sourceUser:W._id,targetUser:n._id,action:"user-added-to-favorite"},token:Z}))})).catch((function(){I(!1)}))):b((0,_.Rb)())},foreColor:O.wL.YELLOW_COLOR,tooltip:g("add-to-favorite-tooltip")}):null})]})})}},4321:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var o=t(885),r=t(2791),i=t(3168),a=t(9271),l=t(1968),c=t.n(l),s=t(125),u=t(553),d=t(1176),f=t(9488),h=t(3575),p=t(6030),_=t(8218),j=t(6201),x=t(1061),v=t(6824),m=t(2235),O=t(7500),C=t(7425),A=t(8820),g=t(6355),E=t(4651),b=t(9942),w=t(3585),L=t(9021),y=t(3329);var R=function(e){var n=e.search,t=e.refreshHandler,o=e.count,r=(0,i.$)().t,a=(0,p.I0)(),l=(0,p.v9)(_.T),c=l.searchName,u=l.searchCity,d=l.displayType,f=l.showFavorites,h=(0,p.v9)(j.oT),R=[{value:w.zx.ALL,label:r("all-cities")},{value:w.zx.ALEPPO,label:r("aleppo")},{value:w.zx.DAMASCUS,label:r("damascus")},{value:w.zx.DARAA,label:r("daraa")},{value:w.zx.DEIR_EZ_ZOR,label:r("deir_ez_zor")},{value:w.zx.HAMA,label:r("hama")},{value:w.zx.AL_HASAKAH,label:r("al_hasakah")},{value:w.zx.HOMS,label:r("homs")},{value:w.zx.IDLIB,label:r("idlib")},{value:w.zx.LATAKIA,label:r("latakia")},{value:w.zx.QUNEITRA,label:r("quneitra")},{value:w.zx.RAQQA,label:r("raqqa")},{value:w.zx.AL_SUWAYDA,label:r("al_suwayda")},{value:w.zx.TARTUS,label:r("tartus")},{value:w.zx.DAMASCUS_COUNTRYSIDE,label:r("damascus_countryside")}];return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(x.Z,{children:[(0,y.jsxs)("h2",{children:[r("warehouses")," ",(0,y.jsx)("span",{children:o})]}),(0,y.jsx)("div",{style:{position:"relative",height:"50px"},children:(0,y.jsxs)(v.Z,{searchAction:n,children:[(0,y.jsx)(m.Z,{label:"user-name",id:"search-name",type:"text",value:c,onchange:function(e){a((0,_.ut)(e.target.value))},placeholder:"search",onEnterPress:n,resetField:function(){return a((0,_.ut)(""))}}),(0,y.jsx)(L.Z,{bgColor:w.wL.SECONDARY_COLOR,foreColor:"#fff",options:R,onchange:function(e){a((0,_.TH)(e))},defaultOption:{value:u,label:r(u.toLowerCase())},caption:"user-city"})]})})]}),(0,y.jsxs)("div",{className:[b.Z.actions,b.Z.margin_v_4].join(" "),children:[(0,y.jsx)(O.Z,{foreColor:w.wL.SECONDARY_COLOR,tooltip:r("refresh-tooltip"),onclick:t,icon:function(){return(0,y.jsx)(C.PwW,{})},withBackground:!0}),(c.length>0||u!==w.zx.ALL)&&(0,y.jsx)(O.Z,{selected:!1,foreColor:w.wL.SECONDARY_COLOR,tooltip:r("clear-filter-tooltip"),onclick:function(){a((0,_.yp)()),t(),a((0,_.bV)(!1))},icon:function(){return(0,y.jsx)(E.jTJ,{})},withBackground:!0}),(0,y.jsxs)("div",{className:b.Z.relative,children:[(0,y.jsx)(O.Z,{foreColor:f?w.wL.SUCCEEDED_COLOR:w.wL.SECONDARY_COLOR,tooltip:r("show-favorite-tooltip"),onclick:function(){return a((0,_.bV)(!f))},icon:function(){return(0,y.jsx)(A.pHD,{})},withBackground:!0}),f&&(0,y.jsx)("div",{className:[b.Z.favorites_content,b.Z.bg_white].join(" "),children:f&&h.filter((function(e){return e.type===w.Wl.WAREHOUSE})).map((function(e){return(0,y.jsx)(s.Z,{partner:e,withoutBoxShadow:!0},e._id)}))})]}),(0,y.jsx)(O.Z,{foreColor:"card"===d?w.wL.SUCCEEDED_COLOR:w.wL.SECONDARY_COLOR,tooltip:r("show-item-as-card-tooltip"),onclick:function(){a((0,_.m1)("card")),a((0,_.bV)(!1))},icon:function(){return(0,y.jsx)(A.sF$,{})},withBackground:!0}),(0,y.jsx)(O.Z,{foreColor:"list"===d?w.wL.SUCCEEDED_COLOR:w.wL.SECONDARY_COLOR,tooltip:r("show-item-as-row-tooltip"),onclick:function(){a((0,_.m1)("list")),a((0,_.bV)(!1))},icon:function(){return(0,y.jsx)(g.hON,{})},withBackground:!0})]})]})},S=t(8785),Z=t(3541),W=t(6425);var N=function(e){var n=e.onSelectedChange,t=(0,i.$)().t,l=(0,p.I0)(),x=(0,p.v9)(W.VY),v=(0,p.v9)(Z.tT),m=v.token,O=v.user,C=(0,p.v9)(_.op),A=C.warehouses,g=C.count,E=C.status,L=C.error,N=(0,p.v9)(_.T),k=N.displayType,U=N.page,I=(0,p.v9)(j.Tc).error,D=(0,r.useState)(I),H=(0,o.Z)(D,2),z=H[0],Y=H[1],T=function(e){l((0,_.bV)()),O.type!==w.Wl.PHARMACY&&O.type!==w.Wl.GUEST&&O.type!==w.Wl.WAREHOUSE||l((0,_.TH)(O.city)),l((0,_.aM)({token:m})).then(S.SI).then((function(){l((0,_.oO)(e+1))}))};return(0,r.useEffect)((function(){return 0===A.length&&T(1),window.scrollTo(0,0),n(),function(){(0,_.iX)()}}),[]),O?(0,y.jsxs)("div",{className:b.Z.container,children:[(0,y.jsx)(R,{count:g,search:function(){l((0,_.cs)()),l((0,_.oO)(1)),T(1)},refreshHandler:function(){l((0,j.iF)()),l((0,j._l)({token:m})),l((0,_.cs)()),l((0,_.oO)(1)),T(1)}}),"list"===k&&A.map((function(e){return(0,y.jsx)(s.Z,{partner:e},e._id)})),"card"===k&&(0,y.jsx)("div",{className:[b.Z.flex_container,b.Z.margin_top_10].join(" "),children:A.map((function(e){return(0,y.jsx)(u.Z,{partner:e},e._id)}))}),0===A.length&&"loading"!==E&&(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(h.Z,{msg:t("no-warehouses")})}),"loading"===E&&(0,y.jsx)("div",{className:b.Z.flex_container,children:(0,y.jsx)(c(),{color:w.wL.SECONDARY_COLOR,type:"cylon"})}),A.length<g&&(0,y.jsx)(d.Z,{text:t("more"),action:function(){x?T(U):l((0,W.Rb)())},bgColor:w.wL.SECONDARY_COLOR}),A.length===g&&"loading"!==E&&0!==g&&(0,y.jsx)("p",{className:[b.Z.center,b.Z.fc_secondary].join(" "),children:t("no-more")}),L&&(0,y.jsx)(f.Z,{bgColor:w.wL.FAILED_COLOR,foreColor:"#fff",actionAfterTimeout:function(){l((0,_.PU)())},children:t(L)}),z&&(0,y.jsx)(f.Z,{bgColor:w.wL.FAILED_COLOR,foreColor:"#fff",actionAfterTimeout:function(){Y("")},children:t(I)})]}):(0,y.jsx)(a.l_,{to:"/signin"})}}}]);
//# sourceMappingURL=321.4ccac33b.chunk.js.map