(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[2654],{4293:function(e,n,a){"use strict";a.d(n,{Z:function(){return w}});var t=a(4942),l=a(1413),i=a(2982),o=a(885),s=a(2791),c=a(3168),r=a(2810),d=a(6030),u=a(6154),h=a(8489),m=a(7425),f=a(6856),p=a(9942),x="multi-value_container__efvXg",_="multi-value_row__CgABK",v="multi-value_header__sV-dg",j="multi-value_input_div__4ZhqR",b=a(3585),y=a(3329);var g=function(e){var n=e.addHandler,a=e.deleteHandler,t=e.values,l=e.changeHandler,i=e.placeholder,o=e.quantityLabel,s=e.bonusLabel,r=e.afterQuantityLabel,d=e.afterBonusLabel,u=e.allowEdit,h=(0,c.$)().t;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:v,children:u&&(0,y.jsxs)("div",{className:[p.Z.icon,p.Z.fc_green,p.Z.margin_h_auto].join(" "),children:[(0,y.jsx)(f.NcC,{size:36,onClick:function(e){n(),e.stopPropagation()}}),(0,y.jsx)("div",{className:p.Z.tooltip,children:h("add-offer-tooltip")})]})}),(0,y.jsx)("div",{className:x,children:t.map((function(e){return(0,y.jsxs)("div",{className:_,children:[(0,y.jsxs)("div",{className:j,children:[o&&(0,y.jsx)("label",{children:o}),(0,y.jsx)("input",{id:e.key,title:"qty",value:e.value.qty,onChange:function(e){return l(e)},placeholder:i,onKeyPress:b.I0,disabled:!u}),r&&(0,y.jsx)("label",{children:r})]}),(0,y.jsxs)("div",{className:j,children:[s&&(0,y.jsx)("label",{children:s}),(0,y.jsx)("input",{id:e.key,title:"bonus",value:e.value.bonus,onChange:function(e){return l(e)},placeholder:i,disabled:!u}),d&&(0,y.jsx)("label",{children:d})]},e.key),u&&(0,y.jsxs)("div",{className:[p.Z.icon,p.Z.fc_red].join(" "),children:[(0,y.jsx)(m.w6k,{size:20,onClick:function(){return a(e.key)}}),(0,y.jsx)("div",{className:p.Z.tooltip,children:h("remove-offer-tooltip")})]})]},e.key)}))})]})},N="offers-modal_checkboxes_div__jHFjO",k="offers-modal_offer_type_checkbox__6qdXR",Z=a(8785);var w=function(e){var n,a=e.item,m=e.warehouseId,x=e.close,_=e.token,v=e.allowEdit,j=e.afterUpdateOffer,w=(0,c.$)().t,C=(0,d.I0)(),A=a.warehouses.find((function(e){return e.warehouse._id===m})).offer,E=(0,s.useState)(!1),I=(0,o.Z)(E,2),W=I[0],L=I[1],O=(0,s.useState)(A.mode===b.Hg.PIECES),S=(0,o.Z)(O,2),M=S[0],R=S[1],H=(0,s.useState)(A.mode===b.Hg.PERCENTAGE),D=(0,o.Z)(H,2),F=D[0],P=D[1],q=(0,s.useState)((null===(n=A.offers)||void 0===n?void 0:n.length)>0?A.offers.map((function(e){return{value:{qty:e.qty,bonus:e.bonus},key:e._id}})):[]),U=(0,o.Z)(q,2),T=U[0],Y=U[1];return(0,y.jsxs)(h.Z,{header:"nav-offers",cancelLabel:"close-label",okLabel:"add-label",closeModal:x,okModal:v?function(){!function(){if(M||F){var e=T.filter((function(e){return 0!==e.value.bonus||e.value.qty})).sort((function(e,n){return e.value.qty>n.value.qty?-1:e.value.qty<n.value.qty?1:0})).map((function(e){return{qty:e.value.qty,bonus:e.value.bonus}})),n={mode:0===e.length?"":M?b.Hg.PIECES:b.Hg.PERCENTAGE,offers:e};C((0,u.Ex)({obj:{itemId:a._id,warehouseId:m,offer:n},token:_})).then(Z.SI).then((function(){return j&&j()})),x()}else L(!0)}()}:null,small:!0,children:[v&&T.length>0&&(0,y.jsxs)("div",{className:N,children:[(0,y.jsxs)("label",{children:[w("offer-type"),":"]}),(0,y.jsxs)("div",{className:k,children:[(0,y.jsx)("input",{type:"checkbox",value:M,checked:M,onChange:function(){R(!M),P(!1),L(!1)}}),(0,y.jsx)("label",{children:w(b.Hg.PIECES)})]}),(0,y.jsxs)("div",{className:k,children:[(0,y.jsx)("input",{type:"checkbox",value:F,checked:F,onChange:function(){P(!F),R(!1),L(!1)}}),(0,y.jsx)("label",{children:w(b.Hg.PERCENTAGE)})]}),W&&(0,y.jsx)(f.wr$,{color:b.wL.FAILED_COLOR,size:24})]}),0===T.length&&(0,y.jsx)("p",{className:[p.Z.center,p.Z.fc_secondary].join(" "),children:w("no-offers")}),(0,y.jsx)(g,{allowEdit:v,values:T,addHandler:function(){return Y([].concat((0,i.Z)(T),[{value:{qty:0,bonus:0},key:(0,r.Z)()}]))},deleteHandler:function(e){var n=T.filter((function(n){return n.key!==e}));Y(n)},changeHandler:function(e){var n=T.map((function(n){return n.key===e.target.id?(0,l.Z)((0,l.Z)({},n),{},{value:(0,l.Z)((0,l.Z)({},n.value),{},(0,t.Z)({},e.target.title,1*(0,b.F8)(e.target.value)))}):n}));Y(n)},quantityLabel:w("quantity-label"),bonusLabel:M?w("bonus-quantity-label"):F?w("bonus-percentage-label"):null,afterQuantityLabel:w("after-quantity-label"),afterBonusLabel:M?w("after-bonus-quantity-label"):F?w("after-bonus-percentage-label"):null})]})}},6824:function(e,n,a){"use strict";var t=a(885),l=a(2791),i=a(3168),o=a(4651),s=a(6349),c=a(9942),r=a(7500),d=a(3329);n.Z=function(e){var n=e.children,a=e.searchAction,u=(0,i.$)().t,h=l.Children.toArray(n),m=(0,l.useState)(!1),f=(0,t.Z)(m,2),p=f[0],x=f[1];return(0,d.jsx)("div",{className:[s.Z.search_container,s.Z.expanded,p?s.Z.expanded_with_options:""].join(" "),children:(0,d.jsx)("div",{className:s.Z.expanded_div,children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{style:{flex:1},children:[h[0],p&&h.length>1?h.map((function(e,n){return n>0?e:null})):null,p&&(0,d.jsx)("button",{onClick:function(){a(),x(!1)},style:{marginBlockStart:"4px",marginInline:"auto",width:"50%"},className:[c.Z.button,c.Z.bg_main,c.Z.fc_white,c.Z.block,c.Z.padding_v_6,c.Z.padding_h_8].join(" "),children:u("search")})]}),h.length>1&&(0,d.jsx)("div",{style:{marginInline:"4px"},children:(0,d.jsx)(r.Z,{onclick:function(){return x(!p)},icon:function(){return(0,d.jsx)(o.P66,{})}})}),1===h.length&&(0,d.jsx)("div",{className:[c.Z.icon,c.Z.margin_h_4].join(" "),onClick:function(){a(),x(!1)},children:(0,d.jsx)("button",{className:[c.Z.button,c.Z.bg_secondary,c.Z.fc_white,c.Z.block,c.Z.padding_v_6,c.Z.padding_h_8].join(" "),children:u("search")})})]})})})}},2235:function(e,n,a){"use strict";a.d(n,{Z:function(){return c}});a(2791);var t=a(3168),l=a(8820),i="search-input_input_div__4KoDe",o="search-input_icon_close__TC1nF",s=a(3329);var c=function(e){var n=e.type,a=e.label,c=e.id,r=e.value,d=e.onchange,u=e.placeholder,h=e.onEnterPress,m=e.resetField,f=e.onkeyup,p=(0,t.$)().t;return(0,s.jsxs)("div",{className:i,children:[a&&(0,s.jsx)("label",{htmlFor:c,children:p(a)}),(0,s.jsx)("input",{placeholder:u?p("".concat(u)):"",id:c,type:n,value:r,onChange:d,onKeyPress:function(e){"Enter"===e.key&&h&&h()},onKeyUp:f&&f}),m&&r&&(0,s.jsx)(l.LHV,{onClick:function(){return m(c)},className:o})]})}},39:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return $}});var t=a(2791),l=a(3168),i=a(9271),o=a(2810),s=a(6048),c=a.n(s),r=a(9488),d=a(3575),u=(a(3004),a(6030)),h=a(3268),m=(a(3559),a(9942)),f=a(3585),p=a(3329);var x=a(2541),_=a(6824),v=a(2235),j=a(5861),b=a(7757),y=a.n(b),g=a(4569),N=a.n(g),k=a(4802),Z=a(8484),w=a(7500),C=a(7425),A=a(3541),E=function(e){var n=e.url,a=e.fileName,t=(0,l.$)().t,i=(0,u.v9)(A.rK),o=function(){var e=(0,j.Z)(y().mark((function e(a){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N().get(n,{headers:{Authorization:"Bearer ".concat(i)}}).then((function(e){var n={Sheets:{data:Z.utils.json_to_sheet(e.data.data.items)},SheetNames:["data"]},t=Z.write(n,{bookType:"xlsx",type:"array"}),l=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});k.saveAs(l,a+".xlsx")}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsx)(w.Z,{selected:!1,foreColor:f.wL.MAIN_COLOR,tooltip:t("export-items"),icon:function(){return(0,p.jsx)(C.Qup,{})},onclick:function(e){return o(a)},withBackground:!0})},I=a(978),W=a(6349);var L=function(e){var n=e.user,a=(e.role,e.warehouse,e.count,e.company),t=e.pageState,o=e.search,s=(0,l.$)().t,c=(0,u.I0)(),r=(0,i.k6)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(_.Z,{searchAction:o,children:[(0,p.jsx)(v.Z,{label:"item-name",id:"item-name",type:"text",value:t.searchName,onchange:function(e){return c((0,h.$p)(e.target.value))},placeholder:"search-by-name-composition-barcode",onEnterPress:o,resetField:function(){c((0,h.$p)(""))}}),(n.type===f.Wl.WAREHOUSE||n.type===f.Wl.ADMIN&&t.role!==f.Wl.COMPANY)&&(0,p.jsx)(v.Z,{label:"item-company",id:"item-company",type:"text",value:t.searchCompanyName,onchange:function(e){return c((0,h.HN)(e.target.value))},placeholder:"search-by-company-name",onEnterPress:o,resetField:function(){c((0,h.HN)(""))}}),(n.type===f.Wl.COMPANY||n.type===f.Wl.ADMIN&&t.role!==f.Wl.WAREHOUSE)&&(0,p.jsx)(v.Z,{label:"item-warehouse",id:"item-warehouse",type:"text",value:t.searchWarehouseName,onchange:function(e){return c((0,h.jY)(e.target.value))},placeholder:"search-by-warehouse-name",onEnterPress:o,resetField:function(){c((0,h.jY)(""))}}),(0,p.jsxs)("div",{className:W.Z.checkbox_div,children:[(0,p.jsx)("input",{type:"checkbox",checked:t.searchDeletedItems,onChange:function(){c((0,h.Xp)(!t.searchDeletedItems)),c((0,h.fM)(!1))}}),(0,p.jsx)("label",{children:s("deleted-items")})]}),(0,p.jsxs)("div",{className:W.Z.checkbox_div,children:[(0,p.jsx)("input",{type:"checkbox",checked:t.searchActiveItems,onChange:function(){c((0,h.Xp)(!1)),c((0,h.fM)(!t.searchActiveItems))}}),(0,p.jsx)("label",{children:s("active-items")})]}),n.type!==f.Wl.WAREHOUSE&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:W.Z.checkbox_div,children:[(0,p.jsx)("input",{type:"checkbox",checked:t.searchInWarehouse,onChange:function(){c((0,h.yU)(!t.searchInWarehouse)),c((0,h.Zf)(!1))}}),(0,p.jsx)("label",{children:s("warehouse-in-warehouse")})]}),(0,p.jsxs)("div",{className:W.Z.checkbox_div,children:[(0,p.jsx)("input",{type:"checkbox",checked:t.searchOutWarehouse,onChange:function(){c((0,h.yU)(!1)),c((0,h.Zf)(!t.searchOutWarehouse))}}),(0,p.jsx)("label",{children:s("warehouse-out-warehouse")})]})]})]}),(0,p.jsx)("div",{className:m.Z.actions,children:n.type===f.Wl.COMPANY||n.type===f.Wl.ADMIN&&null!==a&&a.allowAdmin?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(w.Z,{foreColor:f.wL.MAIN_COLOR,selected:!1,icon:function(){return(0,p.jsx)(C.PwW,{})},tooltip:s("refresh-tooltip"),onclick:o,withBackground:!0}),(0,p.jsx)(w.Z,{foreColor:f.wL.MAIN_COLOR,selected:!1,icon:function(){return(0,p.jsx)(C.OlE,{})},tooltip:s("add-item"),onclick:function(){r.push("/item",{from:n.type,type:"new",allowAction:!0,itemId:null,companyId:n.type===f.Wl.COMPANY?n._id:a._id,warehouseId:null})},withBackground:!0}),(0,p.jsx)(w.Z,{foreColor:f.wL.MAIN_COLOR,selected:!1,icon:function(){return(0,p.jsx)(I.bBH,{})},tooltip:s("items-from-excel"),onclick:function(){r.push("/items-from-excel",{companyId:n.type===f.Wl.COMPANY?n._id:a._id})},withBackground:!0}),(0,p.jsx)(E,{url:"".concat(f.Hc,"/items/allItem/").concat(n.type===f.Wl.COMPANY?n._id:a._id),fileName:"filename"})]}):(0,p.jsx)(p.Fragment,{})})]})},O=a(6425),S=a(8489),M=a(4293);a(4131);var R=a(8785),H=a(6154),D=a(7361),F=a(885),P=(a(3722),a(8820)),q=a(6856),U=a(9126),T={max_qty_div:"admin-item-card_max_qty_div__U4n5L",input:"admin-item-card_input__kxNmh",container:"admin-item-card_container__wvtbI",name:"admin-item-card_name__+qVnl",details:"admin-item-card_details__U38AK",row:"admin-item-card_row__u2uo-",label:"admin-item-card_label__yVy3c",value:"admin-item-card_value__HVNiL",last_row:"admin-item-card_last_row__8odHA",actions:"admin-item-card_actions__DZdBx",loading:"admin-item-card_loading__-SX6D","loading-move":"admin-item-card_loading-move__-wqk7",ribbon_2:"admin-item-card_ribbon_2__8WN83"},Y=a(4651),B=function(e,n){if(n.type===f.Wl.COMPANY)return!1;var a=!1;return n.type===f.Wl.WAREHOUSE&&e.warehouses.filter((function(e){return e.warehouse._id===n._id})).forEach((function(e){e.offer.offers.length>0&&(a=!0)})),n.type===f.Wl.ADMIN&&e.warehouses.forEach((function(e){e.offer.offers.length>0&&(a=!0)})),a};var K=function(e){var n,a=e.item,o=e.user,s=e.warehouse,c=e.role,r=e.changeItemMaxQty,d=e.deleteItemFromWarehouse,x=(0,l.$)().t,_=(0,u.I0)(),v=(0,i.k6)(),j=(0,u.v9)(O.VY),b=(0,u.v9)(A.tT).token,y=(0,t.useState)({}),g=(0,F.Z)(y,2),N=g[0],k=g[1],Z=(0,t.useState)(!1),E=(0,F.Z)(Z,2),I=E[0],W=E[1],L=(0,t.useState)(!1),R=(0,F.Z)(L,2),H=R[0],D=R[1],K=(0,t.useState)(!1),$=(0,F.Z)(K,2),Q=$[0],G=$[1],V=(0,t.useState)(!1),z=(0,F.Z)(V,2),X=z[0],J=z[1],ee=(0,t.useState)(!1),ne=(0,F.Z)(ee,2),ae=ne[0],te=ne[1],le=(0,t.useState)(!1),ie=(0,F.Z)(le,2),oe=ie[0],se=ie[1],ce=(0,t.useState)(s?null===(n=a.warehouses.find((function(e){return e.warehouse._id===s._id})))||void 0===n?void 0:n.maxQty:0),re=(0,F.Z)(ce,2),de=re[0],ue=re[1],he=(0,t.useState)(0),me=(0,F.Z)(he,2),fe=me[0],pe=me[1],xe=function(e){k("delete"===e?{header:"item-delete-header",body:"item-delete-confirm-message",action:"delete"}:{header:"item-undo-delete-header",body:"item-undo-delete-confirm-message",action:"undo-delete"}),W(!0)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:T.container,children:[B(a,o)&&(0,p.jsx)("div",{className:[T.ribbon_2].join(" "),children:(0,p.jsx)("span",{children:x("offer")})}),(0,p.jsx)("div",{className:T.name,onClick:function(){v.push("/item",{from:o.type,type:"info",allowAction:o.type===f.Wl.COMPANY||o.type===f.Wl.ADMIN&&a.company.allowAdmin,itemId:a._id,companyId:a.company._id,warehouseId:null===s||void 0===s?void 0:s._id})},children:a.name}),(0,p.jsxs)("div",{className:T.details,children:[(o.type===f.Wl.ADMIN&&c===f.Wl.ADMIN||o.type===f.Wl.ADMIN&&c===f.Wl.WAREHOUSE||o.type===f.Wl.WAREHOUSE)&&(0,p.jsx)("div",{className:[T.row].join(" "),children:(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:T.label,children:[x("item-company"),":"]}),(0,p.jsx)("label",{className:T.value,children:a.company.name})]})}),(0,p.jsx)("div",{className:[T.row].join(" "),children:(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:T.label,children:[x("item-available"),":"]}),(0,p.jsx)("label",{className:T.value,style:{display:"inline-block"},children:a.isActive?(0,p.jsx)(w.Z,{icon:function(){return(0,p.jsx)(U.oFd,{})},foreColor:f.wL.SUCCEEDED_COLOR,onclick:function(e){j?o.type===f.Wl.ADMIN&&a.company.allowAdmin||o.type===f.Wl.COMPANY?xe("delete"):D(!0):_((0,O.Rb)())},tooltip:x("item-available")}):(0,p.jsx)(w.Z,{icon:function(){return(0,p.jsx)(q.FU5,{color:f.wL.FAILED_COLOR})},foreColor:f.wL.FAILED_COLOR,onclick:function(e){j?o.type===f.Wl.ADMIN&&a.company.allowAdmin||o.type===f.Wl.COMPANY?xe("undo-delete"):D(!0):_((0,O.Rb)())},tooltip:x("item-not-available")})})]})}),(0,p.jsxs)("div",{className:T.row,children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:T.label,children:[x("item-formula"),":"]}),(0,p.jsx)("label",{className:T.value,children:a.formula})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:T.label,children:[x("item-caliber"),":"]}),(0,p.jsx)("label",{className:T.value,children:a.caliber})]})]}),(0,p.jsx)("div",{className:T.row,children:(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:T.label,children:[x("item-packing"),":"]}),(0,p.jsx)("label",{className:T.value,children:a.packing})]})}),(0,p.jsxs)("div",{className:T.row,children:[o.type!==f.Wl.GUEST&&(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:T.label,children:[x("item-price"),":"]}),(0,p.jsx)("label",{className:T.value,children:a.price})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:T.label,children:[x("item-customer-price"),":"]}),(0,p.jsx)("label",{className:T.value,children:a.customer_price})]})]}),(o.type===f.Wl.ADMIN&&c===f.Wl.WAREHOUSE||o.type===f.Wl.WAREHOUSE)&&(0,p.jsx)("div",{className:T.row,children:(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:T.label,children:[x("item-max-qty"),":"]}),(0,p.jsx)("label",{className:T.value,children:de})]})}),(0,p.jsx)("div",{className:[T.row,T.last_row].join(" "),children:(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:T.label,children:[x("item-composition"),":"]}),(0,p.jsx)("label",{className:T.value,children:a.composition})]})})]}),(o.type===f.Wl.ADMIN&&c===f.Wl.WAREHOUSE||o.type===f.Wl.WAREHOUSE)&&(0,p.jsxs)("div",{className:T.actions,children:[(0,p.jsx)(w.Z,{icon:function(){return(0,p.jsx)(P.QML,{})},onclick:function(){G(!0),pe(de)},tooltip:x("change-max-qty-header")}),(0,p.jsx)(w.Z,{icon:function(){return(0,p.jsx)(q.Rtn,{})},tooltip:x("nav-offers"),onclick:function(){J(!0)}}),oe?(0,p.jsx)(w.Z,{icon:function(){return(0,p.jsx)(Y.H_P,{className:m.Z.loading})},onclick:function(){},foreColor:f.wL.FAILED_COLOR}):(0,p.jsx)(w.Z,{icon:function(){return(0,p.jsx)(C.w6k,{})},onclick:function(e){j?o.type===f.Wl.ADMIN&&c===f.Wl.WAREHOUSE&&s.allowAdmin||o.type===f.Wl.WAREHOUSE?te(!0):D(!0):_((0,O.Rb)())},foreColor:f.wL.FAILED_COLOR})]})]}),I&&(0,p.jsx)(S.Z,{header:x(N.header),cancelLabel:x("cancel-label"),okLabel:x("ok-label"),okModal:function(){j?(_((0,h.ng)({obj:{itemId:a._id,action:N.action},token:b})),W(!1),k({})):_((0,O.Rb)())},closeModal:function(){return W(!1)},small:!0,children:(0,p.jsx)("p",{children:x(N.body)})}),H&&(0,p.jsx)(S.Z,{header:x("warning"),cancelLabel:x("cancel-label"),closeModal:function(){return D(!1)},small:!0,warning:!0,children:(0,p.jsx)("p",{children:x("dont-have-permission")})}),X&&(0,p.jsx)(M.Z,{token:b,item:a,warehouseId:s._id,close:function(){return J(!1)},allowEdit:o.type===f.Wl.WAREHOUSE||o.type===f.Wl.ADMIN&&c===f.Wl.WAREHOUSE&&s.allowAdmin,afterUpdateOffer:function(){return _((0,h.Ko)({_id:a._id,token:b}))}}),ae&&(0,p.jsx)(S.Z,{header:x("item-delete-header"),cancelLabel:x("cancel-label"),okLabel:x("ok-label"),okModal:function(){j?(d({itemId:a._id,warehouseId:s._id,city:s.city}),te(!1)):_((0,O.Rb)()),se(!0)},closeModal:function(){te(!1),se(!1)},small:!0,children:(0,p.jsx)("p",{children:x("item-delete-from-warehouse")})}),Q&&(0,p.jsx)(S.Z,{header:x("change-max-qty-header"),cancelLabel:x("cancel-label"),closeModal:function(){G(!1),ue(fe),pe(0)},okLabel:x("ok-label"),okModal:function(){r({itemId:a._id,warehouseId:s._id,qty:Number.parseInt(de)}),G(!1)},small:!0,children:(0,p.jsx)("input",{className:T.input,onKeyPress:f.I0,value:de,onChange:function(e){var n=Number.parseInt((0,f.F8)(e.target.value));ue(isNaN(n)?"":n)},disabled:o.type===f.Wl.ADMIN&&c===f.Wl.WAREHOUSE&&!(null!==s&&void 0!==s&&s.allowAdmin)||!j})})]})};var $=function(e){var n=e.onSelectedChange,a=(0,l.$)().t,s=(0,u.v9)(A.dy),_=(0,u.v9)(O.VY),v=(0,u.I0)(),j=(0,u.v9)(h.a1),b=j.status,y=j.error,g=j.count,N=j.items,k=j.activeStatus,Z=j.activeError,w=j.pageState,C=j.changeOfferStatus,E=(0,u.v9)(H.ZR).changeOfferStatus,I=(0,u.v9)(A.rK),W=function(){v((0,h.kk)({token:I}))},S=function(e){v((0,H.LK)({obj:e,token:I})).then(R.SI).then((function(){W(w.page)})).catch((function(){}))},M=function(e){e.qty&&v((0,H.QC)({obj:e,token:I})).then(R.SI).then((function(){W(w.page)})).catch((function(){}))};return(0,t.useEffect)((function(){return W(),n(),function(){v((0,h.nS)())}}),[w.sortFields,w.warehouse,w.role]),s?(0,p.jsxs)("div",{className:m.Z.container,style:{marginTop:"55px",paddingInlineStart:"50px"},children:[(0,p.jsx)(L,{user:s,role:w.role,warehouse:w.warehouse,count:g,company:w.company,pageState:w,search:function(){v((0,h.nS)()),v((0,h.YA)(1)),W()}}),null===N||void 0===N?void 0:N.map((function(e){return(0,p.jsx)(K,{item:e,user:s,warehouse:w.warehouse,role:w.role,deleteItemFromWarehouse:S,changeItemMaxQty:M},(0,o.Z)())})),g>0&&_&&(0,p.jsx)(c(),{previousLabel:a("previous"),nextLabel:a("next"),pageCount:Math.ceil(g/9),forcePage:w.page-1,onPageChange:function(e){var n=e.selected;v((0,h.YA)(n+1)),W(),window.scrollTo(0,0)},containerClassName:D.Z.pagination,previousLinkClassName:D.Z.pagination_link,nextLinkClassName:D.Z.pagination_link,disabledClassName:D.Z.pagination_link_disabled,activeClassName:D.Z.pagination_link_active}),0===g&&"loading"!==b&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(d.Z,{msg:a("no-medicines")})}),"loading"===b&&(0,p.jsx)(x.Z,{allowCancel:!1}),y&&(0,p.jsx)(r.Z,{bgColor:f.wL.FAILED_COLOR,foreColor:"#fff",toastText:a(y),actionAfterTimeout:function(){return v((0,h.PU)())}}),("loading"===k||"loading"===C||"loading"===E)&&(0,p.jsx)(x.Z,{allowCancel:!1}),"succeeded"===k&&(0,p.jsx)(r.Z,{bgColor:f.wL.SUCCEEDED_COLOR,foreColor:"#fff",toastText:a("update-succeeded"),actionAfterTimeout:function(){return v((0,h.GN)())}}),Z&&(0,p.jsx)(r.Z,{bgColor:f.wL.FAILED_COLOR,foreColor:"#fff",toastText:a(Z),actionAfterTimeout:function(){return v((0,h.GN)())}}),"succeeded"===C&&(0,p.jsx)(r.Z,{bgColor:f.wL.SUCCEEDED_COLOR,foreColor:"#fff",toastText:a("update-succeeded"),actionAfterTimeout:function(){return v((0,h.oz)())}})]}):(0,p.jsx)(i.l_,{to:"/signin"})}},7361:function(e,n){"use strict";n.Z={pagination:"pagination_pagination__nhJuL",pagination_link_active:"pagination_pagination_link_active__p5sFm",pagination_link_disabled:"pagination_pagination_link_disabled__+CR6E"}},6349:function(e,n){"use strict";n.Z={search_container:"search-container_search_container__6isGM",expanded:"search-container_expanded__79n+k",expanded_div:"search-container_expanded_div__Hmmm1",checkbox_div:"search-container_checkbox_div__RPj5T"}},3722:function(e,n,a){"use strict";e.exports=a.p+"static/media/offer-image.9100a2a02a9f73c4f802.jpg"},5382:function(){},2095:function(){},1219:function(){}}]);
//# sourceMappingURL=2654.5e50601b.chunk.js.map