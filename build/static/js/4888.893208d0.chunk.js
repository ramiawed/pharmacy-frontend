(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[4888],{4293:function(e,n,a){"use strict";a.d(n,{Z:function(){return w}});var t=a(4942),i=a(1413),l=a(2982),o=a(885),s=a(2791),c=a(3168),r=a(2810),d=a(6030),u=a(6154),h=a(8489),m=a(7425),f=a(6856),_=a(9942),x="multi-value_container__efvXg",p="multi-value_row__CgABK",j="multi-value_header__sV-dg",v="multi-value_input_div__4ZhqR",b=a(3585),y=a(3329);var g=function(e){var n=e.addHandler,a=e.deleteHandler,t=e.values,i=e.changeHandler,l=e.placeholder,o=e.quantityLabel,s=e.bonusLabel,r=e.afterQuantityLabel,d=e.afterBonusLabel,u=e.allowEdit,h=(0,c.$)().t;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:j,children:u&&(0,y.jsxs)("div",{className:[_.Z.icon,_.Z.fc_green,_.Z.margin_h_auto].join(" "),children:[(0,y.jsx)(f.NcC,{size:36,onClick:function(e){n(),e.stopPropagation()}}),(0,y.jsx)("div",{className:_.Z.tooltip,children:h("add-offer-tooltip")})]})}),(0,y.jsx)("div",{className:x,children:t.map((function(e){return(0,y.jsxs)("div",{className:p,children:[(0,y.jsxs)("div",{className:v,children:[o&&(0,y.jsx)("label",{children:o}),(0,y.jsx)("input",{id:e.key,title:"qty",value:e.value.qty,onChange:function(e){return i(e)},placeholder:l,onKeyPress:b.I0,disabled:!u}),r&&(0,y.jsx)("label",{children:r})]}),(0,y.jsxs)("div",{className:v,children:[s&&(0,y.jsx)("label",{children:s}),(0,y.jsx)("input",{id:e.key,title:"bonus",value:e.value.bonus,onChange:function(e){return i(e)},placeholder:l,disabled:!u}),d&&(0,y.jsx)("label",{children:d})]},e.key),u&&(0,y.jsxs)("div",{className:[_.Z.icon,_.Z.fc_red].join(" "),children:[(0,y.jsx)(m.w6k,{size:20,onClick:function(){return a(e.key)}}),(0,y.jsx)("div",{className:_.Z.tooltip,children:h("remove-offer-tooltip")})]})]},e.key)}))})]})},N="offers-modal_checkboxes_div__jHFjO",k="offers-modal_offer_type_checkbox__6qdXR",Z=a(8785);var w=function(e){var n,a=e.item,m=e.warehouseId,x=e.close,p=e.token,j=e.allowEdit,v=e.afterUpdateOffer,w=(0,c.$)().t,C=(0,d.I0)(),A=a.warehouses.find((function(e){return e.warehouse._id===m})).offer,E=(0,s.useState)(!1),I=(0,o.Z)(E,2),L=I[0],O=I[1],W=(0,s.useState)(A.mode===b.Hg.PIECES),S=(0,o.Z)(W,2),M=S[0],R=S[1],H=(0,s.useState)(A.mode===b.Hg.PERCENTAGE),D=(0,o.Z)(H,2),U=D[0],F=D[1],P=(0,s.useState)((null===(n=A.offers)||void 0===n?void 0:n.length)>0?A.offers.map((function(e){return{value:{qty:e.qty,bonus:e.bonus},key:e._id}})):[]),q=(0,o.Z)(P,2),T=q[0],Y=q[1];return(0,y.jsxs)(h.Z,{header:"nav-offers",cancelLabel:"close-label",okLabel:"add-label",closeModal:x,okModal:j?function(){!function(){if(M||U){var e=T.filter((function(e){return 0!==e.value.bonus||e.value.qty})).sort((function(e,n){return e.value.qty>n.value.qty?-1:e.value.qty<n.value.qty?1:0})).map((function(e){return{qty:e.value.qty,bonus:e.value.bonus}})),n={mode:0===e.length?"":M?b.Hg.PIECES:b.Hg.PERCENTAGE,offers:e};C((0,u.Ex)({obj:{itemId:a._id,warehouseId:m,offer:n},token:p})).then(Z.SI).then((function(){return v&&v()})),x()}else O(!0)}()}:null,small:!0,children:[j&&T.length>0&&(0,y.jsxs)("div",{className:N,children:[(0,y.jsxs)("label",{children:[w("offer-type"),":"]}),(0,y.jsxs)("div",{className:k,children:[(0,y.jsx)("input",{type:"checkbox",value:M,checked:M,onChange:function(){R(!M),F(!1),O(!1)}}),(0,y.jsx)("label",{children:w(b.Hg.PIECES)})]}),(0,y.jsxs)("div",{className:k,children:[(0,y.jsx)("input",{type:"checkbox",value:U,checked:U,onChange:function(){F(!U),R(!1),O(!1)}}),(0,y.jsx)("label",{children:w(b.Hg.PERCENTAGE)})]}),L&&(0,y.jsx)(f.wr$,{color:b.wL.FAILED_COLOR,size:24})]}),0===T.length&&(0,y.jsx)("p",{className:[_.Z.center,_.Z.fc_secondary].join(" "),children:w("no-offers")}),(0,y.jsx)(g,{allowEdit:j,values:T,addHandler:function(){return Y([].concat((0,l.Z)(T),[{value:{qty:0,bonus:0},key:(0,r.Z)()}]))},deleteHandler:function(e){var n=T.filter((function(n){return n.key!==e}));Y(n)},changeHandler:function(e){var n=T.map((function(n){return n.key===e.target.id?(0,i.Z)((0,i.Z)({},n),{},{value:(0,i.Z)((0,i.Z)({},n.value),{},(0,t.Z)({},e.target.title,1*(0,b.F8)(e.target.value)))}):n}));Y(n)},quantityLabel:w("quantity-label"),bonusLabel:M?w("bonus-quantity-label"):U?w("bonus-percentage-label"):null,afterQuantityLabel:w("after-quantity-label"),afterBonusLabel:M?w("after-bonus-quantity-label"):U?w("after-bonus-percentage-label"):null})]})}},6824:function(e,n,a){"use strict";var t=a(885),i=a(2791),l=a(3168),o=a(4651),s=a(6349),c=a(9942),r=a(7500),d=a(3329);n.Z=function(e){var n=e.children,a=e.searchAction,u=(0,l.$)().t,h=i.Children.toArray(n),m=(0,i.useState)(!1),f=(0,t.Z)(m,2),_=f[0],x=f[1];return(0,d.jsx)("div",{className:[s.Z.search_container,s.Z.expanded,_?s.Z.expanded_with_options:""].join(" "),children:(0,d.jsx)("div",{className:s.Z.expanded_div,children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{style:{flex:1},children:[h[0],_&&h.length>1?h.map((function(e,n){return n>0?e:null})):null,_&&(0,d.jsx)("button",{onClick:function(){a(),x(!1)},style:{marginBlockStart:"4px",marginInline:"auto",marginLeft:"auto",marginRight:"auto",width:"50%"},className:[c.Z.button,c.Z.bg_main,c.Z.fc_white,c.Z.block,c.Z.padding_v_6,c.Z.padding_h_8].join(" "),children:u("search")})]}),h.length>1&&(0,d.jsx)("div",{style:{marginInline:"4px",marginLeft:"4px",marginRight:"4px"},children:(0,d.jsx)(r.Z,{onclick:function(){return x(!_)},icon:function(){return(0,d.jsx)(o.P66,{})}})}),1===h.length&&(0,d.jsx)("div",{className:[c.Z.icon,c.Z.margin_h_4].join(" "),onClick:function(){a(),x(!1)},children:(0,d.jsx)("button",{className:[c.Z.button,c.Z.bg_secondary,c.Z.fc_white,c.Z.block,c.Z.padding_v_6,c.Z.padding_h_8].join(" "),children:u("search")})})]})})})}},2235:function(e,n,a){"use strict";a.d(n,{Z:function(){return c}});a(2791);var t=a(3168),i=a(8820),l="search-input_input_div__4KoDe",o="search-input_icon_close__TC1nF",s=a(3329);var c=function(e){var n=e.type,a=e.label,c=e.id,r=e.value,d=e.onchange,u=e.placeholder,h=e.onEnterPress,m=e.resetField,f=e.onkeyup,_=(0,t.$)().t;return(0,s.jsxs)("div",{className:l,children:[a&&(0,s.jsx)("label",{htmlFor:c,children:_(a)}),(0,s.jsx)("input",{placeholder:u?_("".concat(u)):"",id:c,type:n,value:r,onChange:d,onKeyPress:function(e){"Enter"===e.key&&h&&h()},onKeyUp:f&&f}),m&&r&&(0,s.jsx)(i.LHV,{onClick:function(){return m(c)},className:o})]})}},3051:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return V}});var t=a(2791),i=a(3168),l=a(9271),o=a(2810),s=a(6048),c=a.n(s),r=a(9488),d=a(3575),u=a(2541),h=a(6824),m=a(2235),f=a(5861),_=a(7757),x=a.n(_),p=a(4569),j=a.n(p),v=a(4802),b=a(8484),y=a(7500),g=a(3585),N=a(7425),k=a(6030),Z=a(3541),w=a(3329),C=function(e){var n=e.url,a=e.fileName,t=(0,i.$)().t,l=(0,k.v9)(Z.rK),o=function(){var e=(0,f.Z)(x().mark((function e(a){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j().get(n,{headers:{Authorization:"Bearer ".concat(l)}}).then((function(e){var n={Sheets:{data:b.utils.json_to_sheet(e.data.data.items)},SheetNames:["data"]},t=b.write(n,{bookType:"xlsx",type:"array"}),i=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});v.saveAs(i,a+".xlsx")}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,w.jsx)(y.Z,{selected:!1,foreColor:g.wL.MAIN_COLOR,tooltip:t("export-items"),icon:function(){return(0,w.jsx)(N.Qup,{})},onclick:function(e){return o(a)},withBackground:!0})},A=a(3268),E=a(978),I=a(9942),L=a(6349),O=a(4373);var W=function(e){var n=e.user,a=e.company,t=e.pageState,o=e.search,s=e.keyUpHandler,c=(0,i.$)().t,r=(0,k.I0)(),d=(0,l.k6)();return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(h.Z,{searchAction:o,children:[(0,w.jsx)(m.Z,{label:"item-name",id:"item-name",type:"text",value:t.searchName,onchange:function(e){return r((0,A.$p)(e.target.value))},placeholder:"search-by-name-composition-barcode",onEnterPress:o,resetField:function(){r((0,A.$p)(""))},onkeyup:s}),(n.type===g.Wl.WAREHOUSE||n.type===g.Wl.ADMIN&&t.role!==g.Wl.COMPANY)&&(0,w.jsx)(m.Z,{label:"item-company",id:"item-company",type:"text",value:t.searchCompanyName,onchange:function(e){return r((0,A.HN)(e.target.value))},placeholder:"search-by-company-name",onEnterPress:o,resetField:function(){r((0,A.HN)(""))},onkeyup:s}),n.type===g.Wl.ADMIN&&t.role!==g.Wl.WAREHOUSE&&(0,w.jsx)(m.Z,{label:"item-warehouse",id:"item-warehouse",type:"text",value:t.searchWarehouseName,onchange:function(e){return r((0,A.jY)(e.target.value))},placeholder:"search-by-warehouse-name",onEnterPress:o,resetField:function(){r((0,A.jY)(""))},onkeyup:s}),(0,w.jsxs)("div",{className:L.Z.checkbox_div,children:[(0,w.jsx)("input",{type:"checkbox",checked:t.searchDeletedItems,onChange:function(){r((0,A.Xp)(!t.searchDeletedItems)),r((0,A.fM)(!1)),s()}}),(0,w.jsx)("label",{children:c("deleted-items")})]}),(0,w.jsxs)("div",{className:L.Z.checkbox_div,children:[(0,w.jsx)("input",{type:"checkbox",checked:t.searchActiveItems,onChange:function(){r((0,A.Xp)(!1)),r((0,A.fM)(!t.searchActiveItems)),s()}}),(0,w.jsx)("label",{children:c("active-items")})]}),n.type===g.Wl.ADMIN&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:L.Z.checkbox_div,children:[(0,w.jsx)("input",{type:"checkbox",checked:t.searchInWarehouse,onChange:function(){r((0,A.yU)(!t.searchInWarehouse)),r((0,A.Zf)(!1)),s()}}),(0,w.jsx)("label",{children:c("warehouse-in-warehouse")})]}),(0,w.jsxs)("div",{className:L.Z.checkbox_div,children:[(0,w.jsx)("input",{type:"checkbox",checked:t.searchOutWarehouse,onChange:function(){r((0,A.yU)(!1)),r((0,A.Zf)(!t.searchOutWarehouse)),s()}}),(0,w.jsx)("label",{children:c("warehouse-out-warehouse")})]})]})]}),(0,w.jsxs)("div",{className:I.Z.actions,children:[(0,w.jsx)(y.Z,{foreColor:g.wL.MAIN_COLOR,selected:!1,icon:function(){return(0,w.jsx)(N.PwW,{})},tooltip:c("refresh-tooltip"),onclick:o,withBackground:!0}),n.type===g.Wl.COMPANY||n.type===g.Wl.ADMIN&&null!==a&&a.allowAdmin?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(y.Z,{foreColor:g.wL.MAIN_COLOR,selected:!1,icon:function(){return(0,w.jsx)(N.OlE,{})},tooltip:c("add-item"),onclick:function(){d.push("/item",{from:n.type,type:"new",allowAction:!0,itemId:null,companyId:n.type===g.Wl.COMPANY?n._id:a._id,warehouseId:null})},withBackground:!0}),(0,w.jsx)(y.Z,{foreColor:g.wL.MAIN_COLOR,selected:!1,icon:function(){return(0,w.jsx)(E.bBH,{})},tooltip:c("items-from-excel"),onclick:function(){d.push("/items-from-excel",{companyId:n.type===g.Wl.COMPANY?n._id:a._id})},withBackground:!0}),(0,w.jsx)(C,{url:"".concat(g.Hc,"/items/allItem/").concat(n.type===g.Wl.COMPANY?n._id:a._id),fileName:"filename"})]}):(0,w.jsx)(w.Fragment,{}),(0,w.jsx)(y.Z,{withBackground:!0,tooltip:c("go-back"),onclick:function(){d.goBack()},icon:function(){return(0,w.jsx)(O.D_,{})},foreColor:g.wL.MAIN_COLOR})]})]})},S=a(885),M=a(6425),R=a(8489),H=a(4293),D=a(6886),U=a(8820),F=a(6856),P=a(9126),q={small_font:"admin-item-card_small_font__hwWfh",max_qty_div:"admin-item-card_max_qty_div__U4n5L",input:"admin-item-card_input__kxNmh",container:"admin-item-card_container__wvtbI",name:"admin-item-card_name__+qVnl",details:"admin-item-card_details__U38AK",row:"admin-item-card_row__u2uo-",label:"admin-item-card_label__yVy3c",first:"admin-item-card_first__68Pfm",value:"admin-item-card_value__HVNiL",ellipsis:"admin-item-card_ellipsis__DkS5U",last_row:"admin-item-card_last_row__8odHA",actions:"admin-item-card_actions__DZdBx",inline_block:"admin-item-card_inline_block__8ZkOe",loading:"admin-item-card_loading__-SX6D","loading-move":"admin-item-card_loading-move__-wqk7",ribbon_2:"admin-item-card_ribbon_2__8WN83"},T=a(4651),Y=function(e,n){if(n.type===g.Wl.COMPANY)return!1;var a=!1;return n.type===g.Wl.WAREHOUSE&&e.warehouses.filter((function(e){return e.warehouse._id===n._id})).forEach((function(e){e.offer.offers.length>0&&(a=!0)})),n.type===g.Wl.ADMIN&&e.warehouses.forEach((function(e){e.offer.offers.length>0&&(a=!0)})),a};var B,K=function(e){var n,a=e.item,o=e.user,s=e.warehouse,c=e.role,r=e.changeItemMaxQty,d=e.deleteItemFromWarehouse,u=(0,i.$)().t,h=(0,k.I0)(),m=(0,l.k6)(),f=(0,k.v9)(M.VY),_=(0,k.v9)(Z.tT).token,x=(0,t.useState)({}),p=(0,S.Z)(x,2),j=p[0],v=p[1],b=(0,t.useState)(!1),C=(0,S.Z)(b,2),E=C[0],L=C[1],O=(0,t.useState)(!1),W=(0,S.Z)(O,2),B=W[0],K=W[1],$=(0,t.useState)(!1),Q=(0,S.Z)($,2),G=Q[0],V=Q[1],X=(0,t.useState)(!1),z=(0,S.Z)(X,2),J=z[0],ee=z[1],ne=(0,t.useState)(!1),ae=(0,S.Z)(ne,2),te=ae[0],ie=ae[1],le=(0,t.useState)(!1),oe=(0,S.Z)(le,2),se=oe[0],ce=oe[1],re=(0,t.useState)(s?null===(n=a.warehouses.find((function(e){return e.warehouse._id===s._id})))||void 0===n?void 0:n.maxQty:0),de=(0,S.Z)(re,2),ue=de[0],he=de[1],me=(0,t.useState)(0),fe=(0,S.Z)(me,2),_e=fe[0],xe=fe[1],pe=function(e){v("delete"===e?{header:"item-delete-header",body:"item-delete-confirm-message",action:"delete"}:{header:"item-undo-delete-header",body:"item-undo-delete-confirm-message",action:"undo-delete"}),L(!0)};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:q.container,children:[Y(a,o)&&(0,w.jsx)("div",{className:[q.ribbon_2].join(" "),children:(0,w.jsx)("span",{children:u("offer")})}),(0,w.jsx)("div",{className:[q.name,q.ellipsis].join(" "),onClick:function(){m.push("/item",{from:o.type,type:"info",allowAction:o.type===g.Wl.COMPANY||o.type===g.Wl.ADMIN&&a.company.allowAdmin,itemId:a._id,companyId:a.company._id,warehouseId:null===s||void 0===s?void 0:s._id})},children:a.name}),(0,w.jsxs)("div",{className:q.details,children:[(o.type===g.Wl.ADMIN&&c===g.Wl.ADMIN||o.type===g.Wl.ADMIN&&c===g.Wl.WAREHOUSE||o.type===g.Wl.WAREHOUSE)&&(0,w.jsx)("div",{className:[q.row].join(" "),children:(0,w.jsxs)("div",{children:[(0,w.jsxs)("label",{className:[q.label,q.first].join(" "),children:[u("item-company"),":"]}),(0,w.jsx)("label",{className:q.value,children:a.company.name})]})}),(0,w.jsx)("div",{className:[q.row].join(" "),children:(0,w.jsxs)("div",{children:[(0,w.jsxs)("label",{className:[q.label,q.first].join(" "),children:[u("item-available"),":"]}),(0,w.jsx)("label",{className:[q.value,q.inline_block].join(" "),children:a.isActive?(0,w.jsx)(y.Z,{icon:function(){return(0,w.jsx)(P.oFd,{})},foreColor:g.wL.SUCCEEDED_COLOR,onclick:function(e){f?o.type===g.Wl.ADMIN&&a.company.allowAdmin||o.type===g.Wl.COMPANY?pe("delete"):K(!0):h((0,M.Rb)())},tooltip:u("item-available")}):(0,w.jsx)(y.Z,{icon:function(){return(0,w.jsx)(F.FU5,{color:g.wL.FAILED_COLOR})},foreColor:g.wL.FAILED_COLOR,onclick:function(e){f?o.type===g.Wl.ADMIN&&a.company.allowAdmin||o.type===g.Wl.COMPANY?pe("undo-delete"):K(!0):h((0,M.Rb)())},tooltip:u("item-not-available")})})]})}),(0,w.jsxs)("div",{className:q.row,children:[(0,w.jsxs)("div",{children:[(0,w.jsxs)("label",{className:[q.label,q.first].join(" "),children:[u("item-formula"),":"]}),(0,w.jsx)("label",{className:q.value,children:a.formula})]}),(0,w.jsxs)("div",{children:[(0,w.jsxs)("label",{className:q.label,children:[u("item-caliber"),":"]}),(0,w.jsx)("label",{className:q.value,children:a.caliber})]})]}),(0,w.jsx)("div",{className:q.row,children:(0,w.jsxs)("div",{children:[(0,w.jsxs)("label",{className:[q.label,q.first].join(" "),children:[u("item-packing"),":"]}),(0,w.jsx)("label",{className:q.value,children:a.packing})]})}),(0,w.jsxs)("div",{className:q.row,children:[o.type!==g.Wl.GUEST&&(0,w.jsxs)("div",{children:[(0,w.jsxs)("label",{className:[q.label,q.first].join(" "),children:[u("item-price"),":"]}),(0,w.jsx)("label",{className:q.value,children:a.price})]}),(0,w.jsxs)("div",{children:[(0,w.jsxs)("label",{className:q.label,children:[u("item-customer-price"),":"]}),(0,w.jsx)("label",{className:q.value,children:a.customer_price})]})]}),(o.type===g.Wl.ADMIN&&c===g.Wl.WAREHOUSE||o.type===g.Wl.WAREHOUSE)&&(0,w.jsx)("div",{className:q.row,children:(0,w.jsxs)("div",{children:[(0,w.jsxs)("label",{className:q.label,children:[u("item-max-qty"),":"]}),(0,w.jsx)("label",{className:q.value,children:ue})]})}),(0,w.jsx)("div",{className:[q.row].join(" "),children:(0,w.jsxs)("div",{children:[(0,w.jsxs)("label",{className:[q.label,q.first,q.ellipsis].join(" "),children:[u("item-composition"),":"]}),(0,w.jsx)("label",{className:q.value,children:a.composition})]})}),(o.type===g.Wl.ADMIN&&c===g.Wl.WAREHOUSE||o.type===g.Wl.WAREHOUSE)&&(0,w.jsxs)("div",{className:q.actions,children:[(0,w.jsx)(D.Z,{icon:function(){return(0,w.jsx)(U.QML,{})},action:function(){V(!0),xe(ue)},text:u("change-max-qty-header"),bgColor:g.wL.MAIN_COLOR,smallText:!0}),(0,w.jsx)(D.Z,{icon:function(){return(0,w.jsx)(F.Rtn,{})},text:u("nav-offers"),action:function(){ee(!0)},bgColor:g.wL.SUCCEEDED_COLOR,smallText:!0}),se?(0,w.jsx)(D.Z,{icon:function(){return(0,w.jsx)(T.H_P,{className:I.Z.loading})},action:function(){},bgColor:g.wL.FAILED_COLOR,text:""}):(0,w.jsx)(D.Z,{icon:function(){return(0,w.jsx)(N.w6k,{})},action:function(e){f?o.type===g.Wl.ADMIN&&c===g.Wl.WAREHOUSE&&s.allowAdmin||o.type===g.Wl.WAREHOUSE?ie(!0):K(!0):h((0,M.Rb)())},bgColor:g.wL.FAILED_COLOR,text:u("remove-from-warehouse"),smallText:!0})]})]})]}),E&&(0,w.jsx)(R.Z,{header:u(j.header),cancelLabel:u("cancel-label"),okLabel:u("ok-label"),okModal:function(){f?(h((0,A.ng)({obj:{itemId:a._id,action:j.action},token:_})),L(!1),v({})):h((0,M.Rb)())},closeModal:function(){return L(!1)},small:!0,children:(0,w.jsx)("p",{children:u(j.body)})}),B&&(0,w.jsx)(R.Z,{header:u("warning"),cancelLabel:u("cancel-label"),closeModal:function(){return K(!1)},small:!0,warning:!0,children:(0,w.jsx)("p",{children:u("dont-have-permission")})}),J&&(0,w.jsx)(H.Z,{token:_,item:a,warehouseId:s._id,close:function(){return ee(!1)},allowEdit:o.type===g.Wl.WAREHOUSE||o.type===g.Wl.ADMIN&&c===g.Wl.WAREHOUSE&&s.allowAdmin,afterUpdateOffer:function(){return h((0,A.Ko)({_id:a._id,token:_}))}}),te&&(0,w.jsx)(R.Z,{header:u("item-delete-header"),cancelLabel:u("cancel-label"),okLabel:u("ok-label"),okModal:function(){f?(d({itemId:a._id,warehouseId:s._id,city:s.city}),ie(!1)):h((0,M.Rb)()),ce(!0)},closeModal:function(){ie(!1),ce(!1)},small:!0,children:(0,w.jsx)("p",{children:u("item-delete-from-warehouse")})}),G&&(0,w.jsx)(R.Z,{header:u("change-max-qty-header"),cancelLabel:u("cancel-label"),closeModal:function(){V(!1),he(_e),xe(0)},okLabel:u("ok-label"),okModal:function(){r({itemId:a._id,warehouseId:s._id,qty:0===(ue+"").length?0:Number.parseInt(ue)}),V(!1)},small:!0,children:(0,w.jsx)("input",{className:q.input,onKeyPress:g.I0,value:ue,onChange:function(e){var n=Number.parseInt((0,g.F8)(e.target.value));he(isNaN(n)?"":n)},disabled:o.type===g.Wl.ADMIN&&c===g.Wl.WAREHOUSE&&!(null!==s&&void 0!==s&&s.allowAdmin)||!f})})]})},$=a(8785),Q=a(6154),G=a(7361);var V=function(e){var n=e.onSelectedChange,a=(0,i.$)().t,s=(0,k.v9)(Z.dy),h=(0,k.v9)(M.VY),m=(0,k.I0)(),f=(0,k.v9)(A.a1),_=f.status,x=(f.error,f.count),p=f.items,j=f.activeStatus,v=f.activeError,b=f.pageState,y=f.changeOfferStatus,N=(0,k.v9)(Q.ZR).changeOfferStatus,C=(0,k.v9)(Z.rK),E=function(){m((0,A.kk)({token:C}))},L=function(e){m((0,Q.LK)({obj:e,token:C})).then($.SI).then((function(){E(b.page)})).catch((function(){}))},O=function(e){m((0,Q.QC)({obj:e,token:C})).then($.SI).then((function(){E(b.page)})).catch((function(){}))};return(0,t.useEffect)((function(){return E(),n(),function(){m((0,A.nS)())}}),[b.sortFields,b.warehouse,b.role]),s?(0,w.jsxs)("div",{className:I.Z.container,style:{marginTop:"55px",paddingInlineStart:"50px"},children:[(0,w.jsx)(W,{user:s,role:b.role,warehouse:b.warehouse,count:x,company:b.company,pageState:b,search:function(){m((0,A.nS)()),m((0,A.YA)(1)),E()},keyUpHandler:function(){(0,A.iX)(),B&&clearTimeout(B),B=setTimeout((function(){E()}),200)}}),x>0&&(0,w.jsxs)("div",{className:I.Z.count,children:[(0,w.jsx)("span",{className:I.Z.label,children:a("items-count")}),(0,w.jsx)("span",{className:I.Z.count,children:x})]}),null===p||void 0===p?void 0:p.map((function(e){return(0,w.jsx)(K,{item:e,user:s,warehouse:b.warehouse,role:b.role,deleteItemFromWarehouse:L,changeItemMaxQty:O},(0,o.Z)())})),x>0&&h&&(0,w.jsx)(c(),{previousLabel:a("previous"),nextLabel:a("next"),pageCount:Math.ceil(x/15),forcePage:b.page-1,onPageChange:function(e){var n=e.selected;m((0,A.YA)(n+1)),E(),window.scrollTo(0,0)},containerClassName:G.Z.pagination,previousLinkClassName:G.Z.pagination_link,nextLinkClassName:G.Z.pagination_link,disabledClassName:G.Z.pagination_link_disabled,activeClassName:G.Z.pagination_link_active}),0===x&&"loading"!==_&&(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(d.Z,{msg:a("no-medicines")})}),"loading"===_&&(0,w.jsx)(u.Z,{allowCancel:!1}),("loading"===j||"loading"===y||"loading"===N)&&(0,w.jsx)(u.Z,{allowCancel:!1}),"succeeded"===j&&(0,w.jsx)(r.Z,{bgColor:g.wL.SUCCEEDED_COLOR,foreColor:"#fff",toastText:a("update-succeeded"),actionAfterTimeout:function(){return m((0,A.GN)())}}),v&&(0,w.jsx)(r.Z,{bgColor:g.wL.FAILED_COLOR,foreColor:"#fff",toastText:a(v),actionAfterTimeout:function(){return m((0,A.GN)())}}),"succeeded"===y&&(0,w.jsx)(r.Z,{bgColor:g.wL.SUCCEEDED_COLOR,foreColor:"#fff",toastText:a("update-succeeded"),actionAfterTimeout:function(){return m((0,A.oz)())}})]}):(0,w.jsx)(l.l_,{to:"/signin"})}},7361:function(e,n){"use strict";n.Z={small_font:"pagination_small_font__LKyUF",pagination:"pagination_pagination__nhJuL",pagination_link_active:"pagination_pagination_link_active__p5sFm",pagination_link_disabled:"pagination_pagination_link_disabled__+CR6E"}},6349:function(e,n){"use strict";n.Z={small_font:"search-container_small_font__Ha0Xq",search_container:"search-container_search_container__6isGM",expanded:"search-container_expanded__79n+k",expanded_div:"search-container_expanded_div__Hmmm1",checkbox_div:"search-container_checkbox_div__RPj5T"}},5382:function(){},2095:function(){},1219:function(){}}]);
//# sourceMappingURL=4888.893208d0.chunk.js.map