"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[124],{3566:function(e,n,t){t.d(n,{Z:function(){return o}});t(2791);var s=t(3168),c=t(1968),a=t.n(c),r=t(3585),i="loader_loader__qZv+U",l=t(3329);var o=function(e){var n=e.color,t=(0,s.$)().t;return(0,l.jsxs)("div",{className:i,style:{color:n||r.wL.SECONDARY_COLOR},children:[(0,l.jsx)(a(),{type:"bars",height:75,width:75,color:n||r.wL.SECONDARY_COLOR}),(0,l.jsx)("p",{children:t("loading-data")})]})}},6124:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var s=t(885),c=t(2791),a=t(3168),r=t(6030),i=t(2200),l=t(9271),o=t(3541),u=t(7425),d=t(6856),m=t(7500),h=t(1061),x=t(9942),f=t(3585),j=t(3329);var _=function(e){var n=e.isNew,t=e.setIsNew,s=(0,a.$)().t,c=((0,l.k6)(),(0,r.v9)(o.rK)),_=(0,r.I0)();return(0,j.jsxs)(h.Z,{children:[(0,j.jsx)("h2",{children:s("nav-advertise")}),(0,j.jsxs)("div",{className:[x.Z.actions,x.Z.margin_v_4].join(" "),children:[!n&&(0,j.jsx)(m.Z,{selected:!1,foreColor:f.wL.SECONDARY_COLOR,tooltip:s("new-advertisement"),onclick:function(){t(!0)},icon:function(){return(0,j.jsx)(d.NcC,{size:20})}}),(0,j.jsx)(m.Z,{selected:!1,foreColor:f.wL.SECONDARY_COLOR,tooltip:s("refresh-tooltip"),onclick:function(){_((0,i.cC)({token:c}))},icon:function(){return(0,j.jsx)(u.PwW,{})}})]})]})},v=t(8785),p=t(1176),C=t(2982),w=t(5861),g=t(7757),L=t.n(g),O=t(4569),Z=t.n(O),N=t(8489),E=t(3575),R=t(3566),S=t(4373),D=t(6053),k={search_container:"select-partner-modal_search_container__X5Syf",search_input:"select-partner-modal_search_input__IVAlg",company_row:"select-partner-modal_company_row__BKU0e"};var b=function(e){var n=e.data,t=e.select;return(0,j.jsxs)("div",{className:k.company_row,children:[(0,j.jsx)("p",{className:k.company_name,children:n.name}),(0,j.jsx)(m.Z,{icon:function(){return(0,j.jsx)(D.PgY,{})},foreColor:f.wL.SUCCEEDED_COLOR,onclick:function(){t(n)}})]})},y=function(e){var n=e.close,t=e.chooseAction,i=e.url,l=e.header,u=(0,a.$)().t,d=(0,r.v9)(o.rK),m=(0,c.useState)(""),h=(0,s.Z)(m,2),_=h[0],v=h[1],g=(0,c.useState)([]),O=(0,s.Z)(g,2),D=O[0],y=O[1],A=(0,c.useState)(!1),I=(0,s.Z)(A,2),F=I[0],z=I[1],U=(0,c.useState)(1),Y=(0,s.Z)(U,2),K=Y[0],T=Y[1],P=(0,c.useState)(0),$=(0,s.Z)(P,2),B=$[0],q=$[1],H=function(){var e=(0,w.Z)(L().mark((function e(n){var t,s;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,z(!0),t="",_.trim().length>0&&(t="&name=".concat(_.trim())),e.next=6,Z().get("".concat(i,"&page=").concat(n).concat(t),{headers:{Authorization:"Bearer ".concat(d)}});case 6:s=e.sent,y(1===n?s.data.data.users:[].concat((0,C.Z)(D),(0,C.Z)(s.data.data.users))),q(s.data.count),z(!1),T(n+1),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n){return e.apply(this,arguments)}}(),X=function(e){t(e),n()};return(0,c.useEffect)((function(){H(1)}),[]),(0,j.jsx)(N.Z,{header:u(l),cancelLabel:"cancel-label",closeModal:n,small:!0,children:F?(0,j.jsx)(R.Z,{}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:[k.search_container,x.Z.flex_center_container].join(" "),children:[(0,j.jsx)(S.FKI,{color:f.wL.SECONDARY_COLOR,size:24}),(0,j.jsx)("input",{className:k.search_input,placeholder:u("enter-company-name"),value:_,onChange:function(e){return v(e.target.value)},onKeyDown:function(e){"Enter"===e.code&&H(1),"Escape"!==e.code&&e.stopPropagation()}}),(0,j.jsx)(p.Z,{text:"search",action:function(){H(1)},bgColor:f.wL.SECONDARY_COLOR})]}),(0,j.jsxs)("div",{style:{maxHeight:"300px",overflow:"auto"},children:[(null===D||void 0===D?void 0:D.length)>0&&D.map((function(e){return(0,j.jsx)(b,{data:e,select:X},e._id)})),0===D.length&&0===_.length&&(0,j.jsx)(E.Z,{msg:u("search-for-company")}),0===D.length&&0!==_.length&&(0,j.jsx)(E.Z,{msg:u("search-empty")})]}),D.length<B&&(0,j.jsx)("div",{className:x.Z.padding_v_6,children:(0,j.jsx)(p.Z,{text:"more",action:function(){H(K)},bgColor:f.wL.SECONDARY_COLOR})})]})})},A={search_container:"select-medicine-modal_search_container__pdObl",search_input:"select-medicine-modal_search_input__+nLqw",item_row:"select-medicine-modal_item_row__4Do0R",item_name:"select-medicine-modal_item_name__CFbG1",small:"select-medicine-modal_small__ID-Uy"};var I=function(e){var n=e.data,t=e.select;return(0,j.jsxs)("div",{className:A.item_row,children:[(0,j.jsx)("p",{className:A.item_name,children:n.name}),(0,j.jsx)("p",{className:[A.small].join(" "),children:n.caliber}),(0,j.jsx)("p",{className:[A.small].join(" "),children:n.packing}),(0,j.jsx)(m.Z,{icon:function(){return(0,j.jsx)(D.PgY,{})},foreColor:f.wL.SUCCEEDED_COLOR,onclick:function(){t(n)}})]})},F=function(e){var n=e.close,t=e.chooseAction,i=e.url,l=(0,a.$)().t,u=(0,r.v9)(o.rK),d=(0,c.useState)(""),m=(0,s.Z)(d,2),h=m[0],_=m[1],v=(0,c.useState)([]),g=(0,s.Z)(v,2),O=g[0],D=g[1],k=(0,c.useState)(!1),b=(0,s.Z)(k,2),y=b[0],F=b[1],z=(0,c.useState)(1),U=(0,s.Z)(z,2),Y=U[0],K=U[1],T=(0,c.useState)(0),P=(0,s.Z)(T,2),$=P[0],B=P[1],q=function(){var e=(0,w.Z)(L().mark((function e(n){var t,s;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F(!0),t="",h.trim().length>0&&(t="&itemName=".concat(h.trim())),e.next=6,Z().get("".concat(i,"&page=").concat(n).concat(t),{headers:{Authorization:"Bearer ".concat(u)}});case 6:s=e.sent,D(1===n?s.data.data.items:[].concat((0,C.Z)(O),(0,C.Z)(s.data.data.items))),B(s.data.count),F(!1),K(n+1),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n){return e.apply(this,arguments)}}(),H=function(e){t(e),n()};return(0,c.useEffect)((function(){q(1)}),[]),(0,j.jsx)(N.Z,{header:"choose-item",cancelLabel:"cancel-label",closeModal:n,small:!0,children:y?(0,j.jsx)(R.Z,{}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:[A.search_container,x.Z.flex_center_container].join(" "),children:[(0,j.jsx)(S.FKI,{color:f.wL.SECONDARY_COLOR,size:24}),(0,j.jsx)("input",{className:A.search_input,placeholder:l("enter-item-trade-name"),value:h,onChange:function(e){return _(e.target.value)},onKeyDown:function(e){"Enter"===e.code&&q(1),"Escape"!==e.code&&e.stopPropagation()}}),(0,j.jsx)(p.Z,{text:"search",action:function(){q(1)},bgColor:f.wL.SECONDARY_COLOR})]}),(0,j.jsxs)("div",{style:{maxHeight:"300px",overflow:"auto"},children:[(null===O||void 0===O?void 0:O.length)>0&&O.map((function(e){return(0,j.jsx)(I,{data:e,select:H},e._id)})),0===O.length&&0===h.length&&(0,j.jsx)(E.Z,{msg:l("search-for-item")}),0===O.length&&0!==h.length&&(0,j.jsx)(E.Z,{msg:l("search-empty")})]}),O.length<$&&(0,j.jsx)("div",{className:x.Z.padding_v_6,children:(0,j.jsx)(p.Z,{text:"more",action:function(){q(Y)},bgColor:f.wL.SECONDARY_COLOR})})]})})},z=t(7692),U="new-advertisement_new_advertisement_div__2EKiP",Y="new-advertisement_content__-qzdA",K="new-advertisement_links_container__1Oxgf",T="new-advertisement_img__9D4pP",P="new-advertisement_image__uUaUy",$="new-advertisement_actions__-gfB1",B="new-advertisement_links__2xT1r",q="new-advertisement_delete__q6nXX",H="new-advertisement_row__O0lWG",X=t(9488);var M=function(e){var n=e.isNew,t=e.setIsNew,l=(0,a.$)().t,h=(0,c.useRef)(null),x=(0,r.I0)(),_=(0,r.v9)(o.tT).token,C=(0,c.useState)(null),w=(0,s.Z)(C,2),g=w[0],L=w[1],O=(0,c.useState)(null),Z=(0,s.Z)(O,2),N=Z[0],E=Z[1],R=(0,c.useState)(null),S=(0,s.Z)(R,2),D=S[0],k=S[1],b=(0,c.useState)(null),A=(0,s.Z)(b,2),I=A[0],K=A[1],q=(0,c.useState)(!1),M=(0,s.Z)(q,2),G=M[0],W=M[1],V=(0,c.useState)(!1),J=(0,s.Z)(V,2),Q=J[0],ee=J[1],ne=(0,c.useState)(!1),te=(0,s.Z)(ne,2),se=te[0],ce=te[1],ae=(0,c.useState)(""),re=(0,s.Z)(ae,2),ie=re[0],le=re[1],oe=function(){t(!1),L(null),E(null),k(null),K(null)},ue=function(){h.current.click()};return(0,j.jsxs)("div",{children:[n&&(0,j.jsxs)("div",{className:U,style:{marginBottom:"10px"},children:[(0,j.jsxs)("div",{className:Y,children:[(0,j.jsxs)("div",{className:B,children:[(0,j.jsxs)("div",{className:H,children:[(0,j.jsxs)("label",{children:[l("company"),":"]}),null===g?(0,j.jsx)(m.Z,{selected:!1,foreColor:f.wL.SUCCEEDED_COLOR,onclick:function(){W(!0)},icon:function(){return(0,j.jsx)(d.NcC,{size:24})}}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("p",{children:g.name}),(0,j.jsx)(m.Z,{selected:!1,foreColor:f.wL.FAILED_COLOR,onclick:function(){L(null)},icon:function(){return(0,j.jsx)(u.w6k,{size:24})}})]})]}),(0,j.jsxs)("div",{className:H,children:[(0,j.jsxs)("label",{children:[l("warehouse"),":"]}),null===N?(0,j.jsx)(m.Z,{selected:!1,foreColor:f.wL.SUCCEEDED_COLOR,onclick:function(){ee(!0)},icon:function(){return(0,j.jsx)(d.NcC,{size:24})}}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("p",{children:N.name}),(0,j.jsx)(m.Z,{selected:!1,foreColor:f.wL.FAILED_COLOR,onclick:function(){E(null)},icon:function(){return(0,j.jsx)(u.w6k,{size:24})}})]})]}),(0,j.jsxs)("div",{className:H,children:[(0,j.jsxs)("label",{children:[l("single-item"),":"]}),null===D?(0,j.jsx)(m.Z,{selected:!1,foreColor:f.wL.SUCCEEDED_COLOR,onclick:function(){ce(!0)},icon:function(){return(0,j.jsx)(d.NcC,{size:24})}}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("p",{children:D.name}),(0,j.jsx)(m.Z,{selected:!1,foreColor:f.wL.FAILED_COLOR,onclick:function(){k(null)},icon:function(){return(0,j.jsx)(u.w6k,{size:24})}})]})]}),(0,j.jsxs)("div",{className:H,children:[(0,j.jsxs)("label",{children:[l("image-label"),":"]}),null===I?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(m.Z,{selected:!1,foreColor:f.wL.SUCCEEDED_COLOR,onclick:ue,icon:function(){return(0,j.jsx)(d.NcC,{size:24})}}),(0,j.jsx)("input",{multiple:!1,accept:"image/*",ref:h,type:"file",onChange:function(e){e.target.files&&e.target.files.length>0&&K(e.target.files[0])},style:{display:"none"}})]}):(0,j.jsx)(m.Z,{icon:function(){return(0,j.jsx)(u.w6k,{size:24})},selected:!1,foreColor:f.wL.FAILED_COLOR,onclick:function(){return K(null)}})]})]}),(0,j.jsx)("div",{className:T,children:I?(0,j.jsx)("img",{src:URL.createObjectURL(I),className:P,alt:"Thumb"}):(0,j.jsx)("div",{children:(0,j.jsx)(z.ntj,{size:128,color:f.wL.SECONDARY_COLOR,onClick:ue,style:{cursor:"pointer"}})})})]}),(0,j.jsxs)("div",{className:$,children:[(0,j.jsx)(p.Z,{action:function(){if(I){if(I){var e=new FormData;e.append("name","".concat(Date.now(),".").concat(I.name.split(".").pop())),e.append("company",g?g._id:null),e.append("warehouse",N?N._id:null),e.append("medicine",D?D._id:null),e.append("file",I),x((0,i.Xi)({data:e,token:_})).then(v.SI).then((function(){oe()}))}}else le("choose-image-msg")},text:l("add-label"),bgColor:f.wL.SUCCEEDED_COLOR}),(0,j.jsx)(p.Z,{action:oe,text:l("cancel-label"),bgColor:f.wL.FAILED_COLOR})]})]}),ie&&(0,j.jsx)(X.Z,{bgColor:f.wL.FAILED_COLOR,foreColor:"#fff",toastText:l(ie),actionAfterTimeout:function(){le("")}}),G&&(0,j.jsx)(y,{header:"choose-company",close:function(){return W(!1)},chooseAction:function(e){return function(e){L(e),E(null),k(null)}(e)},url:"".concat(f.Hc,"/users?limit=9&isActive=true&type=company")}),Q&&(0,j.jsx)(y,{header:"choose-warehouse",close:function(){return ee(!1)},chooseAction:function(e){return function(e){E(e),L(null),k(null)}(e)},url:"".concat(f.Hc,"/users?limit=9&isActive=true&type=warehouse")}),se&&(0,j.jsx)(F,{close:function(){return ce(!1)},chooseAction:function(e){return function(e){k(e),E(null),L(null)}(e)},url:"".concat(f.Hc,"/items?limit=9&isActive=true")})]})},G=t(2541);var W=function(e){var n,t,l,d=e.advertisement,m=(0,a.$)().t,h=(0,r.I0)(),x=(0,r.v9)(o.rK),_=(0,c.useState)(!1),v=(0,s.Z)(_,2),p=v[0],C=v[1];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:U,children:(0,j.jsxs)("div",{className:Y,children:[(0,j.jsx)("div",{className:B,children:(0,j.jsxs)("div",{className:K,children:[d.company&&(0,j.jsxs)("div",{className:H,children:[(0,j.jsxs)("label",{children:[m("company"),":"]}),(0,j.jsx)("p",{children:null===(n=d.company)||void 0===n?void 0:n.name})]}),d.warehouse&&(0,j.jsxs)("div",{className:H,children:[(0,j.jsxs)("label",{children:[m("warehouse"),":"]}),(0,j.jsx)("p",{children:null===(t=d.warehouse)||void 0===t?void 0:t.name})]}),d.medicine&&(0,j.jsxs)("div",{className:H,children:[(0,j.jsxs)("label",{children:[m("item-name"),":"]}),(0,j.jsx)("p",{children:null===(l=d.medicine)||void 0===l?void 0:l.name})]}),(0,j.jsx)("div",{className:q,onClick:function(){C(!0)},children:(0,j.jsx)(u.w6k,{})})]})}),(0,j.jsx)("div",{className:T,children:(0,j.jsx)("img",{src:"".concat(f.LB,"/").concat(d.logo_url),className:P,alt:"Thumb"})})]})}),p&&(0,j.jsx)(N.Z,{header:"delete-advertisement",cancelLabel:"close-label",okLabel:"ok-label",closeModal:function(){C(!1)},small:!0,okModal:function(){C(!1),h((0,i.Xx)({id:d._id,token:x}))},color:f.wL.FAILED_COLOR,children:(0,j.jsx)("p",{children:m("delete-advertisement-confirm-msg")})})]})};var V=function(e){var n=e.onSelectedChange,t=(0,a.$)().t,l=(0,r.I0)(),o=(0,r.v9)(i.RP),u=o.status,d=o.error,m=o.advertisements,h=(0,c.useState)(!1),v=(0,s.Z)(h,2),p=v[0],C=v[1];return(0,c.useEffect)((function(){window.scrollTo(0,0),n()}),[]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:x.Z.container,children:[(0,j.jsx)(_,{isNew:p,setIsNew:C}),(0,j.jsx)(M,{isNew:p,setIsNew:C}),m.map((function(e){return(0,j.jsx)(W,{advertisement:e},e._id)}))]}),"loading"===u&&(0,j.jsx)(G.Z,{}),d&&(0,j.jsx)(X.Z,{bgColor:f.wL.FAILED_COLOR,foreColor:"#fff",toastText:t(d),actionAfterTimeout:function(){return l((0,i.q$)())}})]})}}}]);
//# sourceMappingURL=124.11cffc97.chunk.js.map