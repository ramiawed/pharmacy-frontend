"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[8707],{553:function(n,e,r){r.d(e,{Z:function(){return x}});r(2791);var t=r(3168),o=r(1221),a=r(1176),i=r(6886),c=r(8820),l=r(6355),s=r(6030),d=r(6201),u=r(3541),_=r(6481),h=r(9942),p={small_font:"partner-card_small_font__B6atq",partner_container:"partner-card_partner_container__VB59l",full_width:"partner-card_full_width__CUiS6",partner_logo:"partner-card_partner_logo__zh12g",partner_name:"partner-card_partner_name__jXB4j",from_top:"partner-card_from_top__OssbS",name:"partner-card_name__xgWNa"},f=r(3585),m=r(3329);var x=function(n){var e,r=n.partner,x=n.fullWidth,j=n.addPartnerToFavoriteHandler,g=n.addCompanyToOurCompaniesHandler,v=n.removePartnerFromFavoriteHandler,C=n.removeCompanyFromOurCompaniesHandler,Z=n.partnerRowClickHandler,y=(0,t.$)().t,w=(0,s.v9)(_.vi).settings.showWarehouseItem,k=(0,s.v9)(d.oT),L=(0,s.v9)(d.GI),O=(0,s.v9)(u.tT).user,N=O.type===f.Wl.ADMIN||r.type===f.Wl.COMPANY||r.type===f.Wl.WAREHOUSE&&w&&r.allowShowingMedicines;return(0,m.jsxs)("div",{className:[p.partner_container,x?p.full_width:""].join(" "),children:[(0,m.jsx)("p",{className:p.partner_name,children:r.name}),(null===(e=r.logo_url)||void 0===e?void 0:e.length)>0?(0,m.jsx)("img",{src:"".concat(f.LB,"/profiles/").concat(r.logo_url),className:p.partner_logo,alt:"thumb"}):(0,m.jsx)("img",{src:o,className:p.partner_logo,alt:"thumb"}),(0,m.jsxs)("div",{className:p.from_top,children:[""===L?(0,m.jsx)("div",{className:[h.Z.icon,h.Z.fc_yellow].join(" "),children:k&&k.map((function(n){return n._id})).includes(r._id)?(0,m.jsx)(c.pHD,{size:24,onClick:v}):(0,m.jsx)(c.y5j,{size:24,onClick:j})}):null,O.type===f.Wl.WAREHOUSE&&r.type===f.Wl.COMPANY?(0,m.jsx)("div",{children:O.ourCompanies.includes(r._id)?(0,m.jsx)(i.Z,{text:y("remove-company-from-warehouse-tooltip"),action:C,bgColor:f.wL.FAILED_COLOR,icon:function(){return(0,m.jsx)(l.mwf,{size:24})}}):(0,m.jsx)(i.Z,{text:y("add-company-to-warehouse-tooltip"),action:g,bgColor:f.wL.SUCCEEDED_COLOR,icon:function(){return(0,m.jsx)(l.Cq,{size:24})}})}):(0,m.jsx)(m.Fragment,{}),(r.type===f.Wl.COMPANY||r.type===f.Wl.WAREHOUSE&&O.type!==f.Wl.WAREHOUSE)&&(0,m.jsx)("div",{children:(0,m.jsx)(a.Z,{action:function(){return Z(N)},text:y("medicines"),bgColor:f.wL.FAILED_COLOR})})]})]})}},6824:function(n,e,r){var t=r(885),o=r(2791),a=r(3168),i=r(6355),c=r(6349),l=r(9942),s=r(7500),d=r(3329);e.Z=function(n){var e=n.children,r=n.searchAction,u=(0,a.$)().t,_=o.Children.toArray(e),h=(0,o.useState)(!1),p=(0,t.Z)(h,2),f=p[0],m=p[1];return(0,d.jsx)("div",{className:[c.Z.search_container,c.Z.expanded,f?c.Z.expanded_with_options:""].join(" "),children:(0,d.jsx)("div",{className:c.Z.expanded_div,children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{style:{flex:1},children:[_[0],f&&_.length>1?_.map((function(n,e){return e>0?n:null})):null,f&&(0,d.jsx)("button",{onClick:function(){r(),m(!1)},style:{marginBlockStart:"4px",marginInline:"auto",marginLeft:"auto",marginRight:"auto",width:"50%"},className:[l.Z.button,l.Z.bg_main,l.Z.fc_white,l.Z.block,l.Z.padding_v_6,l.Z.padding_h_8].join(" "),children:u("search")})]}),_.length>1&&(0,d.jsx)("div",{style:{marginInline:"4px",marginLeft:"4px",marginRight:"4px"},children:(0,d.jsx)(s.Z,{onclick:function(){return m(!f)},icon:function(){return(0,d.jsx)(i.ulB,{})}})}),1===_.length&&(0,d.jsx)("div",{className:[l.Z.icon,l.Z.margin_h_4].join(" "),onClick:function(){r(),m(!1)},children:(0,d.jsx)("button",{className:[l.Z.button,l.Z.bg_secondary,l.Z.fc_white,l.Z.block,l.Z.padding_v_6,l.Z.padding_h_8].join(" "),children:u("search")})})]})})})}},2235:function(n,e,r){r.d(e,{Z:function(){return l}});r(2791);var t=r(3168),o=r(8820),a="search-input_input_div__4KoDe",i="search-input_icon_close__TC1nF",c=r(3329);var l=function(n){var e=n.type,r=n.label,l=n.id,s=n.value,d=n.onchange,u=n.placeholder,_=n.onEnterPress,h=n.resetField,p=n.onkeyup,f=(0,t.$)().t;return(0,c.jsxs)("div",{className:a,children:[r&&(0,c.jsx)("label",{htmlFor:l,children:f(r)}),(0,c.jsx)("input",{placeholder:u?f("".concat(u)):"",id:l,type:e,value:s,onChange:d,onKeyPress:function(n){"Enter"===n.key&&_&&_()},onKeyUp:p&&p}),h&&s&&(0,c.jsx)(o.LHV,{onClick:function(){return h(l)},className:i})]})}},4321:function(n,e,r){r.r(e),r.d(e,{default:function(){return T}});var t=r(885),o=r(2791),a=r(3168),i=r(9271),c=r(1968),l=r.n(c),s=r(125),d=r(553),u=r(9488),_=r(3575),h=r(6030),p=r(8218),f=r(6824),m=r(2235),x=r(7500),j=r(670),g=r(7425),v=r(8820),C=r(6355),Z=r(4651),y=r(2268),w=r(9942),k=r(3585),L=r(3541),O=r(3329);var N,A=function(n){var e=n.search,r=n.refreshHandler,t=(n.count,n.keyUpHandler),o=(0,a.$)().t,c=(0,i.k6)(),l=(0,h.I0)(),s=(0,h.v9)(L.dy),d=(0,h.v9)(p.T),u=d.searchName,_=d.searchCity,N=d.displayType;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(f.Z,{searchAction:e,children:[(0,O.jsx)(m.Z,{label:"user-name",id:"search-name",type:"text",value:u,onchange:function(n){l((0,p.ut)(n.target.value))},placeholder:"search-by-warehouse-name",onEnterPress:e,resetField:function(){return l((0,p.ut)(""))},onkeyup:t}),s.type===k.Wl.ADMIN&&(0,O.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",backgroundColor:k.wL.WHITE_COLOR,borderRadius:"6px"},children:(0,O.jsx)(j.Z,{onSelectionChange:function(n){l((0,p.TH)(n))},defaultValue:{value:_,label:o(_.toLowerCase())},caption:"user-city"})})]}),(0,O.jsxs)("div",{className:[w.Z.actions,w.Z.margin_v_4].join(" "),children:[(0,O.jsx)(x.Z,{foreColor:k.wL.MAIN_COLOR,tooltip:o("refresh-tooltip"),onclick:r,icon:function(){return(0,O.jsx)(g.PwW,{})},withBackground:!0}),(u.length>0||_!==k.zx.ALL)&&(0,O.jsx)(x.Z,{selected:!1,foreColor:k.wL.MAIN_COLOR,tooltip:o("clear-filter-tooltip"),onclick:function(){l((0,p.yp)()),r()},icon:function(){return(0,O.jsx)(Z.jTJ,{})},withBackground:!0}),(0,O.jsx)(x.Z,{foreColor:"card"===N?k.wL.SUCCEEDED_COLOR:k.wL.MAIN_COLOR,tooltip:o("show-item-as-card-tooltip"),onclick:function(){l((0,p.m1)("card"))},icon:function(){return(0,O.jsx)(v.sF$,{})},withBackground:!0}),(0,O.jsx)(x.Z,{foreColor:"list"===N?k.wL.SUCCEEDED_COLOR:k.wL.MAIN_COLOR,tooltip:o("show-item-as-row-tooltip"),onclick:function(){l((0,p.m1)("list"))},icon:function(){return(0,O.jsx)(C.hON,{})},withBackground:!0}),(0,O.jsx)(x.Z,{withBackground:!0,tooltip:o("go-back"),onclick:function(){c.goBack()},icon:function(){return(0,O.jsx)(y.D_,{})},foreColor:k.wL.MAIN_COLOR})]})]})},R=r(6886),b=r(6201),E=r(6425),H=r(5880),W=r(9104);var T=function(n){var e=n.onSelectedChange,r=(0,a.$)().t,c=(0,i.k6)(),f=(0,h.I0)(),m=(0,h.v9)(E.VY),x=(0,h.v9)(L.tT),j=x.token,g=x.user,v=(0,h.v9)(p.op),C=v.warehouses,Z=v.count,y=v.status,T=(0,h.v9)(p.T),F=T.searchName,S=T.searchCity,I=(0,h.v9)(p.T).displayType,D=(0,h.v9)(b.Tc).error,M=(0,o.useState)(D),P=(0,t.Z)(M,2),B=P[0],U=P[1],Y=function(){g.type!==k.Wl.PHARMACY&&g.type!==k.Wl.GUEST&&g.type!==k.Wl.WAREHOUSE||f((0,p.TH)(g.city)),f((0,p.aM)({token:j}))},z=function(){f((0,p.t1)()),Y()};return(0,o.useEffect)((function(){return 0===C.length&&Y(),window.scrollTo(0,0),e(),function(){(0,p.iX)()}}),[]),!g||g.type!==k.Wl.ADMIN&&g.type!==k.Wl.PHARMACY?(0,O.jsx)(i.l_,{to:"/"}):(0,O.jsxs)("div",{className:w.Z.container,children:[(0,O.jsx)(A,{count:Z,search:z,refreshHandler:function(){f((0,b.iF)()),f((0,b._l)({token:j})),f((0,p.cs)()),Y()},keyUpHandler:function(n){13!==n.keyCode&&((0,p.iX)(),N&&clearTimeout(N),N=setTimeout((function(){z()}),200))}}),Z>0&&(0,O.jsxs)("div",{className:w.Z.count,children:[(0,O.jsx)("span",{className:w.Z.label,children:r("warehouses-count")}),(0,O.jsx)("span",{className:w.Z.count,children:Z})]}),"list"===I&&C.map((function(n){return(0,O.jsx)(s.Z,{partner:n,addPartnerToFavoriteHandler:function(){return(0,W.Vl)(n,m,f,j,g)},removePartnerFromFavoriteHandler:function(){(0,W.Bd)(n,m,f,j)},partnerRowClickHandler:function(e){return(0,W.Vt)(n,e,g,f,j,c)}},n._id)})),"card"===I&&(0,O.jsx)("div",{className:[w.Z.flex_container,w.Z.margin_top_10].join(" "),children:C.map((function(n){return(0,O.jsx)(d.Z,{partner:n,addPartnerToFavoriteHandler:function(){return(0,W.Vl)(n,m,f,j,g)},removePartnerFromFavoriteHandler:function(){(0,W.Bd)(n,m,f,j)},partnerRowClickHandler:function(e){return(0,W.Vt)(n,e,g,f,j,c)}},n._id)}))}),Z>0&&"loading"!==y&&(0,O.jsxs)("div",{className:w.Z.count,children:[C.length," / ",Z]}),0===C.length&&"loading"!==y&&0===F.length&&S===k.zx.ALL&&(0,O.jsx)(_.Z,{msg:r("no-warehouses")}),0===C.length&&"loading"!==y&&(0!==F.length||S!==k.zx.ALL)&&(0,O.jsx)(_.Z,{msg:r("no-result-found")}),"loading"===y&&(0,O.jsx)("div",{className:w.Z.flex_container,children:(0,O.jsx)(l(),{color:k.wL.SECONDARY_COLOR,type:"cylon"})}),C.length<Z&&(0,O.jsx)("div",{className:w.Z.flex_container,children:(0,O.jsx)(R.Z,{text:r("more"),action:function(){m?Y():f((0,E.Rb)())},bgColor:k.wL.SECONDARY_COLOR,icon:function(){return(0,O.jsx)(H.lYW,{})}})}),C.length===Z&&"loading"!==y&&0!==Z&&(0,O.jsx)("p",{className:[w.Z.center,w.Z.fc_secondary].join(" "),children:r("no-more")}),B&&(0,O.jsx)(u.Z,{bgColor:k.wL.FAILED_COLOR,foreColor:"#fff",actionAfterTimeout:function(){U("")},children:r(D)})]})}},6349:function(n,e){e.Z={small_font:"search-container_small_font__Ha0Xq",search_container:"search-container_search_container__6isGM",expanded:"search-container_expanded__79n+k",expanded_div:"search-container_expanded_div__Hmmm1",checkbox_div:"search-container_checkbox_div__RPj5T"}}}]);
//# sourceMappingURL=8707.6e60d3a9.chunk.js.map