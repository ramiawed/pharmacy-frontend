"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[89],{1847:function(e,n,a){a.d(n,{Z:function(){return g}});var t=a(885),i=a(2791),r=a(3168),o=a(8489),l=a(9021),s=a(3107),c=a(3541),d=a(6030),u=a(3994),f=a(6425),h=a(3585),m="add-to-cart-modal_offer__vBdMK",p="add-to-cart-modal_value__aJCXy",v="add-to-cart-modal_max_qty_div__DeRw8",x="add-to-cart-modal_select_warehouse__QvEuj",j="add-to-cart-modal_error__N6LB6",_=a(3329),b=function e(n,a){if(n.offer.offers.length>0)for(var t=0;t<n.offer.offers.length;t++)if(a>=n.offer.offers[t].qty)return n.offer.mode===h.Hg.PERCENTAGE?n.offer.offers[t].bonus:n.offer.offers[t].bonus+e(n,a-n.offer.offers[t].qty);return 0};var g=function(e){var n=e.item,a=e.close,g=e.setAddItemToCartMsg,y=(0,r.$)().t,Z=(0,d.I0)(),w=(0,d.v9)(c.tT),C=w.token,N=w.user,k=(0,d.v9)(f.VY),E=n.warehouses.filter((function(e){return e.warehouse.city===N.city})).map((function(e){var n=e.offer.offers.length>0?"*":"";return{label:"".concat(e.warehouse.name," ").concat(n),value:e.warehouse._id}})),S=(0,i.useState)(n.warehouses.filter((function(e){return e.warehouse.city===N.city}))[0]),L=(0,t.Z)(S,2),I=L[0],q=L[1],O=(0,i.useState)(n.warehouses.filter((function(e){return e.warehouse.city===N.city}))[0].offer),R=(0,t.Z)(O,2),A=R[0],T=R[1],D=(0,i.useState)(),H=(0,t.Z)(D,2),W=H[0],M=H[1],P=(0,i.useState)(!1),F=(0,t.Z)(P,2),U=F[0],V=F[1];return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(o.Z,{header:"add-to-cart",cancelLabel:"cancel-label",okLabel:"add-label",closeModal:a,okModal:function(){if(""!==W)if(0!==I.maxQty&&W>I.maxQty)V(!0);else{var e=b(I,W);Z((0,s.dm)({item:n,warehouse:I,qty:W,bonus:e>0?e:null,bonusType:e>0?I.offer.mode:null})),k&&Z((0,u.OF)({obj:{itemId:n._id},token:C})),a(),g("add-item-to-cart")}else V(!0)},small:!0,children:[(0,_.jsxs)("div",{className:x,children:[(0,_.jsx)("label",{children:y("item-warehouse")}),(0,_.jsx)(l.Z,{bgColor:h.wL.SECONDARY_COLOR,foreColor:"#fff",options:E,onchange:function(e){q(n.warehouses.find((function(n){return n.warehouse._id==e}))),T(n.warehouses.find((function(n){return n.warehouse._id==e})).offer)},defaultOption:E[0]})]}),(0,_.jsxs)("div",{className:v,children:[(0,_.jsx)("label",{children:y("item-max-qty")}),(0,_.jsx)("p",{children:0===I.maxQty?y("no-limit-qty"):I.maxQty})]}),(0,_.jsxs)("div",{className:v,children:[(0,_.jsx)("label",{children:y("selected-qty")}),(0,_.jsx)("input",{className:U?j:"",value:W,onKeyPress:h.I0,onChange:function(e){var n=Number.parseInt((0,h.F8)(e.target.value));M(isNaN(n)?"":n),V(!1)}})]}),(null===A||void 0===A?void 0:A.offers.length)>0&&A.offers.map((function(e,n){return(0,_.jsxs)("div",{className:m,children:[(0,_.jsxs)("p",{children:[(0,_.jsx)("label",{children:y("quantity-label")}),(0,_.jsx)("label",{className:p,style:{padding:"0 6px"},children:e.qty}),(0,_.jsx)("label",{style:{paddingLeft:"20px"},children:y("after-quantity-label")})]}),(0,_.jsxs)("p",{children:[(0,_.jsx)("label",{children:A.mode===h.Hg.PIECES?y("bonus-quantity-label"):y("bonus-percentage-label")}),(0,_.jsx)("label",{className:p,children:e.bonus}),(0,_.jsx)("label",{children:A.mode===h.Hg.PIECES?y("after-bonus-quantity-label"):y("after-bonus-percentage-label")})]})]},n)}))]})})}},8845:function(e,n,a){a.d(n,{Z:function(){return s}});var t=a(885),i=a(2791),r=a(9126),o={card:"card-info_card__VcLb9",header:"card-info_header__uTcny",warning:"card-info_warning__bmiK1"},l=a(3329);var s=function(e){var n=e.headerTitle,a=e.children,s=e.type,c=(0,i.useState)(!0),d=(0,t.Z)(c,2),u=d[0],f=d[1];return(0,l.jsxs)("div",{className:[o.card,"warning"===s?o.warning:null].join(" "),children:[(0,l.jsxs)("div",{onClick:function(){return f(!u)},className:[o.header,"warning"===s?o.warning:null].join(" "),children:[(0,l.jsx)("p",{children:n}),(0,l.jsx)("label",{className:o.header_label,style:{},onClick:function(){return f(!u)},children:u?(0,l.jsx)(r.jnn,{}):(0,l.jsx)(r.F0C,{})})]}),u&&(0,l.jsx)("div",{children:a})]})}},8865:function(e,n,a){var t=a(8785),i=a(2791),r=a(3168),o=a(6030),l=a(3541),s=a(3268),c=a(9942),d=a(3329);n.Z=function(e){var n=e.type,a=e.item,u=e.readOnly,f=e.onchange,h=(0,r.$)().t,m=(0,o.I0)(),p=i.useRef(null),v=(0,o.v9)(l.tT),x=v.token,j=v.user;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{children:(0,d.jsx)("button",{className:[c.Z.button,c.Z.bg_secondary,c.Z.fc_white,c.Z.padding_h_12,c.Z.padding_v_6].join(" "),onClick:function(){p.current.click()},disabled:u,children:h("change-logo")})}),(0,d.jsx)("input",{multiple:!1,accept:"image/*",ref:p,type:"file",onChange:function(e){var i=e.target.files[0];if(i){var r=new FormData;if("partner"===n?r.append("name","".concat(j.username).concat(Date.now(),".").concat(i.name.split(".").pop())):r.append("name","".concat(a.name.replace("%","")).concat(Date.now(),".").concat(i.name.split(".").pop())),r.append("file",i),"partner"===n)m((0,l.kG)({data:r,token:x})).then(t.SI).then((function(){f&&f()}));else{var o=a._id;m((0,s.kR)({data:r,_id:o,token:x})).then(t.SI).then((function(){f&&f()}))}}},style:{display:"none"}})]})}},4293:function(e,n,a){a.d(n,{Z:function(){return N}});var t=a(4942),i=a(1413),r=a(2982),o=a(885),l=a(2791),s=a(3168),c=a(2810),d=a(6030),u=a(6154),f=a(8489),h=a(7425),m=a(6856),p=a(9942),v="multi-value_container__efvXg",x="multi-value_row__CgABK",j="multi-value_header__sV-dg",_="multi-value_input_div__4ZhqR",b=a(3585),g=a(3329);var y=function(e){var n=e.addHandler,a=e.deleteHandler,t=e.values,i=e.changeHandler,r=e.placeholder,o=e.quantityLabel,l=e.bonusLabel,c=e.afterQuantityLabel,d=e.afterBonusLabel,u=e.allowEdit,f=(0,s.$)().t;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:j,children:u&&(0,g.jsxs)("div",{className:[p.Z.icon,p.Z.fc_green,p.Z.margin_h_auto].join(" "),children:[(0,g.jsx)(m.NcC,{size:36,onClick:n}),(0,g.jsx)("div",{className:p.Z.tooltip,children:f("add-offer-tooltip")})]})}),(0,g.jsx)("div",{className:v,children:t.map((function(e){return(0,g.jsxs)("div",{className:x,children:[(0,g.jsxs)("div",{className:_,children:[o&&(0,g.jsx)("label",{children:o}),(0,g.jsx)("input",{id:e.key,title:"qty",value:e.value.qty,onChange:function(e){return i(e)},placeholder:r,onKeyPress:b.I0,disabled:!u}),c&&(0,g.jsx)("label",{children:c})]}),(0,g.jsxs)("div",{className:_,children:[l&&(0,g.jsx)("label",{children:l}),(0,g.jsx)("input",{id:e.key,title:"bonus",value:e.value.bonus,onChange:function(e){return i(e)},placeholder:r,disabled:!u}),d&&(0,g.jsx)("label",{children:d})]},e.key),u&&(0,g.jsxs)("div",{className:[p.Z.icon,p.Z.fc_red].join(" "),children:[(0,g.jsx)(h.w6k,{size:20,onClick:function(){return a(e.key)}}),(0,g.jsx)("div",{className:p.Z.tooltip,children:f("remove-offer-tooltip")})]})]},e.key)}))})]})},Z="offers-modal_checkboxes_div__jHFjO",w="offers-modal_offer_type_checkbox__6qdXR",C=a(8785);var N=function(e){var n,a=e.item,h=e.warehouseId,v=e.close,x=e.token,j=e.allowEdit,_=e.afterUpdateOffer,N=(0,s.$)().t,k=(0,d.I0)(),E=a.warehouses.find((function(e){return e.warehouse._id===h})).offer,S=(0,l.useState)(!1),L=(0,o.Z)(S,2),I=L[0],q=L[1],O=(0,l.useState)(E.mode===b.Hg.PIECES),R=(0,o.Z)(O,2),A=R[0],T=R[1],D=(0,l.useState)(E.mode===b.Hg.PERCENTAGE),H=(0,o.Z)(D,2),W=H[0],M=H[1],P=(0,l.useState)((null===(n=E.offers)||void 0===n?void 0:n.length)>0?E.offers.map((function(e){return{value:{qty:e.qty,bonus:e.bonus},key:e._id}})):[]),F=(0,o.Z)(P,2),U=F[0],V=F[1];return(0,g.jsxs)(f.Z,{header:"nav-offers",cancelLabel:"close-label",okLabel:"add-label",closeModal:v,okModal:j?function(){!function(){if(A||W){var e=U.filter((function(e){return 0!==e.value.bonus||e.value.qty})).sort((function(e,n){return e.value.qty>n.value.qty?-1:e.value.qty<n.value.qty?1:0})).map((function(e){return{qty:e.value.qty,bonus:e.value.bonus}})),n={mode:0===e.length?"":A?b.Hg.PIECES:b.Hg.PERCENTAGE,offers:e};k((0,u.Ex)({obj:{itemId:a._id,warehouseId:h,offer:n},token:x})).then(C.SI).then((function(){return _&&_()})),v()}else q(!0)}()}:null,small:!0,children:[j&&U.length>0&&(0,g.jsxs)("div",{className:Z,children:[(0,g.jsxs)("label",{children:[N("offer-type"),":"]}),(0,g.jsxs)("div",{className:w,children:[(0,g.jsx)("input",{type:"checkbox",value:A,checked:A,onChange:function(){T(!A),M(!1),q(!1)}}),(0,g.jsx)("label",{children:N(b.Hg.PIECES)})]}),(0,g.jsxs)("div",{className:w,children:[(0,g.jsx)("input",{type:"checkbox",value:W,checked:W,onChange:function(){M(!W),T(!1),q(!1)}}),(0,g.jsx)("label",{children:N(b.Hg.PERCENTAGE)})]}),I&&(0,g.jsx)(m.wr$,{color:b.wL.FAILED_COLOR,size:24})]}),0===U.length&&(0,g.jsx)("p",{className:[p.Z.center,p.Z.fc_secondary].join(" "),children:N("no-offers")}),(0,g.jsx)(y,{allowEdit:j,values:U,addHandler:function(){return V([].concat((0,r.Z)(U),[{value:{qty:0,bonus:0},key:(0,c.Z)()}]))},deleteHandler:function(e){var n=U.filter((function(n){return n.key!==e}));V(n)},changeHandler:function(e){var n=U.map((function(n){return n.key===e.target.id?(0,i.Z)((0,i.Z)({},n),{},{value:(0,i.Z)((0,i.Z)({},n.value),{},(0,t.Z)({},e.target.title,1*(0,b.F8)(e.target.value)))}):n}));V(n)},quantityLabel:N("quantity-label"),bonusLabel:A?N("bonus-quantity-label"):W?N("bonus-percentage-label"):null,afterQuantityLabel:N("after-quantity-label"),afterBonusLabel:A?N("after-bonus-quantity-label"):W?N("after-bonus-percentage-label"):null})]})}},1089:function(e,n,a){a.r(n),a.d(n,{default:function(){return P}});var t=a(4942),i=a(1413),r=a(885),o=a(2791),l=a(3168),s=a(9271),c=a(4569),d=a.n(c),u=a(8785),f=a(6030),h=a(3541),m=a(3268),p=a(6523),v=a(6425),x=a(8845),j=a(9724),_=a(9488),b=a(1847),g=a(4293),y=a(8865),Z=a(1176),w=a(2541),C=a(7500),N=a(1061),k=a(8489),E=a(8370),S=a(3585),L=a(6856),I=a(7425),q=a(9942),O="item-page_content__R9NDn",R="item-page_textarea__qwkQA",A="item-page_horizontal_div__uGnXE",T="item-page_error_ul__SKblv",D="item-page_info__3cySs",H="item-page_logo__l6dvL",W=a(4131),M=a(3329);var P=function(){var e,n,a,c,P,F,U,V,B,G,Q=(0,l.$)().t,$=(0,f.I0)(),K=(0,s.k6)(),Y=(0,s.TH)().state,z=Y.from,X=Y.allowAction,J=Y.type,ee=Y.itemId,ne=Y.companyId,ae=Y.warehouseId,te=(0,f.v9)(v.VY),ie=(0,f.v9)(h.tT),re=ie.user,oe=ie.token,le=(0,f.v9)(m.a1),se=le.addStatus,ce=le.updateStatus,de=le.changeLogoStatus,ue=(0,f.v9)(p.oH),fe=ue.addToWarehouseStatus,he=ue.removeFromWarehouseStatus,me=(0,o.useState)(!1),pe=(0,r.Z)(me,2),ve=pe[0],xe=pe[1],je=(0,o.useState)(!1),_e=(0,r.Z)(je,2),be=_e[0],ge=_e[1],ye=(0,o.useState)(""),Ze=(0,r.Z)(ye,2),we=Ze[0],Ce=Ze[1],Ne=(0,o.useState)(!1),ke=(0,r.Z)(Ne,2),Ee=ke[0],Se=ke[1],Le=(0,o.useState)(!1),Ie=(0,r.Z)(Le,2),qe=Ie[0],Oe=Ie[1],Re=(0,o.useState)("idle"),Ae=(0,r.Z)(Re,2),Te=Ae[0],De=Ae[1],He=(0,o.useState)({}),We=(0,r.Z)(He,2),Me=We[0],Pe=We[1],Fe=(0,o.useState)({name:"",caliber:"",formula:"",indication:"",barcode:"",composition:"",packing:"",price:0,customer_price:0}),Ue=(0,r.Z)(Fe,2),Ve=Ue[0],Be=Ue[1],Ge=function(e){Be((0,i.Z)((0,i.Z)({},Ve),{},(0,t.Z)({},e.target.id,"price"===e.target.id||"customer_price"===e.target.id?(0,S.F8)(e.target.value):e.target.value))),Pe((0,i.Z)((0,i.Z)({},Me),{},(0,t.Z)({},e.target.id,"")))},Qe=(0,o.useCallback)((function(){De("loading"),d().get("".concat(S.Hc,"/items/item/").concat(ee),{headers:{Authorization:"Bearer ".concat(oe)}}).then((function(e){Be(e.data.data.item),De("idle")})).catch((function(e){De("idle")}))}));return(0,o.useEffect)((function(){"info"===J&&ee&&(Qe(),window.scrollTo(0,0))}),[ee,J]),re?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:q.Z.container,children:[(0,M.jsxs)(N.Z,{children:[(0,M.jsx)("h2",{children:Ve.name}),(0,M.jsx)("div",{style:{position:"absolute",top:"16px",left:"46px"},children:(0,M.jsx)(C.Z,{selected:!1,foreColor:S.wL.SECONDARY_COLOR,tooltip:Q("refresh-tooltip"),icon:function(){return(0,M.jsx)(I.PwW,{})},onclick:function(){"info"===J&&ee&&(Qe(),window.scrollTo(0,0))}})})]}),(0,M.jsxs)("div",{className:O,children:[(0,M.jsxs)("div",{className:[q.Z.flex_center_container,q.Z.flex_column,q.Z.padding_v_6,q.Z.padding_h_12].join(" "),children:["succeeded"===de||"idle"===de?(0,M.jsx)("div",{className:H,children:(0,M.jsx)("img",{src:Ve.logo_url&&""!==Ve.logo_url?"".concat(S.LB,"/").concat(Ve.logo_url):"".concat(S.LB,"/medicine.jpeg"),alt:"thumb"})}):null,X&&ee&&(0,M.jsx)("div",{children:(0,M.jsx)(y.Z,{type:"item",item:Ve,onchange:function(){Qe()}})}),X&&(z===S.Wl.COMPANY||z===S.Wl.ADMIN)&&(0,M.jsx)("div",{className:q.Z.margin_v_4,children:(0,M.jsx)(Z.Z,{text:Q("info"===J?"update-item":"add-item"),bgColor:S.wL.SUCCEEDED_COLOR,action:function(){return Oe(!0)}})}),re.type===S.Wl.PHARMACY&&(null===(e=Ve.warehouses)||void 0===e?void 0:e.length)>0&&(0,M.jsx)("div",{className:q.Z.margin_v_4,children:(0,M.jsx)(Z.Z,{text:Q("add-to-cart"),action:function(){return xe(!0)},bgColor:S.wL.SUCCEEDED_COLOR})}),re.type===S.Wl.WAREHOUSE&&(null!==(n=Ve.warehouses)&&void 0!==n&&n.map((function(e){return e.warehouse._id})).includes(re._id)?(0,M.jsx)("div",{className:q.Z.margin_v_4,children:(0,M.jsx)(Z.Z,{text:Q("remove-from-warehouse"),action:function(){te?$((0,p.LK)({obj:{itemId:ee,warehouseId:ae},token:oe})).then(u.SI).then((function(){return Qe()})).catch((function(){})):$((0,v.Rb)())},bgColor:S.wL.FAILED_COLOR})}):(0,M.jsx)("div",{className:q.Z.margin_v_4,children:(0,M.jsx)(Z.Z,{text:Q("add-to-warehouse"),action:function(){te?$((0,p._h)({obj:{itemId:ee,warehouseId:ae},token:oe})).then(u.SI).then((function(){return Qe()})).catch((function(){})):$((0,v.Rb)())},bgColor:S.wL.SUCCEEDED_COLOR})}))]}),(0,M.jsxs)("div",{className:D,children:[(0,M.jsxs)(x.Z,{headerTitle:Q("item-main-info"),children:[(0,M.jsx)(j.Z,{label:"item-trade-name",id:"name",type:"text",value:Ve.name,bordered:!1,icon:(0,E.q)("medicine"),onchange:Ge,error:(null===(a=Me.name)||void 0===a?void 0:a.length)>0,readOnly:!X}),(0,M.jsx)("div",{className:A}),(0,M.jsx)(j.Z,{label:"item-formula",id:"formula",type:"text",value:Ve.formula,bordered:!1,icon:(0,E.q)("medicine"),onchange:Ge,error:(null===(c=Me.formula)||void 0===c?void 0:c.length)>0,readOnly:!X}),(0,M.jsx)("div",{className:A}),(0,M.jsx)(j.Z,{label:"item-caliber",id:"caliber",type:"text",value:Ve.caliber,bordered:!1,icon:(0,E.q)("medicine"),onchange:Ge,error:(null===(P=Me.caliber)||void 0===P?void 0:P.length)>0,readOnly:!X}),(0,M.jsx)("div",{className:A}),(0,M.jsx)(j.Z,{label:"item-packing",id:"packing",type:"text",value:Ve.packing,bordered:!1,icon:(0,E.q)("medicine"),onchange:Ge,error:(null===(F=Me.packing)||void 0===F?void 0:F.length)>0,readOnly:!X}),(0,M.jsx)("div",{className:A}),(0,M.jsx)(j.Z,{label:"item-barcode",id:"barcode",type:"text",value:Ve.barcode,bordered:!1,icon:(0,E.q)("medicine"),onchange:Ge,readOnly:!X})]}),(0,M.jsxs)(x.Z,{headerTitle:Q("item-price"),children:[re.type!==S.Wl.GUEST&&(0,M.jsx)("div",{style:{width:"300px"},children:(0,M.jsx)(j.Z,{label:"item-price",id:"price",type:"number",value:Ve.price,bordered:!1,icon:(0,E.q)("price"),onchange:Ge,error:(null===(U=Me.price)||void 0===U?void 0:U.length)>0,readOnly:!X})}),(0,M.jsx)("div",{className:A}),(0,M.jsx)("div",{style:{width:"300px"},children:(0,M.jsx)(j.Z,{label:"item-customer-price",id:"customer_price",type:"number",value:Ve.customer_price,bordered:!1,icon:(0,E.q)("price"),onchange:Ge,error:(null===(V=Me.customer_price)||void 0===V?void 0:V.length)>0,readOnly:!X})})]}),(0,M.jsx)(x.Z,{headerTitle:Q("item-composition"),children:(0,M.jsx)("div",{children:(0,M.jsx)("textarea",{className:R,placeholder:Q("enter-composition"),id:"composition",value:Ve.composition,onChange:Ge,disabled:!X})})}),(0,M.jsx)(x.Z,{headerTitle:Q("item-indication"),children:(0,M.jsx)("div",{children:(0,M.jsx)("textarea",{className:R,placeholder:Q("enter-indication"),id:"indication",value:Ve.indication,onChange:Ge,disabled:!X})})}),(null===(B=Ve.warehouses)||void 0===B?void 0:B.length)>0&&re.type===S.Wl.ADMIN&&(0,M.jsx)(x.Z,{headerTitle:Q("warehouses"),children:Ve.warehouses.map((function(e,n){return(0,M.jsxs)("div",{className:[W.Z.container,W.Z.without_box_shadow,q.Z.padding_h_6].join(" "),children:[(0,M.jsx)("label",{className:q.Z.padding_v_6,children:e.warehouse.name}),(0,M.jsxs)("div",{className:q.Z.icon,onClick:function(){Ce(e.warehouse._id),Se(re.type===S.Wl.WAREHOUSE&&re._id===e.warehouse._id||re.type===S.Wl.ADMIN&&e.warehouse.allowAdmin),ge(!0)},children:[(0,M.jsx)(L.Rtn,{}),(0,M.jsx)("div",{className:q.Z.tooltip,children:Q("nav-offers")})]})]},n)}))}),(null===(G=Ve.warehouses)||void 0===G?void 0:G.length)>0&&re.type===S.Wl.PHARMACY&&(0,M.jsx)(x.Z,{headerTitle:Q("warehouses"),children:Ve.warehouses.filter((function(e){return e.warehouse.city===re.city})).map((function(e,n){return(0,M.jsxs)("div",{className:[W.Z.container,W.Z.without_box_shadow,q.Z.padding_h_6].join(" "),children:[(0,M.jsx)("label",{className:q.Z.padding_v_6,children:e.warehouse.name}),(0,M.jsxs)("div",{className:q.Z.icon,onClick:function(){Ce(e.warehouse._id),Se(re.type===S.Wl.WAREHOUSE&&re._id===e.warehouse._id||re.type===S.Wl.ADMIN&&e.warehouse.allowAdmin),ge(!0)},children:[(0,M.jsx)(L.Rtn,{}),(0,M.jsx)("div",{className:q.Z.tooltip,children:Q("nav-offers")})]})]},n)}))}),Object.entries(Me).length>0&&(0,M.jsx)("ul",{className:T,children:Object.keys(Me).map((function(e){return Me[e].length>0?(0,M.jsx)("li",{children:Q(Me[e])},e):null}))})]})]})]}),"loading"===de&&(0,M.jsx)(w.Z,{allowCancel:!1}),"loading"===fe&&(0,M.jsx)(w.Z,{allowCancel:!1}),"loading"===he&&(0,M.jsx)(w.Z,{allowCancel:!1}),("loading"===ce||"loading"===Te)&&(0,M.jsx)(w.Z,{allowCancel:!1}),"succeeded"===se&&(0,M.jsx)(_.Z,{bgColor:S.wL.SUCCEEDED_COLOR,foreColor:"#fff",actionAfterTimeout:function(){$((0,m.s4)())},children:(0,M.jsx)("p",{children:Q("add-item-succeeded")})}),"succeeded"===ce&&(0,M.jsx)(_.Z,{bgColor:S.wL.SUCCEEDED_COLOR,foreColor:"#fff",actionAfterTimeout:function(){$((0,m.uM)())},children:(0,M.jsx)("p",{children:Q("update-item-succeeded")})}),ve&&(0,M.jsx)(b.Z,{item:Ve,close:function(){return xe(!1)}}),be&&(0,M.jsx)(g.Z,{token:oe,item:Ve,warehouseId:we,allowEdit:Ee,close:function(){ge(!1),Ce(""),Se(!1)},afterUpdateOffer:Qe}),qe&&(0,M.jsx)(k.Z,{header:"info"===J?"update-item":"add-item",cancelLabel:"cancel-label",okLabel:"ok-label",closeModal:function(){Oe(!1)},small:!0,okModal:function(){var e={};if(0===Ve.name.length&&(e.name="enter-item-trade-name"),0!==Ve.price&&Ve.price||(e.price="enter-price"),0!==Ve.customer_price&&Ve.customer_price||(e.customer_price="enter-customer-price"),0===Object.entries(e).length){if(!te)return void $((0,v.Rb)());var n=(0,i.Z)({},Ve);"new"===J?(n=(0,i.Z)((0,i.Z)({},n),{},{company:ne}),$((0,m.jX)({obj:n,token:oe})).then(u.SI).then((function(e){K.push({pathname:"/item",state:{from:z,type:"info",allowAction:X,itemId:e.data.item._id,companyId:ne,warehouseId:ae}})})).catch((function(){}))):"info"===J&&(n=(0,i.Z)((0,i.Z)({},n),{},{_id:ee}),$((0,m.$G)({obj:n,token:oe})).then((function(){Oe(!1)})).catch((function(){Oe(!1)})))}else Pe((0,i.Z)({},e)),Oe(!1)},children:"info"===J?(0,M.jsx)("p",{children:Q("update-item-confirm-msg")}):(0,M.jsx)("p",{children:Q("add-item-confirm-msg")})})]}):(0,M.jsx)(s.l_,{to:"/signin"})}},2810:function(e,n,a){var t;a.d(n,{Z:function(){return u}});var i=new Uint8Array(16);function r(){if(!t&&!(t="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(i)}var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var l=function(e){return"string"===typeof e&&o.test(e)},s=[],c=0;c<256;++c)s.push((c+256).toString(16).substr(1));var d=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(s[e[n+0]]+s[e[n+1]]+s[e[n+2]]+s[e[n+3]]+"-"+s[e[n+4]]+s[e[n+5]]+"-"+s[e[n+6]]+s[e[n+7]]+"-"+s[e[n+8]]+s[e[n+9]]+"-"+s[e[n+10]]+s[e[n+11]]+s[e[n+12]]+s[e[n+13]]+s[e[n+14]]+s[e[n+15]]).toLowerCase();if(!l(a))throw TypeError("Stringified UUID is invalid");return a};var u=function(e,n,a){var t=(e=e||{}).random||(e.rng||r)();if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,n){a=a||0;for(var i=0;i<16;++i)n[a+i]=t[i];return n}return d(t)}}}]);
//# sourceMappingURL=89.446af0dd.chunk.js.map