"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[124],{3566:function(e,n,t){t.d(n,{Z:function(){return r}});t(2791);var c=t(3168),s=t(1968),a=t.n(s),i=t(3585),o="loader_loader__qZv+U",l=t(3329);var r=function(e){var n=e.color,t=(0,c.$)().t;return(0,l.jsxs)("div",{className:o,style:{color:n||i.wL.SECONDARY_COLOR},children:[(0,l.jsx)(a(),{type:"bars",height:75,width:75,color:n||i.wL.SECONDARY_COLOR}),(0,l.jsx)("p",{children:t("loading-data")})]})}},6124:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var c=t(885),s=t(2791),a=t(3168),i=t(6030),o=t(2200),l=t(3541),r=t(7425),u=t(6856),d=t(7500),m=t(1061),h=t(9942),x=t(3585),f=t(3329);var j=function(e){var n=e.isNew,t=e.setIsNew,c=(0,a.$)().t,s=(0,i.I0)(),j=(0,i.v9)(l.rK),_=function(){s((0,o.cC)({token:j}))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(m.Z,{children:[(0,f.jsx)("h2",{children:c("nav-advertise")}),n&&(0,f.jsx)("div",{style:{position:"absolute",top:"16px",left:"42px"},children:(0,f.jsx)(d.Z,{selected:!1,foreColor:x.wL.SECONDARY_COLOR,tooltip:c("refresh-tooltip"),onclick:function(){_()},icon:function(){return(0,f.jsx)(r.PwW,{})}})})]}),(0,f.jsx)("div",{className:[h.Z.actions,h.Z.margin_v_4].join(" "),children:!n&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.Z,{selected:!1,foreColor:x.wL.SECONDARY_COLOR,tooltip:c("new-advertisement"),onclick:function(){t(!0)},icon:function(){return(0,f.jsx)(u.NcC,{size:20})},withBackground:!0}),(0,f.jsx)(d.Z,{selected:!1,foreColor:x.wL.SECONDARY_COLOR,tooltip:c("refresh-tooltip"),onclick:function(){_()},icon:function(){return(0,f.jsx)(r.PwW,{})},withBackground:!0})]})})]})},_=t(8785),v=t(1176),p=t(2982),C=t(4569),w=t.n(C),g=t(8489),L=t(3575),O=t(3566),Z=t(4373),N=t(6053),E={search_container:"select-partner-modal_search_container__X5Syf",search_input:"select-partner-modal_search_input__IVAlg",company_row:"select-partner-modal_company_row__BKU0e"};var R=function(e){var n=e.data,t=e.select;return(0,f.jsxs)("div",{className:E.company_row,children:[(0,f.jsx)("p",{className:E.company_name,children:n.name}),(0,f.jsx)(d.Z,{icon:function(){return(0,f.jsx)(N.PgY,{})},foreColor:x.wL.SUCCEEDED_COLOR,onclick:function(){t(n)}})]})},k=function(e){var n=e.close,t=e.chooseAction,o=e.url,r=e.header,u=(0,a.$)().t,d=(0,i.v9)(l.rK),m=(0,s.useState)(""),j=(0,c.Z)(m,2),_=j[0],C=j[1],N=(0,s.useState)([]),k=(0,c.Z)(N,2),S=k[0],D=k[1],b=(0,s.useState)(!1),y=(0,c.Z)(b,2),A=y[0],F=y[1],I=(0,s.useState)(1),z=(0,c.Z)(I,2),U=z[0],Y=z[1],K=(0,s.useState)(0),P=(0,c.Z)(K,2),T=P[0],B=P[1],$=(0,s.useCallback)((function(e){try{F(!0);var n="";_.trim().length>0&&(n="&name=".concat(_.trim())),w().get("".concat(o,"&page=").concat(e).concat(n),{headers:{Authorization:"Bearer ".concat(d)}}).then((function(n){D(1===e?n.data.data.users:[].concat((0,p.Z)(S),(0,p.Z)(n.data.data.users))),B(n.data.count),F(!1),Y(e+1)}))}catch(t){}}),[S,_,d,o]),X=function(e){t(e),n()};return(0,s.useEffect)((function(){$(1)}),[]),(0,f.jsx)(g.Z,{header:u(r),cancelLabel:"cancel-label",closeModal:n,small:!0,children:A?(0,f.jsx)(O.Z,{}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:[E.search_container,h.Z.flex_center_container].join(" "),children:[(0,f.jsx)(Z.FKI,{color:x.wL.SECONDARY_COLOR,size:24}),(0,f.jsx)("input",{className:E.search_input,placeholder:u("enter-company-name"),value:_,onChange:function(e){return C(e.target.value)},onKeyDown:function(e){"Enter"===e.code&&$(1),"Escape"!==e.code&&e.stopPropagation()}}),(0,f.jsx)(v.Z,{text:"search",action:function(){$(1)},bgColor:x.wL.SECONDARY_COLOR})]}),(0,f.jsxs)("div",{style:{maxHeight:"300px",overflow:"auto"},children:[(null===S||void 0===S?void 0:S.length)>0&&S.map((function(e){return(0,f.jsx)(R,{data:e,select:X},e._id)})),0===S.length&&0===_.length&&(0,f.jsx)(L.Z,{msg:u("search-for-company")}),0===S.length&&0!==_.length&&(0,f.jsx)(L.Z,{msg:u("search-empty")})]}),S.length<T&&(0,f.jsx)("div",{className:h.Z.padding_v_6,children:(0,f.jsx)(v.Z,{text:"more",action:function(){$(U)},bgColor:x.wL.SECONDARY_COLOR})})]})})},S=t(5861),D=t(7757),b=t.n(D),y={search_container:"select-medicine-modal_search_container__pdObl",search_input:"select-medicine-modal_search_input__+nLqw",item_row:"select-medicine-modal_item_row__4Do0R",item_name:"select-medicine-modal_item_name__CFbG1",small:"select-medicine-modal_small__ID-Uy"};var A=function(e){var n=e.data,t=e.select;return(0,f.jsxs)("div",{className:y.item_row,children:[(0,f.jsx)("p",{className:y.item_name,children:n.name}),(0,f.jsx)("p",{className:[y.small].join(" "),children:n.caliber}),(0,f.jsx)("p",{className:[y.small].join(" "),children:n.packing}),(0,f.jsx)(d.Z,{icon:function(){return(0,f.jsx)(N.PgY,{})},foreColor:x.wL.SUCCEEDED_COLOR,onclick:function(){t(n)}})]})},F=function(e){var n=e.close,t=e.chooseAction,o=e.url,r=(0,a.$)().t,u=(0,i.v9)(l.rK),d=(0,s.useState)(""),m=(0,c.Z)(d,2),j=m[0],_=m[1],C=(0,s.useState)([]),N=(0,c.Z)(C,2),E=N[0],R=N[1],k=(0,s.useState)(!1),D=(0,c.Z)(k,2),F=D[0],I=D[1],z=(0,s.useState)(1),U=(0,c.Z)(z,2),Y=U[0],K=U[1],P=(0,s.useState)(0),T=(0,c.Z)(P,2),B=T[0],$=T[1],X=(0,s.useCallback)(function(){var e=(0,S.Z)(b().mark((function e(n){var t,c;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I(!0),t="",j.trim().length>0&&(t="&itemName=".concat(j.trim())),e.next=6,w().get("".concat(o,"&page=").concat(n).concat(t),{headers:{Authorization:"Bearer ".concat(u)}});case 6:c=e.sent,R(1===n?c.data.data.items:[].concat((0,p.Z)(E),(0,p.Z)(c.data.data.items))),$(c.data.count),I(!1),K(n+1),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n){return e.apply(this,arguments)}}(),[E,j,u,o]),q=function(e){t(e),n()};return(0,s.useEffect)((function(){X(1)}),[]),(0,f.jsx)(g.Z,{header:"choose-item",cancelLabel:"cancel-label",closeModal:n,small:!0,children:F?(0,f.jsx)(O.Z,{}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:[y.search_container,h.Z.flex_center_container].join(" "),children:[(0,f.jsx)(Z.FKI,{color:x.wL.SECONDARY_COLOR,size:24}),(0,f.jsx)("input",{className:y.search_input,placeholder:r("enter-item-trade-name"),value:j,onChange:function(e){return _(e.target.value)},onKeyDown:function(e){"Enter"===e.code&&X(1),"Escape"!==e.code&&e.stopPropagation()}}),(0,f.jsx)(v.Z,{text:"search",action:function(){X(1)},bgColor:x.wL.SECONDARY_COLOR})]}),(0,f.jsxs)("div",{style:{maxHeight:"300px",overflow:"auto"},children:[(null===E||void 0===E?void 0:E.length)>0&&E.map((function(e){return(0,f.jsx)(A,{data:e,select:q},e._id)})),0===E.length&&0===j.length&&(0,f.jsx)(L.Z,{msg:r("search-for-item")}),0===E.length&&0!==j.length&&(0,f.jsx)(L.Z,{msg:r("search-empty")})]}),E.length<B&&(0,f.jsx)("div",{className:h.Z.padding_v_6,children:(0,f.jsx)(v.Z,{text:"more",action:function(){X(Y)},bgColor:x.wL.SECONDARY_COLOR})})]})})},I=t(9488),z=t(7692),U="new-advertisement_new_advertisement_div__2EKiP",Y="new-advertisement_content__-qzdA",K="new-advertisement_links_container__1Oxgf",P="new-advertisement_img__9D4pP",T="new-advertisement_image__uUaUy",B="new-advertisement_actions__-gfB1",$="new-advertisement_links__2xT1r",X="new-advertisement_delete__q6nXX",q="new-advertisement_row__O0lWG";var H=function(e){var n=e.isNew,t=e.setIsNew,m=(0,a.$)().t,h=(0,s.useRef)(null),j=(0,i.I0)(),p=(0,i.v9)(l.tT).token,C=(0,s.useState)(null),w=(0,c.Z)(C,2),g=w[0],L=w[1],O=(0,s.useState)(null),Z=(0,c.Z)(O,2),N=Z[0],E=Z[1],R=(0,s.useState)(null),S=(0,c.Z)(R,2),D=S[0],b=S[1],y=(0,s.useState)(null),A=(0,c.Z)(y,2),K=A[0],X=A[1],H=(0,s.useState)(!1),M=(0,c.Z)(H,2),W=M[0],G=M[1],V=(0,s.useState)(!1),J=(0,c.Z)(V,2),Q=J[0],ee=J[1],ne=(0,s.useState)(!1),te=(0,c.Z)(ne,2),ce=te[0],se=te[1],ae=(0,s.useState)(""),ie=(0,c.Z)(ae,2),oe=ie[0],le=ie[1],re=function(){t(!1),L(null),E(null),b(null),X(null)},ue=function(){h.current.click()};return(0,f.jsxs)("div",{children:[n&&(0,f.jsxs)("div",{className:U,style:{marginBottom:"10px"},children:[(0,f.jsxs)("div",{className:Y,children:[(0,f.jsxs)("div",{className:$,children:[(0,f.jsxs)("div",{className:q,children:[(0,f.jsxs)("label",{children:[m("company"),":"]}),null===g?(0,f.jsx)(d.Z,{selected:!1,foreColor:x.wL.SUCCEEDED_COLOR,onclick:function(){G(!0)},icon:function(){return(0,f.jsx)(u.NcC,{size:24})}}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{children:g.name}),(0,f.jsx)(d.Z,{selected:!1,foreColor:x.wL.FAILED_COLOR,onclick:function(){L(null)},icon:function(){return(0,f.jsx)(r.w6k,{size:24})}})]})]}),(0,f.jsxs)("div",{className:q,children:[(0,f.jsxs)("label",{children:[m("warehouse"),":"]}),null===N?(0,f.jsx)(d.Z,{selected:!1,foreColor:x.wL.SUCCEEDED_COLOR,onclick:function(){ee(!0)},icon:function(){return(0,f.jsx)(u.NcC,{size:24})}}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{children:N.name}),(0,f.jsx)(d.Z,{selected:!1,foreColor:x.wL.FAILED_COLOR,onclick:function(){E(null)},icon:function(){return(0,f.jsx)(r.w6k,{size:24})}})]})]}),(0,f.jsxs)("div",{className:q,children:[(0,f.jsxs)("label",{children:[m("single-item"),":"]}),null===D?(0,f.jsx)(d.Z,{selected:!1,foreColor:x.wL.SUCCEEDED_COLOR,onclick:function(){se(!0)},icon:function(){return(0,f.jsx)(u.NcC,{size:24})}}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{children:D.name}),(0,f.jsx)(d.Z,{selected:!1,foreColor:x.wL.FAILED_COLOR,onclick:function(){b(null)},icon:function(){return(0,f.jsx)(r.w6k,{size:24})}})]})]}),(0,f.jsxs)("div",{className:q,children:[(0,f.jsxs)("label",{children:[m("image-label"),":"]}),null===K?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.Z,{selected:!1,foreColor:x.wL.SUCCEEDED_COLOR,onclick:ue,icon:function(){return(0,f.jsx)(u.NcC,{size:24})}}),(0,f.jsx)("input",{multiple:!1,accept:"image/*",ref:h,type:"file",onChange:function(e){e.target.files&&e.target.files.length>0&&X(e.target.files[0])},style:{display:"none"}})]}):(0,f.jsx)(d.Z,{icon:function(){return(0,f.jsx)(r.w6k,{size:24})},selected:!1,foreColor:x.wL.FAILED_COLOR,onclick:function(){return X(null)}})]})]}),(0,f.jsx)("div",{className:P,children:K?(0,f.jsx)("img",{src:URL.createObjectURL(K),className:T,alt:"Thumb"}):(0,f.jsx)("div",{children:(0,f.jsx)(z.ntj,{size:128,color:x.wL.SECONDARY_COLOR,onClick:ue,style:{cursor:"pointer"}})})})]}),(0,f.jsxs)("div",{className:B,children:[(0,f.jsx)(v.Z,{action:function(){if(K){if(K){var e=new FormData;e.append("name","".concat(Date.now(),".").concat(K.name.split(".").pop())),e.append("company",g?g._id:null),e.append("warehouse",N?N._id:null),e.append("medicine",D?D._id:null),e.append("file",K),j((0,o.Xi)({data:e,token:p})).then(_.SI).then((function(){re()}))}}else le("choose-image-msg")},text:m("add-label"),bgColor:x.wL.SUCCEEDED_COLOR}),(0,f.jsx)(v.Z,{action:re,text:m("cancel-label"),bgColor:x.wL.FAILED_COLOR})]})]}),oe&&(0,f.jsx)(I.Z,{bgColor:x.wL.FAILED_COLOR,foreColor:"#fff",toastText:m(oe),actionAfterTimeout:function(){le("")}}),W&&(0,f.jsx)(k,{header:"choose-company",close:function(){return G(!1)},chooseAction:function(e){return function(e){L(e),E(null),b(null)}(e)},url:"".concat(x.Hc,"/users?limit=9&isActive=true&isApproved=true&type=company")}),Q&&(0,f.jsx)(k,{header:"choose-warehouse",close:function(){return ee(!1)},chooseAction:function(e){return function(e){E(e),L(null),b(null)}(e)},url:"".concat(x.Hc,"/users?limit=9&isActive=true&isApproved=true&type=warehouse")}),ce&&(0,f.jsx)(F,{close:function(){return se(!1)},chooseAction:function(e){return function(e){b(e),E(null),L(null)}(e)},url:"".concat(x.Hc,"/items?limit=9&isActive=true")})]})},M=t(2541);var W=function(e){var n,t,u,d=e.advertisement,m=(0,a.$)().t,h=(0,i.I0)(),j=(0,i.v9)(l.rK),_=(0,s.useState)(!1),v=(0,c.Z)(_,2),p=v[0],C=v[1];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:U,children:(0,f.jsxs)("div",{className:Y,children:[(0,f.jsx)("div",{className:$,children:(0,f.jsxs)("div",{className:K,children:[d.company&&(0,f.jsxs)("div",{className:q,children:[(0,f.jsxs)("label",{children:[m("company"),":"]}),(0,f.jsx)("p",{children:null===(n=d.company)||void 0===n?void 0:n.name})]}),d.warehouse&&(0,f.jsxs)("div",{className:q,children:[(0,f.jsxs)("label",{children:[m("warehouse"),":"]}),(0,f.jsx)("p",{children:null===(t=d.warehouse)||void 0===t?void 0:t.name})]}),d.medicine&&(0,f.jsxs)("div",{className:q,children:[(0,f.jsxs)("label",{children:[m("item-name"),":"]}),(0,f.jsx)("p",{children:null===(u=d.medicine)||void 0===u?void 0:u.name})]}),(0,f.jsx)("div",{className:X,onClick:function(){C(!0)},children:(0,f.jsx)(r.w6k,{})})]})}),(0,f.jsx)("div",{className:P,children:(0,f.jsx)("img",{src:"".concat(x.LB,"/").concat(d.logo_url),className:T,alt:"Thumb"})})]})}),p&&(0,f.jsx)(g.Z,{header:"delete-advertisement",cancelLabel:"close-label",okLabel:"ok-label",closeModal:function(){C(!1)},small:!0,okModal:function(){C(!1),h((0,o.Xx)({id:d._id,token:j}))},color:x.wL.FAILED_COLOR,children:(0,f.jsx)("p",{children:m("delete-advertisement-confirm-msg")})})]})};var G=function(e){var n=e.onSelectedChange,t=(0,a.$)().t,r=(0,i.I0)(),u=(0,i.v9)(l.rK),d=(0,i.v9)(o.RP),m=d.status,_=d.error,v=d.advertisements,p=(0,s.useState)(!1),C=(0,c.Z)(p,2),w=C[0],g=C[1];return(0,s.useEffect)((function(){window.scrollTo(0,0),0===(null===v||void 0===v?void 0:v.length)&&r((0,o.cC)({token:u})),n()}),[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:h.Z.container,children:[(0,f.jsx)(j,{isNew:w,setIsNew:g}),(0,f.jsx)(H,{isNew:w,setIsNew:g}),v.map((function(e){return(0,f.jsx)(W,{advertisement:e},e._id)}))]}),"loading"===m&&(0,f.jsx)(M.Z,{allowCancel:!0,onclick:function(){(0,o.iX)()}}),_&&(0,f.jsx)(I.Z,{bgColor:x.wL.FAILED_COLOR,foreColor:"#fff",toastText:t(_),actionAfterTimeout:function(){return r((0,o.q$)())}})]})}}}]);
//# sourceMappingURL=124.6a8164b5.chunk.js.map