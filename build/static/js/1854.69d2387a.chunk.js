"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[1854],{8845:function(n,e,t){t.d(e,{Z:function(){return s}});var o=t(885),r=t(2791),i=t(9126),a={small_font:"card-info_small_font__AusTH",card:"card-info_card__VcLb9",header:"card-info_header__uTcny",expanded:"card-info_expanded__IDH-A",warning:"card-info_warning__bmiK1"},l=t(3329);var s=function(n){var e=n.headerTitle,t=n.children,s=n.type,c=(0,r.useState)(!0),u=(0,o.Z)(c,2),d=u[0],_=u[1];return(0,l.jsxs)("div",{className:[a.card,"warning"===s?a.warning:null].join(" "),children:[(0,l.jsxs)("div",{onClick:function(){return _(!d)},className:[a.header,"warning"===s?a.warning:null,d?a.expanded:null].join(" "),children:[(0,l.jsx)("p",{children:e}),(0,l.jsx)("label",{className:a.header_label,onClick:function(){return _(!d)},children:d?(0,l.jsx)(i.jnn,{}):(0,l.jsx)(i.F0C,{})})]}),d&&(0,l.jsx)("div",{children:t})]})}},4960:function(n,e,t){t.d(e,{Z:function(){return a}});t(2791);var o="custom-checkbox_container__xRmIL",r="custom-checkbox_checkmark__Sr2i9",i=t(3329),a=function(n){var e=n.label,t=n.value,a=n.changeHandler;return(0,i.jsxs)("div",{className:o,onClick:a,children:[(0,i.jsx)("input",{type:"checkbox",checked:t,value:t,onChange:function(){a()}}),(0,i.jsx)("span",{className:r}),(0,i.jsx)("label",{children:e})]})}},1230:function(n,e,t){t.d(e,{Z:function(){return w}});var o=t(1413),r=t(885),i=t(2791),a=t(3168),l=t(7117),s=t(8820),c=t(6355),u=t(1648),d=t(4960),_=t(6670),f=t(9883),m=t(6030),p=t(8218),h=t(6201),v=t(3541),x=t(6481),j={small_font:"partner-row_small_font__PJv1q",container:"partner-row_container__IgdQk",full_width_container:"partner-row_full_width_container__dgwvB",fast_deliver_div:"partner-row_fast_deliver_div__zaZgo",point_sys_label:"partner-row_point_sys_label__fpi2Y",without_box_shadow:"partner-row_without_box_shadow__EUT2K",name:"partner-row_name__7Tav0",content:"partner-row_content__LbV16",label_with_input_div:"partner-row_label_with_input_div__C0tM3",btn:"partner-row_btn__gBUX8",small_label:"partner-row_small_label__lxVoI",center_label:"partner-row_center_label__sQqTD",bottomBorder:"partner-row_bottomBorder__cwQ3x"},y=t(3585),b=t(3329);var w=function(n){var e=n.partner,t=n.fullWidth,w=n.withoutBoxShadow,C=n.withoutDeliverOption,k=n.onSelectAction,Z=n.addPartnerToFavoriteHandler,g=n.addCompanyToOurCompaniesHandler,N=n.removePartnerFromFavoriteHandler,A=n.removeCompanyFromOurCompaniesHandler,W=n.partnerRowClickHandler,H=(0,a.$)().t,O=(0,m.I0)(),I=(0,m.v9)(x.vi).settings.showWarehouseItem,S=(0,m.v9)(h.oT),P=(0,m.v9)(h.GI),T=(0,m.v9)(v.tT),M=T.user,R=T.token,E=(0,i.useState)(!1),F=(0,r.Z)(E,2),D=F[0],L=F[1],U=(0,i.useState)(!1),q=(0,r.Z)(U,2),Y=q[0],B=q[1],V=(0,i.useState)(!1),G=(0,r.Z)(V,2),z=G[0],$=G[1],K=(0,i.useState)(!1),Q=(0,r.Z)(K,2),J=Q[0],X=Q[1],nn=M.type===y.Wl.ADMIN||e.type===y.Wl.COMPANY||e.type===y.Wl.WAREHOUSE&&I&&e.allowShowingMedicines;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:[t?j.full_width_container:j.container,w?j.without_box_shadow:""].join(" "),children:[(0,b.jsxs)("div",{className:j.content,children:[(0,b.jsx)("label",{className:j.name,onClick:function(){!0&&(k&&k(),W(nn))},children:e.name}),M.type===y.Wl.ADMIN&&e.type===y.Wl.WAREHOUSE&&!C&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(_.Z,{}),(0,b.jsxs)("div",{className:j.label_with_input_div,children:[(0,b.jsx)("label",{className:j.small_label,children:H("deliver cost")}),(0,b.jsxs)("button",{onClick:function(){return L(!0)},className:j.btn,children:[e.costOfDeliver," %"]})]}),(0,b.jsx)(_.Z,{}),(0,b.jsxs)("div",{className:j.label_with_input_div,children:[(0,b.jsx)("label",{className:j.small_label,children:H("minimum invoice cost")}),(0,b.jsx)("button",{className:j.btn,onClick:function(){return B(!0)},children:e.invoiceMinTotal})]}),(0,b.jsx)(_.Z,{}),(0,b.jsxs)("div",{className:j.label_with_input_div,children:[(0,b.jsx)(d.Z,{label:H("this warehouse supports the points system"),value:e.includeInPointSystem,changeHandler:function(){return function(){var n={includeInPointSystem:!e.includeInPointSystem};e.includeInPointSystem&&(n=(0,o.Z)((0,o.Z)({},n),{},{pointForAmount:0,amountToGetPoint:0})),O((0,p.Nq)({body:n,userId:e._id,token:R}))}()}}),e.includeInPointSystem&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("button",{className:j.btn,style:{margin:"0 6px"},onClick:function(){return X(!0)},children:[H("every")," ",e.amountToGetPoint]}),(0,b.jsx)("label",{className:j.center_label,children:H("get")}),(0,b.jsxs)("button",{className:j.btn,onClick:function(){return $(!0)},children:[e.pointForAmount," ",H("point")]})]})]}),(0,b.jsx)(_.Z,{}),(0,b.jsx)(d.Z,{label:H("fast deliver"),value:e.fastDeliver,changeHandler:function(){O((0,p.Nq)({body:{fastDeliver:!e.fastDeliver},userId:e._id,token:R}))}}),(0,b.jsx)(_.Z,{}),(0,b.jsx)(d.Z,{label:H("show cash on receipt"),value:e.payAtDeliver,changeHandler:function(){O((0,p.Nq)({body:{payAtDeliver:!e.payAtDeliver},userId:e._id,token:R}))}})]}),e.type===y.Wl.WAREHOUSE&&M.type===y.Wl.PHARMACY&&e.includeInPointSystem&&e.pointForAmount&&e.amountToGetPoint&&(0,b.jsx)("div",{className:j.point_sys_label,children:(0,b.jsxs)("label",{children:[H("number of points that you get when buy from warehouse")," ",H("every")," ",e.amountToGetPoint," ",H("get")," ",e.pointForAmount," ",H("point")]})}),e.type===y.Wl.WAREHOUSE&&M.type===y.Wl.PHARMACY&&e.fastDeliver&&(0,b.jsxs)("div",{className:j.fast_deliver_div,style:{display:"flex",alignItems:"center"},children:[(0,b.jsx)("img",{src:l,alt:"tumb",style:{width:"32px",height:"32px"}}),(0,b.jsx)("label",{children:H("fast deliver")})]})]}),(0,b.jsxs)("div",{className:j.actions_div,children:[M.type===y.Wl.WAREHOUSE&&e.type===y.Wl.COMPANY?(0,b.jsx)("div",{children:M.ourCompanies.includes(e._id)?(0,b.jsx)(f.Z,{icon:function(){return(0,b.jsx)(c.mwf,{size:24})},onclick:A,foreColor:y.wL.FAILED_COLOR,tooltip:H("remove company from warehouse")}):(0,b.jsx)(f.Z,{icon:function(){return(0,b.jsx)(c.Cq,{size:24})},onclick:g,foreColor:y.wL.SUCCEEDED_COLOR,tooltip:H("add company to warehouse")})}):(0,b.jsx)(b.Fragment,{}),(0,b.jsx)("div",{children:""===P?S&&S.map((function(n){return n._id})).includes(e._id)?(0,b.jsx)(f.Z,{icon:function(){return(0,b.jsx)(s.pHD,{size:24})},onclick:N,foreColor:y.wL.YELLOW_COLOR,tooltip:H("remove from favorites")}):(0,b.jsx)(f.Z,{icon:function(){return(0,b.jsx)(s.y5j,{size:24})},onclick:Z,foreColor:y.wL.YELLOW_COLOR,tooltip:H("add to favorites")}):null})]})]}),D&&(0,b.jsx)(u.Z,{closeModal:function(){return L(!1)},value:e.costOfDeliver,min:0,max:1,step:.1,okModal:function(n){return function(n){n<0||n>1||(O((0,p.Nq)({body:{costOfDeliver:n},userId:e._id,token:R})),L(!1))}(n)}}),Y&&(0,b.jsx)(u.Z,{closeModal:function(){return B(!1)},value:e.invoiceMinTotal,min:0,max:1e6,step:1e3,okModal:function(n){return function(n){n<0||(O((0,p.Nq)({body:{invoiceMinTotal:n},userId:e._id,token:R})),B(!1))}(n)}}),J&&(0,b.jsx)(u.Z,{closeModal:function(){return X(!1)},value:e.amountToGetPoint,min:0,max:1e6,step:1e3,okModal:function(n){return function(n){n<0||(O((0,p.Nq)({body:{amountToGetPoint:n},userId:e._id,token:R})),X(!1))}(n)}}),z&&(0,b.jsx)(u.Z,{closeModal:function(){return $(!1)},value:e.pointForAmount,min:0,max:1e6,step:1e3,okModal:function(n){return function(n){n<0||(O((0,p.Nq)({body:{pointForAmount:n},userId:e._id,token:R})),$(!1))}(n)}})]})}},1648:function(n,e,t){t.d(e,{Z:function(){return u}});var o=t(885),r=t(2791),i=t(3168),a=t(3585),l=t(7207),s={small_font:"change-quantity-modal_small_font__NZ-cZ",input:"change-quantity-modal_input__mDnux",error:"change-quantity-modal_error__emgp-"},c=t(3329),u=function(n){var e=n.okModal,t=n.value,u=n.closeModal,d=n.min,_=n.max,f=n.step,m=(0,i.$)().t,p=(0,r.useState)(t),h=(0,o.Z)(p,2),v=h[0],x=h[1],j=(0,r.useState)(!1),y=(0,o.Z)(j,2),b=y[0],w=y[1],C=(0,r.useRef)();return(0,r.useEffect)((function(){C.current.focus()}),[]),(0,c.jsx)(l.Z,{header:m("enter value"),closeModal:u,cancelLabel:m("cancel"),okLabel:m("ok"),small:!0,okModal:function(){v?v<d||v>_?w(!0):e(v):w(!0)},children:(0,c.jsx)("input",{className:[s.input,b?s.error:""].join(" "),onKeyPress:a.I0,value:v,onChange:function(n){return function(n){x(n.target.value),w(!1)}(n)},type:"number",min:d,max:_,step:f,ref:C})})}},1854:function(n,e,t){t.r(e);var o=t(2791),r=t(3168),i=t(9271),a=t(6030),l=t(6201),s=t(3541),c=t(6425),u=t(3229),d=t(2541),_=t(394),f=t(1230),m=t(8845),p=t(1061),h=t(3585),v=t(9104),x=t(3329);e.default=function(n){var e=n.onSelectedChange,t=(0,i.k6)(),j=(0,r.$)().t,y=(0,a.I0)(),b=(0,a.v9)(s.tT),w=b.user,C=b.token,k=(0,a.v9)(l.Tc),Z=k.favorites_partners,g=k.favorites_items,N=k.status,A=(0,a.v9)(c.VY);return(0,o.useEffect)((function(){window.scrollTo(0,0),e()}),[]),w?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(p.Z,{refreshHandler:function(){y((0,l.iF)()),y((0,l._l)({token:C}))},title:"favorites"}),(0,x.jsxs)(u.Z,{children:[(0,x.jsxs)("div",{children:[(0,x.jsx)(m.Z,{headerTitle:j("nav items"),children:g&&g.map((function(n,e){return(0,x.jsx)(_.Z,{item:n,index:e,showComposition:!0},n._id)}))}),(0,x.jsx)(m.Z,{headerTitle:j("companies"),children:Z&&Z.filter((function(n){return n.type===h.Wl.COMPANY})).map((function(n){return(0,x.jsx)(f.Z,{fullWidth:!0,partner:n,withoutBoxShadow:!0,addPartnerToFavoriteHandler:function(){return(0,v.Vl)(n,A,y,C,w)},addCompanyToOurCompaniesHandler:function(){return(0,v.R9)(n,A,y,C)},removeCompanyFromOurCompaniesHandler:function(){(0,v.ql)(n,A,y,C)},removePartnerFromFavoriteHandler:function(){(0,v.Bd)(n,A,y,C)},partnerRowClickHandler:function(e){return(0,v.Vt)(n,e,w,y,C,t)}},n._id)}))}),(w.type===h.Wl.ADMIN||w.type===h.Wl.PHARMACY||w.type===h.Wl.COMPANY)&&(0,x.jsx)(m.Z,{headerTitle:j("warehouses"),children:Z&&Z.filter((function(n){return n.type===h.Wl.WAREHOUSE})).map((function(n){return(0,x.jsx)(f.Z,{partner:n,fullWidth:!0,withoutBoxShadow:!0,withoutDeliverOption:!0,addPartnerToFavoriteHandler:function(){return(0,v.Vl)(n,A,y,C,w)},addCompanyToOurCompaniesHandler:function(){return(0,v.R9)(n,y,C)},removeCompanyFromOurCompaniesHandler:function(){(0,v.ql)(n,A,y,C)},removePartnerFromFavoriteHandler:function(){(0,v.Bd)(n,A,y,C)},partnerRowClickHandler:function(e){return(0,v.Vt)(n,e,w,y,C,t)}},n._id)}))})]}),"loading"===N&&(0,x.jsx)(d.Z,{allowCancel:!1})]})]}):(0,x.jsx)(i.l_,{to:"/signin"})}},9104:function(n,e,t){t.d(e,{Vl:function(){return p},R9:function(){return h},ql:function(){return v},Bd:function(){return x},Vt:function(){return j},ao:function(){return y}});var o=t(5861),r=t(4687),i=t.n(r),a=t(8785),l=t(3541),s=t(6201),c=t(6523),u=t(6425),d=t(3994),_=t(4569),f=t.n(_),m=t(3585),p=function(n,e,t,o,r){e?t((0,s.a3)({obj:{favoriteId:n._id},token:o})).then(a.SI).then((function(){t((0,d.F$)({obj:{sourceUser:r._id,targetUser:n._id,action:"user-added-to-favorite"},token:o}))})).catch((function(){})):t((0,u.Rb)())},h=function(n,e,t,o){e?t((0,l.Nu)({companyId:n._id,token:o})).then(a.SI).then((function(){})).catch((function(){})):t((0,u.Rb)())},v=function(n,e,t,o){e?t((0,l.RH)({companyId:n._id,token:o})).then(a.SI).then((function(){})).catch((function(){})):t((0,u.Rb)())},x=function(n,e,t,o){e?t((0,s.Ni)({obj:{favoriteId:n._id},token:o})).then(a.SI).then((function(){})).catch((function(){})):t((0,u.Rb)())},j=function(n,e,t,o,r,i){(n.type!==m.Wl.WAREHOUSE||t.type!==m.Wl.WAREHOUSE&&t.type!==m.Wl.COMPANY&&t.type!==m.Wl.GUEST)&&e&&(t.type===m.Wl.PHARMACY&&o((0,d.F$)({obj:{sourceUser:t._id,targetUser:n._id,action:"choose-company"},token:r})),o((0,c.Pl)()),n.type===m.Wl.COMPANY&&o((0,c.Ww)(n._id)),n.type===m.Wl.WAREHOUSE&&o((0,c.yT)(n._id)),i.push({pathname:"/medicines",state:{myCompanies:n.ourCompanies}}))},y=function(){var n=(0,o.Z)(i().mark((function n(e,t){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=4;break}return n.next=3,f().post("".concat(m.Hc,"/users/delete-image"),e,{headers:{Authorization:"Bearer ".concat(t)}});case 3:n.sent;case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}]);
//# sourceMappingURL=1854.69d2387a.chunk.js.map