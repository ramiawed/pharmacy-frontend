"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[321],{3575:function(n,e,t){t(2791);var o=t(9942),r=t(3329);e.Z=function(n){var e=n.msg;return(0,r.jsx)("div",{className:[o.Z.no_content_div,o.Z.fc_white].join(" "),children:(0,r.jsx)("p",{className:o.Z.fc_white,children:e})})}},553:function(n,e,t){t.d(e,{Z:function(){return w}});var o=t(885),r=t(2791),i=t(3168),c=t(9271),a=t(733),s=t(1176),l=t(8820),d=t(4651),u=t(8785),_=t(6030),h=t(6201),f=t(3541),p=t(3994),j=t(6425),x=t(6481),m=t(6523),v=t(9942),g={partner_container:"partner-card_partner_container__VB59l",full_width:"partner-card_full_width__CUiS6",partner_logo:"partner-card_partner_logo__zh12g",partner_name:"partner-card_partner_name__jXB4j",from_top:"partner-card_from_top__OssbS",name:"partner-card_name__xgWNa"},Z=t(3585),C=t(3329);var w=function(n){var e,t=n.partner,w=n.fullWidth,y=(0,i.$)().t,O=(0,c.k6)(),k=(0,_.I0)(),E=(0,_.v9)(x.vi).settings.showWarehouseItem,b=(0,_.v9)(j.VY),R=(0,_.v9)(h.oT),L=(0,_.v9)(h.GI),N=(0,_.v9)(f.tT),W=N.token,A=N.user,S=(0,r.useState)(!1),H=(0,o.Z)(S,2),T=H[0],U=H[1],I=A.type===Z.Wl.ADMIN||t.type===Z.Wl.COMPANY||t.type===Z.Wl.WAREHOUSE&&E&&t.allowShowingMedicines;return(0,C.jsxs)("div",{className:[g.partner_container,w?g.full_width:""].join(" "),children:[(0,C.jsx)("p",{className:g.partner_name,children:t.name}),(null===(e=t.logo_url)||void 0===e?void 0:e.length)>0?(0,C.jsx)("img",{src:"".concat(Z.LB,"/profiles/").concat(t.logo_url),className:g.partner_logo,alt:"thumb"}):(0,C.jsx)("img",{src:a,className:g.partner_logo,alt:"thumb"}),(0,C.jsxs)("div",{className:g.from_top,children:[""===L?T?(0,C.jsx)("div",{className:[v.Z.icon,v.Z.fc_yellow].join(" "),children:(0,C.jsx)(d.H_P,{className:v.Z.loading,size:20})}):(0,C.jsx)("div",{className:[v.Z.icon,v.Z.fc_yellow].join(" "),children:R&&R.map((function(n){return n._id})).includes(t._id)?(0,C.jsx)(l.pHD,{size:24,onClick:function(){b?(U(!0),k((0,h.Ni)({obj:{favoriteId:t._id},token:W})).then(u.SI).then((function(){T(!1)})).catch((function(){return U(!1)}))):k((0,j.Rb)())}}):(0,C.jsx)(l.y5j,{size:24,onClick:function(){b?(U(!0),k((0,h.a3)({obj:{favoriteId:t._id},token:W})).then(u.SI).then((function(){U(!1),k((0,p.ji)({obj:{partnerId:t._id},token:W})),k((0,p.F$)({obj:{sourceUser:A._id,targetUser:t._id,action:"user-added-to-favorite"},token:W}))})).catch((function(){U(!1)}))):k((0,j.Rb)())}})}):null,(t.type===Z.Wl.COMPANY||t.type===Z.Wl.WAREHOUSE&&A.type!==Z.Wl.WAREHOUSE)&&(0,C.jsx)("div",{children:(0,C.jsx)(s.Z,{action:function(){t.type===Z.Wl.WAREHOUSE&&A.type===Z.Wl.WAREHOUSE||I&&(A.type!==Z.Wl.PHARMACY&&A.type!==Z.Wl.GUEST||(k((0,p.bD)({obj:{companyId:t._id},token:W})),k((0,p.F$)({obj:{sourceUser:A._id,targetUser:t._id,action:"choose-company"},token:W}))),k((0,m.Pl)()),t.type===Z.Wl.COMPANY&&k((0,m.HN)(t.name)),t.type===Z.Wl.WAREHOUSE&&k((0,m.jY)(t.name)),O.push("/medicines"))},text:y("medicines"),bgColor:Z.wL.FAILED_COLOR})})]})]})}},6824:function(n,e,t){var o=t(885),r=t(2791),i=t(3168),c=t(4651),a=t(6349),s=t(9942),l=t(3329);e.Z=function(n){var e=n.children,t=n.searchAction,d=(0,i.$)().t,u=r.Children.toArray(e),_=(0,r.useState)(!1),h=(0,o.Z)(_,2),f=h[0],p=h[1];return(0,l.jsx)("div",{className:[a.Z.search_container,a.Z.expanded,f?a.Z.expanded_with_options:""].join(" "),children:(0,l.jsx)("div",{className:a.Z.expanded_div,children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{style:{flex:1},children:[u[0],f&&u.length>1?u.map((function(n,e){return e>0?n:null})):null,f&&(0,l.jsx)("button",{onClick:function(){t(),p(!1)},style:{marginBlockStart:"4px",marginInline:"auto",width:"50%"},className:[s.Z.button,s.Z.bg_main,s.Z.fc_white,s.Z.block,s.Z.padding_v_6,s.Z.padding_h_8].join(" "),children:d("search")})]}),u.length>1&&(0,l.jsx)("div",{className:[s.Z.icon].join(" "),onClick:function(){return p(!f)},children:(0,l.jsx)(c.P66,{})}),1===u.length&&(0,l.jsx)("div",{className:[s.Z.icon,s.Z.margin_h_4].join(" "),onClick:function(){t(),p(!1)},children:(0,l.jsx)("button",{className:[s.Z.button,s.Z.bg_secondary,s.Z.fc_white,s.Z.block,s.Z.padding_v_6,s.Z.padding_h_8].join(" "),children:d("search")})})]})})})}},2235:function(n,e,t){t.d(e,{Z:function(){return s}});t(2791);var o=t(3168),r=t(8820),i="search-input_input_div__4KoDe",c="search-input_icon_close__TC1nF",a=t(3329);var s=function(n){var e=n.type,t=n.label,s=n.id,l=n.value,d=n.onchange,u=n.placeholder,_=n.onEnterPress,h=n.resetField,f=n.onkeyup,p=(0,o.$)().t;return(0,a.jsxs)("div",{className:i,children:[t&&(0,a.jsx)("label",{htmlFor:s,children:p(t)}),(0,a.jsx)("input",{placeholder:u?p("".concat(u)):"",id:s,type:e,value:l,onChange:d,onKeyPress:function(n){"Enter"===n.key&&_&&_()},onKeyUp:f&&f}),h&&l&&(0,a.jsx)(r.LHV,{onClick:function(){return h(s)},className:c})]})}},4321:function(n,e,t){t.r(e),t.d(e,{default:function(){return A}});var o=t(885),r=t(2791),i=t(3168),c=t(9271),a=t(1968),s=t.n(a),l=t(125),d=t(553),u=t(1176),_=t(9488),h=t(3575),f=t(6030),p=t(8218),j=t(6201),x=t(6824),m=t(2235),v=t(7500),g=t(670),Z=t(7425),C=t(8820),w=t(6355),y=t(4651),O=t(4373),k=t(9942),E=t(3585),b=t(3329);var R=function(n){var e=n.search,t=n.refreshHandler,o=(n.count,(0,i.$)().t),r=(0,c.k6)(),a=(0,f.I0)(),s=(0,f.v9)(p.T),d=s.searchName,u=s.searchCity,_=s.displayType,h=s.showFavorites,R=(0,f.v9)(j.oT);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(x.Z,{searchAction:e,children:[(0,b.jsx)(m.Z,{label:"user-name",id:"search-name",type:"text",value:d,onchange:function(n){a((0,p.ut)(n.target.value))},placeholder:"search",onEnterPress:e,resetField:function(){return a((0,p.ut)(""))}}),(0,b.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",backgroundColor:E.wL.WHITE_COLOR,borderRadius:"6px"},children:(0,b.jsx)(g.Z,{onSelectionChange:function(n){a((0,p.TH)(n))},defaultValue:{value:u,label:o(u.toLowerCase())},caption:"user-city"})})]}),(0,b.jsxs)("div",{className:[k.Z.actions,k.Z.margin_v_4].join(" "),children:[(0,b.jsx)(v.Z,{foreColor:E.wL.GREY_COLOR,tooltip:o("refresh-tooltip"),onclick:t,icon:function(){return(0,b.jsx)(Z.PwW,{})},withBackground:!0}),(d.length>0||u!==E.zx.ALL)&&(0,b.jsx)(v.Z,{selected:!1,foreColor:E.wL.GREY_COLOR,tooltip:o("clear-filter-tooltip"),onclick:function(){a((0,p.yp)()),t(),a((0,p.bV)(!1))},icon:function(){return(0,b.jsx)(y.jTJ,{})},withBackground:!0}),(0,b.jsxs)("div",{className:k.Z.relative,children:[(0,b.jsx)(v.Z,{foreColor:h?E.wL.SUCCEEDED_COLOR:E.wL.GREY_COLOR,tooltip:o("show-favorite-tooltip"),onclick:function(){return a((0,p.bV)(!h))},icon:function(){return(0,b.jsx)(C.pHD,{})},withBackground:!0}),h&&(0,b.jsx)("div",{className:[k.Z.favorites_content,k.Z.bg_white].join(" "),children:h&&R.filter((function(n){return n.type===E.Wl.WAREHOUSE})).map((function(n){return(0,b.jsx)(l.Z,{partner:n,withoutBoxShadow:!0},n._id)}))})]}),(0,b.jsx)(v.Z,{foreColor:"card"===_?E.wL.SUCCEEDED_COLOR:E.wL.GREY_COLOR,tooltip:o("show-item-as-card-tooltip"),onclick:function(){a((0,p.m1)("card")),a((0,p.bV)(!1))},icon:function(){return(0,b.jsx)(C.sF$,{})},withBackground:!0}),(0,b.jsx)(v.Z,{foreColor:"list"===_?E.wL.SUCCEEDED_COLOR:E.wL.GREY_COLOR,tooltip:o("show-item-as-row-tooltip"),onclick:function(){a((0,p.m1)("list")),a((0,p.bV)(!1))},icon:function(){return(0,b.jsx)(w.hON,{})},withBackground:!0}),(0,b.jsx)(v.Z,{withBackground:!0,tooltip:o("go-back"),onclick:function(){r.goBack()},icon:function(){return(0,b.jsx)(O.D_,{})},foreColor:E.wL.GREY_COLOR})]})]})},L=t(8785),N=t(3541),W=t(6425);var A=function(n){var e=n.onSelectedChange,t=(0,i.$)().t,a=(0,f.I0)(),x=(0,f.v9)(W.VY),m=(0,f.v9)(N.tT),v=m.token,g=m.user,Z=(0,f.v9)(p.op),C=Z.warehouses,w=Z.count,y=Z.status,O=Z.error,A=(0,f.v9)(p.T),S=A.displayType,H=A.page,T=(0,f.v9)(j.Tc).error,U=(0,r.useState)(T),I=(0,o.Z)(U,2),D=I[0],Y=I[1],P=function(n){a((0,p.bV)()),g.type!==E.Wl.PHARMACY&&g.type!==E.Wl.GUEST&&g.type!==E.Wl.WAREHOUSE||a((0,p.TH)(g.city)),a((0,p.aM)({token:v})).then(L.SI).then((function(){a((0,p.oO)(n+1))}))};return(0,r.useEffect)((function(){return 0===C.length&&P(1),window.scrollTo(0,0),e(),function(){(0,p.iX)()}}),[]),!g||g.type!==E.Wl.ADMIN&&g.type!==E.Wl.PHARMACY&&g.type!==E.Wl.COMPANY?(0,b.jsx)(c.l_,{to:"/"}):(0,b.jsxs)("div",{className:k.Z.container,children:[(0,b.jsx)(R,{count:w,search:function(){a((0,p.cs)()),a((0,p.oO)(1)),P(1)},refreshHandler:function(){a((0,j.iF)()),a((0,j._l)({token:v})),a((0,p.cs)()),a((0,p.oO)(1)),P(1)}}),"list"===S&&C.map((function(n){return(0,b.jsx)(l.Z,{partner:n},n._id)})),"card"===S&&(0,b.jsx)("div",{className:[k.Z.flex_container,k.Z.margin_top_10].join(" "),children:C.map((function(n){return(0,b.jsx)(d.Z,{partner:n},n._id)}))}),0===C.length&&"loading"!==y&&(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(h.Z,{msg:t("no-warehouses")})}),"loading"===y&&(0,b.jsx)("div",{className:k.Z.flex_container,children:(0,b.jsx)(s(),{color:E.wL.SECONDARY_COLOR,type:"cylon"})}),C.length<w&&(0,b.jsx)(u.Z,{text:t("more"),action:function(){x?P(H):a((0,W.Rb)())},bgColor:E.wL.SECONDARY_COLOR}),C.length===w&&"loading"!==y&&0!==w&&(0,b.jsx)("p",{className:[k.Z.center,k.Z.fc_secondary].join(" "),children:t("no-more")}),O&&(0,b.jsx)(_.Z,{bgColor:E.wL.FAILED_COLOR,foreColor:"#fff",actionAfterTimeout:function(){a((0,p.PU)())},children:t(O)}),D&&(0,b.jsx)(_.Z,{bgColor:E.wL.FAILED_COLOR,foreColor:"#fff",actionAfterTimeout:function(){Y("")},children:t(T)})]})}},6349:function(n,e){e.Z={search_container:"search-container_search_container__6isGM",expanded:"search-container_expanded__79n+k",expanded_div:"search-container_expanded_div__Hmmm1",checkbox_div:"search-container_checkbox_div__RPj5T"}}}]);
//# sourceMappingURL=321.fc8350d0.chunk.js.map