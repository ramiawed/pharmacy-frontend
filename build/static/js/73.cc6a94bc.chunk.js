(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[73],{3575:function(e,n,l){"use strict";l(2791);var a=l(9942),t=l(3329);n.Z=function(e){var n=e.msg;return(0,t.jsx)("div",{className:[a.Z.no_content_div,a.Z.fc_white].join(" "),children:(0,t.jsx)("p",{className:a.Z.fc_white,children:n})})}},4293:function(e,n,l){"use strict";l.d(n,{Z:function(){return k}});var a=l(4942),t=l(1413),i=l(2982),r=l(885),s=l(2791),o=l(3168),c=l(2810),u=l(6030),d=l(6154),m=l(8489),h=l(7425),f=l(6856),_=l(9942),x="multi-value_container__efvXg",p="multi-value_row__CgABK",b="multi-value_header__sV-dg",j="multi-value_input_div__4ZhqR",g=l(3585),v=l(3329);var y=function(e){var n=e.addHandler,l=e.deleteHandler,a=e.values,t=e.changeHandler,i=e.placeholder,r=e.quantityLabel,s=e.bonusLabel,c=e.afterQuantityLabel,u=e.afterBonusLabel,d=e.allowEdit,m=(0,o.$)().t;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:b,children:d&&(0,v.jsxs)("div",{className:[_.Z.icon,_.Z.fc_green,_.Z.margin_h_auto].join(" "),children:[(0,v.jsx)(f.NcC,{size:36,onClick:function(e){n(),e.stopPropagation()}}),(0,v.jsx)("div",{className:_.Z.tooltip,children:m("add-offer-tooltip")})]})}),(0,v.jsx)("div",{className:x,children:a.map((function(e){return(0,v.jsxs)("div",{className:p,children:[(0,v.jsxs)("div",{className:j,children:[r&&(0,v.jsx)("label",{children:r}),(0,v.jsx)("input",{id:e.key,title:"qty",value:e.value.qty,onChange:function(e){return t(e)},placeholder:i,onKeyPress:g.I0,disabled:!d}),c&&(0,v.jsx)("label",{children:c})]}),(0,v.jsxs)("div",{className:j,children:[s&&(0,v.jsx)("label",{children:s}),(0,v.jsx)("input",{id:e.key,title:"bonus",value:e.value.bonus,onChange:function(e){return t(e)},placeholder:i,disabled:!d}),u&&(0,v.jsx)("label",{children:u})]},e.key),d&&(0,v.jsxs)("div",{className:[_.Z.icon,_.Z.fc_red].join(" "),children:[(0,v.jsx)(h.w6k,{size:20,onClick:function(){return l(e.key)}}),(0,v.jsx)("div",{className:_.Z.tooltip,children:m("remove-offer-tooltip")})]})]},e.key)}))})]})},Z="offers-modal_checkboxes_div__jHFjO",C="offers-modal_offer_type_checkbox__6qdXR",N=l(8785);var k=function(e){var n,l=e.item,h=e.warehouseId,x=e.close,p=e.token,b=e.allowEdit,j=e.afterUpdateOffer,k=(0,o.$)().t,w=(0,u.I0)(),E=l.warehouses.find((function(e){return e.warehouse._id===h})).offer,I=(0,s.useState)(!1),A=(0,r.Z)(I,2),W=A[0],O=A[1],R=(0,s.useState)(E.mode===g.Hg.PIECES),L=(0,r.Z)(R,2),S=L[0],F=L[1],M=(0,s.useState)(E.mode===g.Hg.PERCENTAGE),P=(0,r.Z)(M,2),H=P[0],D=P[1],U=(0,s.useState)((null===(n=E.offers)||void 0===n?void 0:n.length)>0?E.offers.map((function(e){return{value:{qty:e.qty,bonus:e.bonus},key:e._id}})):[]),Y=(0,r.Z)(U,2),T=Y[0],q=Y[1];return(0,v.jsxs)(m.Z,{header:"nav-offers",cancelLabel:"close-label",okLabel:"add-label",closeModal:x,okModal:b?function(){!function(){if(S||H){var e=T.filter((function(e){return 0!==e.value.bonus||e.value.qty})).sort((function(e,n){return e.value.qty>n.value.qty?-1:e.value.qty<n.value.qty?1:0})).map((function(e){return{qty:e.value.qty,bonus:e.value.bonus}})),n={mode:0===e.length?"":S?g.Hg.PIECES:g.Hg.PERCENTAGE,offers:e};w((0,d.Ex)({obj:{itemId:l._id,warehouseId:h,offer:n},token:p})).then(N.SI).then((function(){return j&&j()})),x()}else O(!0)}()}:null,small:!0,children:[b&&T.length>0&&(0,v.jsxs)("div",{className:Z,children:[(0,v.jsxs)("label",{children:[k("offer-type"),":"]}),(0,v.jsxs)("div",{className:C,children:[(0,v.jsx)("input",{type:"checkbox",value:S,checked:S,onChange:function(){F(!S),D(!1),O(!1)}}),(0,v.jsx)("label",{children:k(g.Hg.PIECES)})]}),(0,v.jsxs)("div",{className:C,children:[(0,v.jsx)("input",{type:"checkbox",value:H,checked:H,onChange:function(){D(!H),F(!1),O(!1)}}),(0,v.jsx)("label",{children:k(g.Hg.PERCENTAGE)})]}),W&&(0,v.jsx)(f.wr$,{color:g.wL.FAILED_COLOR,size:24})]}),0===T.length&&(0,v.jsx)("p",{className:[_.Z.center,_.Z.fc_secondary].join(" "),children:k("no-offers")}),(0,v.jsx)(y,{allowEdit:b,values:T,addHandler:function(){return q([].concat((0,i.Z)(T),[{value:{qty:0,bonus:0},key:(0,c.Z)()}]))},deleteHandler:function(e){var n=T.filter((function(n){return n.key!==e}));q(n)},changeHandler:function(e){var n=T.map((function(n){return n.key===e.target.id?(0,t.Z)((0,t.Z)({},n),{},{value:(0,t.Z)((0,t.Z)({},n.value),{},(0,a.Z)({},e.target.title,1*(0,g.F8)(e.target.value)))}):n}));q(n)},quantityLabel:k("quantity-label"),bonusLabel:S?k("bonus-quantity-label"):H?k("bonus-percentage-label"):null,afterQuantityLabel:k("after-quantity-label"),afterBonusLabel:S?k("after-bonus-quantity-label"):H?k("after-bonus-percentage-label"):null})]})}},6824:function(e,n,l){"use strict";var a=l(885),t=l(2791),i=l(3168),r=l(4651),s=l(6349),o=l(9942),c=l(3329);n.Z=function(e){var n=e.children,l=e.searchAction,u=(0,i.$)().t,d=t.Children.toArray(n),m=(0,t.useState)(!1),h=(0,a.Z)(m,2),f=h[0],_=h[1];return(0,c.jsx)("div",{className:[s.Z.search_container,s.Z.expanded,f?s.Z.expanded_with_options:""].join(" "),children:(0,c.jsx)("div",{className:s.Z.expanded_div,children:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{style:{flex:1},children:[d[0],f&&d.length>1?d.map((function(e,n){return n>0?e:null})):null,f&&(0,c.jsx)("button",{onClick:function(){l(),_(!1)},style:{marginBlockStart:"4px",marginInline:"auto",width:"50%"},className:[o.Z.button,o.Z.bg_main,o.Z.fc_white,o.Z.block,o.Z.padding_v_6,o.Z.padding_h_8].join(" "),children:u("search")})]}),d.length>1&&(0,c.jsx)("div",{className:[o.Z.icon].join(" "),onClick:function(){return _(!f)},children:(0,c.jsx)(r.P66,{})}),1===d.length&&(0,c.jsx)("div",{className:[o.Z.icon,o.Z.margin_h_4].join(" "),onClick:function(){l(),_(!1)},children:(0,c.jsx)("button",{className:[o.Z.button,o.Z.bg_secondary,o.Z.fc_white,o.Z.block,o.Z.padding_v_6,o.Z.padding_h_8].join(" "),children:u("search")})})]})})})}},2235:function(e,n,l){"use strict";l.d(n,{Z:function(){return o}});l(2791);var a=l(3168),t=l(8820),i="search-input_input_div__4KoDe",r="search-input_icon_close__TC1nF",s=l(3329);var o=function(e){var n=e.type,l=e.label,o=e.id,c=e.value,u=e.onchange,d=e.placeholder,m=e.onEnterPress,h=e.resetField,f=e.onkeyup,_=(0,a.$)().t;return(0,s.jsxs)("div",{className:i,children:[l&&(0,s.jsx)("label",{htmlFor:o,children:_(l)}),(0,s.jsx)("input",{placeholder:d?_("".concat(d)):"",id:o,type:n,value:c,onChange:u,onKeyPress:function(e){"Enter"===e.key&&m&&m()},onKeyUp:f&&f}),h&&c&&(0,s.jsx)(t.LHV,{onClick:function(){return h(o)},className:r})]})}},3004:function(e,n,l){"use strict";l.d(n,{Z:function(){return i}});l(2791);var a="table-header_header__Vm2um",t=l(3329);var i=function(e){var n=e.children;return(0,t.jsx)("div",{className:a,children:n})}},4345:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return V}});var a=l(2791),t=l(3168),i=l(9271),r=l(2810),s=l(6048),o=l.n(s),c=l(885),u=l(1523),d=l(6030),m=l(3541),h=l(3268),f=l(6425),_=l(8489),x=l(4293),p=l(7500),b=l(8820),j=l(6856),g=l(7425),v=l(9942),y=l(3559),Z=l(4131),C=l(3585),N=l(4651),k=l(3329),w=function(e,n){if(n.type===C.Wl.COMPANY)return!1;var l=!1;return n.type===C.Wl.WAREHOUSE&&e.warehouses.filter((function(e){return e.warehouse._id===n._id})).forEach((function(e){e.offer.offers.length>0&&(l=!0)})),n.type===C.Wl.ADMIN&&e.warehouses.forEach((function(e){e.offer.offers.length>0&&(l=!0)})),l};var E=function(e){var n=e.item,l=e.user,i=(e.company,e.warehouse),r=e.role,s=e.changeItemMaxQty,o=e.deleteItemFromWarehouse,E=(0,t.$)().t,I=(0,d.I0)(),A=(0,d.v9)(f.VY),W=(0,d.v9)(m.tT).token,O=(0,a.useState)({}),R=(0,c.Z)(O,2),L=R[0],S=R[1],F=(0,a.useState)(!1),M=(0,c.Z)(F,2),P=M[0],H=M[1],D=(0,a.useState)(!1),U=(0,c.Z)(D,2),Y=U[0],T=U[1],q=(0,a.useState)(!1),B=(0,c.Z)(q,2),$=B[0],G=B[1],K=(0,a.useState)(!1),z=(0,c.Z)(K,2),Q=z[0],V=z[1],X=(0,a.useState)(!1),J=(0,c.Z)(X,2),ee=J[0],ne=J[1],le=(0,a.useState)(i?n.warehouses.find((function(e){return e.warehouse._id===i._id})).maxQty:0),ae=(0,c.Z)(le,2),te=ae[0],ie=ae[1],re=function(e){S("delete"===e?{header:"item-delete-header",body:"item-delete-confirm-message",action:"delete"}:{header:"item-undo-delete-header",body:"item-undo-delete-confirm-message",action:"undo-delete"}),H(!0)};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:Z.Z.container,style:{backgroundColor:w(n,l)?C.wL.OFFER_COLOR:"#fff"},children:[(0,k.jsx)("label",{className:[Z.Z.hover_underline,y.Z.label_medium].join(" "),children:(0,k.jsx)(u.rU,{className:Z.Z.hover_underline,to:{pathname:"/item",state:{from:l.type,type:"info",allowAction:l.type===C.Wl.COMPANY||l.type===C.Wl.ADMIN&&n.company.allowAdmin,itemId:n._id,companyId:n.company._id,warehouseId:null===i||void 0===i?void 0:i._id}},children:n.name})}),(l.type===C.Wl.ADMIN&&r===C.Wl.ADMIN||l.type===C.Wl.ADMIN&&r===C.Wl.WAREHOUSE||l.type===C.Wl.WAREHOUSE)&&(0,k.jsx)("label",{className:y.Z.label_medium,children:n.company.name}),(0,k.jsx)("label",{className:[y.Z.label_small,v.Z.flex_center_container].join(" "),children:n.isActive?(0,k.jsx)(p.Z,{icon:function(){return(0,k.jsx)(b.Lk_,{})},foreColor:C.wL.SUCCEEDED_COLOR,onclick:function(e){A?l.type===C.Wl.ADMIN&&n.company.allowAdmin||l.type===C.Wl.COMPANY?re("delete"):T(!0):I((0,f.Rb)())}}):(0,k.jsx)(p.Z,{icon:function(){return(0,k.jsx)(b.oF6,{})},foreColor:C.wL.FAILED_COLOR,onclick:function(e){A?l.type===C.Wl.ADMIN&&n.company.allowAdmin||l.type===C.Wl.COMPANY?re("undo-delete"):T(!0):I((0,f.Rb)())}})}),(0,k.jsx)("label",{className:y.Z.label_small,children:n.formula}),(0,k.jsx)("label",{className:y.Z.label_small,children:n.caliber}),(0,k.jsx)("label",{className:y.Z.label_small,children:n.packing}),(0,k.jsx)("label",{className:y.Z.label_small,children:n.price}),(0,k.jsx)("label",{className:y.Z.label_small,children:n.customer_price}),(l.type===C.Wl.ADMIN&&r===C.Wl.WAREHOUSE||l.type===C.Wl.WAREHOUSE)&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("label",{className:y.Z.label_small,children:(0,k.jsx)("input",{className:Z.Z.input,onKeyPress:C.I0,value:te,onChange:function(e){var n=Number.parseInt((0,C.F8)(e.target.value));ie(isNaN(n)?"":n)},onBlur:function(e){return s({itemId:n._id,warehouseId:i._id,qty:Number.parseInt(te)})},disabled:l.type===C.Wl.ADMIN&&r===C.Wl.WAREHOUSE&&!(null!==i&&void 0!==i&&i.allowAdmin)||!A})}),(0,k.jsx)("label",{className:[y.Z.label_xsmall,v.Z.flex_center_container].join(" "),children:ee?(0,k.jsx)(p.Z,{icon:function(){return(0,k.jsx)(N.H_P,{className:v.Z.loading,size:24})},onclick:function(){},foreColor:C.wL.FAILED_COLOR}):(0,k.jsx)(p.Z,{icon:function(){return(0,k.jsx)(g.w6k,{size:20})},onclick:function(e){A?l.type===C.Wl.ADMIN&&r===C.Wl.WAREHOUSE&&i.allowAdmin||l.type===C.Wl.WAREHOUSE?V(!0):T(!0):I((0,f.Rb)())},foreColor:C.wL.FAILED_COLOR})}),(0,k.jsx)("label",{className:y.Z.label_xsmall,children:(0,k.jsx)(p.Z,{icon:function(){return(0,k.jsx)(j.Rtn,{size:20})},tooltip:E("nav-offers"),foreColor:w(n,l)?C.wL.SUCCEEDED_COLOR:C.wL.SECONDARY_COLOR,onclick:function(){G(!0)}})})]})]}),P&&(0,k.jsx)(_.Z,{header:E(L.header),cancelLabel:E("cancel-label"),okLabel:E("ok-label"),okModal:function(){A?(I((0,h.ng)({obj:{itemId:n._id,action:L.action},token:W})),H(!1),S({})):I((0,f.Rb)())},closeModal:function(){return H(!1)},small:!0,children:(0,k.jsx)("p",{children:E(L.body)})}),Y&&(0,k.jsx)(_.Z,{header:E("warning"),cancelLabel:E("cancel-label"),closeModal:function(){return T(!1)},small:!0,warning:!0,children:(0,k.jsx)("p",{children:E("dont-have-permission")})}),$&&(0,k.jsx)(x.Z,{token:W,item:n,warehouseId:i._id,close:function(){return G(!1)},allowEdit:l.type===C.Wl.WAREHOUSE||l.type===C.Wl.ADMIN&&r===C.Wl.WAREHOUSE&&i.allowAdmin,afterUpdateOffer:function(){return I((0,h.Ko)({_id:n._id,token:W}))}}),Q&&(0,k.jsx)(_.Z,{header:E("item-delete-header"),cancelLabel:E("cancel-label"),okLabel:E("ok-label"),okModal:function(){A?(o({itemId:n._id,warehouseId:i._id,city:i.city}),V(!1)):I((0,f.Rb)()),ne(!0)},closeModal:function(){V(!1),ne(!1)},small:!0,children:(0,k.jsx)("p",{children:E("item-delete-from-warehouse")})})]})},I=l(9488),A=l(3575),W=l(3004),O=l(6036);var R=function(e){var n=e.user,l=e.role,a=e.sortNameField,i=e.sortCaliberField,r=e.sortPriceField,s=e.sortCustomerPriceField,o=e.pageState,c=(0,t.$)().t,u=(0,d.I0)();return(0,k.jsxs)(W.Z,{children:[(0,k.jsxs)("label",{className:[y.Z.label_medium,v.Z.flex_center_container].join(" "),onClick:function(){0===o.sortNameField?(u((0,h.Ss)(1)),u((0,h.I5)("name"))):1===o.sortNameField?(u((0,h.Ss)(-1)),u((0,h.I5)("-name"))):(u((0,h.Ss)(0)),u((0,h.I5)(""))),u((0,h.b2)(0)),u((0,h.YT)(0)),u((0,h.C6)(0))},children:[c("item-trade-name"),1===a&&(0,k.jsx)(b.i4I,{style:{marginRight:"4px"}}),-1===a&&(0,k.jsx)(b.BwW,{style:{marginRight:"4px"}}),0===a&&(0,k.jsx)(O.CFC,{style:{marginRight:"4px"}})]}),(n.type===C.Wl.ADMIN&&l===C.Wl.ADMIN||n.type===C.Wl.ADMIN&&l===C.Wl.WAREHOUSE||n.type===C.Wl.WAREHOUSE)&&(0,k.jsx)("label",{className:y.Z.label_medium,children:c("user-company-name")}),(0,k.jsx)("label",{className:y.Z.label_small,children:c("item-status")}),(0,k.jsx)("label",{className:y.Z.label_small,children:c("item-formula")}),(0,k.jsxs)("label",{className:[y.Z.label_small,v.Z.flex_center_container].join(" "),onClick:function(){0===o.sortCaliberField?(u((0,h.b2)(1)),u((0,h.I5)("caliber"))):1===o.sortCaliberField?(u((0,h.b2)(-1)),u((0,h.I5)("-caliber"))):(u((0,h.b2)(0)),u((0,h.I5)(""))),u((0,h.Ss)(0)),u((0,h.YT)(0)),u((0,h.C6)(0))},children:[c("item-caliber"),1===i&&(0,k.jsx)(b.i4I,{style:{marginRight:"4px"}}),-1===i&&(0,k.jsx)(b.BwW,{style:{marginRight:"4px"}}),0===i&&(0,k.jsx)(O.CFC,{style:{marginRight:"4px"}})]}),(0,k.jsx)("label",{className:y.Z.label_small,children:c("item-packing")}),(0,k.jsxs)("label",{className:[y.Z.label_small,v.Z.flex_center_container].join(" "),onClick:function(){0===o.sortPriceField?(u((0,h.YT)(1)),u((0,h.I5)("price"))):1===o.sortPriceField?(u((0,h.YT)(-1)),u((0,h.I5)("-price"))):(u((0,h.YT)(0)),u((0,h.I5)(""))),u((0,h.Ss)(0)),u((0,h.b2)(0)),u((0,h.C6)(0))},children:[c("item-price"),1===r&&(0,k.jsx)(b.i4I,{style:{marginRight:"4px"}}),-1===r&&(0,k.jsx)(b.BwW,{style:{marginRight:"4px"}}),0===r&&(0,k.jsx)(O.CFC,{style:{marginRight:"4px"}})]}),(0,k.jsxs)("label",{className:[y.Z.label_small,v.Z.flex_center_container].join(" "),onClick:function(){0===o.sortCustomerPriceField?(u((0,h.C6)(1)),u((0,h.I5)("customer_price"))):1===o.sortCustomerPriceField?(u((0,h.C6)(-1)),u((0,h.I5)("-customer_price"))):(u((0,h.C6)(0)),u((0,h.I5)(""))),u((0,h.Ss)(0)),u((0,h.b2)(0)),u((0,h.YT)(0))},children:[c("item-customer-price"),1===s&&(0,k.jsx)(b.i4I,{style:{marginRight:"4px"}}),-1===s&&(0,k.jsx)(b.BwW,{style:{marginRight:"4px"}}),0===s&&(0,k.jsx)(O.CFC,{style:{marginRight:"4px"}})]}),(n.type===C.Wl.ADMIN&&l===C.Wl.WAREHOUSE||n.type===C.Wl.WAREHOUSE)&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("label",{className:y.Z.label_small,children:c("item-max-qty")}),(0,k.jsx)("label",{className:y.Z.label_xsmall}),(0,k.jsx)("label",{className:y.Z.label_xsmall})]})]})},L=l(2541),S=l(6824),F=l(2235),M=l(5861),P=l(7757),H=l.n(P),D=l(4569),U=l.n(D),Y=l(4802),T=l(8484),q=function(e){var n=e.url,l=e.fileName,a=(0,t.$)().t,i=(0,d.v9)(m.rK),r=function(){var e=(0,M.Z)(H().mark((function e(l){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U().get(n,{headers:{Authorization:"Bearer ".concat(i)}}).then((function(e){var n={Sheets:{data:T.utils.json_to_sheet(e.data.data.items)},SheetNames:["data"]},a=T.write(n,{bookType:"xlsx",type:"array"}),t=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});Y.saveAs(t,l+".xlsx")}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,k.jsx)(p.Z,{selected:!1,foreColor:C.wL.SECONDARY_COLOR,tooltip:a("export-items"),icon:function(){return(0,k.jsx)(g.Qup,{})},onclick:function(e){return r(l)},withBackground:!0})},B=l(978),$=l(6349);var G=function(e){var n=e.user,l=(e.role,e.warehouse,e.count,e.company),a=e.pageState,r=e.search,s=(0,t.$)().t,o=(0,d.I0)(),c=(0,i.k6)();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(S.Z,{searchAction:r,children:[(0,k.jsx)(F.Z,{label:"item-name",id:"item-name",type:"text",value:a.searchName,onchange:function(e){return o((0,h.$p)(e.target.value))},placeholder:"search",onEnterPress:r,resetField:function(){o((0,h.$p)(""))}}),(n.type===C.Wl.WAREHOUSE||n.type===C.Wl.ADMIN&&a.role!==C.Wl.COMPANY)&&(0,k.jsx)(F.Z,{label:"item-company",id:"item-company",type:"text",value:a.searchCompanyName,onchange:function(e){return o((0,h.HN)(e.target.value))},placeholder:"search",onEnterPress:r,resetField:function(){o((0,h.HN)(""))}}),(n.type===C.Wl.COMPANY||n.type===C.Wl.ADMIN&&a.role!==C.Wl.WAREHOUSE)&&(0,k.jsx)(F.Z,{label:"item-warehouse",id:"item-warehouse",type:"text",value:a.searchWarehouseName,onchange:function(e){return o((0,h.jY)(e.target.value))},placeholder:"search",onEnterPress:r,resetField:function(){o((0,h.jY)(""))}}),(0,k.jsxs)("div",{className:$.Z.checkbox_div,children:[(0,k.jsx)("input",{type:"checkbox",checked:a.searchDeletedItems,onChange:function(){o((0,h.Xp)(!a.searchDeletedItems)),o((0,h.fM)(!1))}}),(0,k.jsx)("label",{children:s("deleted-items")})]}),(0,k.jsxs)("div",{className:$.Z.checkbox_div,children:[(0,k.jsx)("input",{type:"checkbox",checked:a.searchActiveItems,onChange:function(){o((0,h.Xp)(!1)),o((0,h.fM)(!a.searchActiveItems))}}),(0,k.jsx)("label",{children:s("active-items")})]}),n.type!==C.Wl.WAREHOUSE&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:$.Z.checkbox_div,children:[(0,k.jsx)("input",{type:"checkbox",checked:a.searchInWarehouse,onChange:function(){o((0,h.yU)(!a.searchInWarehouse)),o((0,h.Zf)(!1))}}),(0,k.jsx)("label",{children:s("warehouse-in-warehouse")})]}),(0,k.jsxs)("div",{className:$.Z.checkbox_div,children:[(0,k.jsx)("input",{type:"checkbox",checked:a.searchOutWarehouse,onChange:function(){o((0,h.yU)(!1)),o((0,h.Zf)(!a.searchOutWarehouse))}}),(0,k.jsx)("label",{children:s("warehouse-out-warehouse")})]})]})]}),(0,k.jsx)("div",{className:v.Z.actions,children:n.type===C.Wl.COMPANY||n.type===C.Wl.ADMIN&&null!==l&&l.allowAdmin?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(p.Z,{foreColor:C.wL.GREY_COLOR,selected:!1,icon:function(){return(0,k.jsx)(g.PwW,{})},tooltip:s("refresh-tooltip"),onclick:r,withBackground:!0}),(0,k.jsx)(p.Z,{foreColor:C.wL.GREY_COLOR,selected:!1,icon:function(){return(0,k.jsx)(g.OlE,{})},tooltip:s("add-item"),onclick:function(){c.push("/item",{from:n.type,type:"new",allowAction:!0,itemId:null,companyId:n.type===C.Wl.COMPANY?n._id:l._id,warehouseId:null})},withBackground:!0}),(0,k.jsx)(p.Z,{foreColor:C.wL.GREY_COLOR,selected:!1,icon:function(){return(0,k.jsx)(B.bBH,{})},tooltip:s("items-from-excel"),onclick:function(){c.push("/items-from-excel",{companyId:n.type===C.Wl.COMPANY?n._id:l._id})},withBackground:!0}),(0,k.jsx)(q,{url:"".concat(C.Hc,"/items/allItem/").concat(n.type===C.Wl.COMPANY?n._id:l._id),fileName:"filename"})]}):(0,k.jsx)(k.Fragment,{})})]})},K=l(8785),z=l(6154),Q=l(7361);var V=function(e){var n=e.onSelectedChange,l=(0,t.$)().t,s=(0,d.v9)(m.dy),c=(0,d.v9)(f.VY),u=(0,d.I0)(),_=(0,d.v9)(h.a1),x=_.status,p=_.error,b=_.count,j=_.items,g=_.activeStatus,y=_.activeError,Z=_.pageState,N=_.changeOfferStatus,w=(0,d.v9)(z.ZR).changeOfferStatus,W=(0,d.v9)(m.rK),O=function(){u((0,h.kk)({token:W}))},S=function(e){u((0,z.LK)({obj:e,token:W})).then(K.SI).then((function(){O(Z.page)})).catch((function(){}))},F=function(e){e.qty&&u((0,z.QC)({obj:e,token:W})).then(K.SI).then((function(){O(Z.page)})).catch((function(){}))};return(0,a.useEffect)((function(){return O(),n(),function(){u((0,h.nS)())}}),[Z.sortFields,Z.warehouse,Z.role]),s?(0,k.jsxs)("div",{className:v.Z.container,style:{marginTop:"55px"},children:[(0,k.jsx)(G,{user:s,role:Z.role,warehouse:Z.warehouse,count:b,company:Z.company,pageState:Z,search:function(){u((0,h.nS)()),u((0,h.YA)(1)),O()}}),b>0&&(0,k.jsx)(R,{user:s,role:Z.role,pageState:Z,sortNameField:Z.sortNameField,sortCaliberField:Z.sortCaliberField,sortPriceField:Z.sortPriceField,sortCustomerPriceField:Z.sortCustomerPriceField}),null===j||void 0===j?void 0:j.map((function(e){return(0,k.jsx)(E,{item:e,user:s,company:Z.company,warehouse:Z.warehouse,role:Z.role,deleteItemFromWarehouse:S,changeItemMaxQty:F},(0,r.Z)())})),b>0&&c&&(0,k.jsx)(o(),{previousLabel:l("previous"),nextLabel:l("next"),pageCount:Math.ceil(b/9),forcePage:Z.page-1,onPageChange:function(e){var n=e.selected;u((0,h.YA)(n+1)),O(),window.scrollTo(0,0)},containerClassName:Q.Z.pagination,previousLinkClassName:Q.Z.pagination_link,nextLinkClassName:Q.Z.pagination_link,disabledClassName:Q.Z.pagination_link_disabled,activeClassName:Q.Z.pagination_link_active}),0===b&&"loading"!==x&&(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(A.Z,{msg:l("no-medicines")})}),"loading"===x&&(0,k.jsx)(L.Z,{allowCancel:!1}),p&&(0,k.jsx)(I.Z,{bgColor:C.wL.FAILED_COLOR,foreColor:"#fff",toastText:l(p),actionAfterTimeout:function(){return u((0,h.PU)())}}),("loading"===g||"loading"===N||"loading"===w)&&(0,k.jsx)(L.Z,{allowCancel:!1}),"succeeded"===g&&(0,k.jsx)(I.Z,{bgColor:C.wL.SUCCEEDED_COLOR,foreColor:"#fff",toastText:l("update-succeeded"),actionAfterTimeout:function(){return u((0,h.GN)())}}),y&&(0,k.jsx)(I.Z,{bgColor:C.wL.FAILED_COLOR,foreColor:"#fff",toastText:l(y),actionAfterTimeout:function(){return u((0,h.GN)())}}),"succeeded"===N&&(0,k.jsx)(I.Z,{bgColor:C.wL.SUCCEEDED_COLOR,foreColor:"#fff",toastText:l("update-succeeded"),actionAfterTimeout:function(){return u((0,h.oz)())}})]}):(0,k.jsx)(i.l_,{to:"/signin"})}},7361:function(e,n){"use strict";n.Z={pagination:"pagination_pagination__nhJuL",pagination_link_active:"pagination_pagination_link_active__p5sFm",pagination_link_disabled:"pagination_pagination_link_disabled__+CR6E"}},6349:function(e,n){"use strict";n.Z={search_container:"search-container_search_container__6isGM",expanded:"search-container_expanded__79n+k",expanded_div:"search-container_expanded_div__Hmmm1",checkbox_div:"search-container_checkbox_div__RPj5T"}},3559:function(e,n){"use strict";n.Z={label_small:"table_label_small__8-3Up",label_xsmall:"table_label_xsmall__F3kmN",label_medium:"table_label_medium__gVQ8c",label_large:"table_label_large__Yk8HG",center:"table_center__+B6kl",underline:"table_underline__PZHMx",hide_on_small:"table_hide_on_small__uIAcl",hide_on_medium:"table_hide_on_medium__HgYD8"}},5382:function(){},2095:function(){},1219:function(){}}]);
//# sourceMappingURL=73.cc6a94bc.chunk.js.map