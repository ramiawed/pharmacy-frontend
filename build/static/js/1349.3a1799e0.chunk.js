"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[1349],{6886:function(e,a,l){l.d(a,{Z:function(){return t}});var s=l(885),r=l(2791),n=l(3585),c="button-with-icon_button__Yrwl2",i=l(3329);var t=function(e){var a=e.action,l=e.text,t=e.bgColor,o=e.icon,d=(0,r.useState)(!1),m=(0,s.Z)(d,2),_=m[0],u=m[1],h=function(){u(!_)};return(0,i.jsxs)("div",{className:c,onClick:a,style:{border:"1px solid ".concat(t),backgroundColor:_?t:n.wL.WHITE_COLOR,color:_?n.wL.WHITE_COLOR:t},onMouseEnter:h,onMouseLeave:h,children:[(0,i.jsx)("p",{children:l}),o&&o()]})}},1886:function(e,a,l){l.d(a,{Z:function(){return h}});l(2791);var s=l(3168),r=l(8820),n=l(7425),c=l(7500),i=l(6030),t=l(3107),o={qty:"cart-row_qty__HdE0h",bonus_row:"cart-row_bonus_row__dM67o"},d=l(4131),m=l(3559),_=l(3585),u=l(3329);var h=function(e){var a=e.cartItem,l=e.inOrderDetails,h=(0,s.$)().t,b=(0,i.I0)();return(0,u.jsxs)("div",{className:[d.Z.container,a.bonus?o.bonus_row:""].join(" "),children:[(0,u.jsx)("label",{className:m.Z.label_medium,children:a.item.name}),(0,u.jsx)("label",{className:m.Z.label_small,children:a.item.company.name}),(0,u.jsx)("label",{className:m.Z.label_small,children:a.item.formula}),(0,u.jsxs)("label",{className:m.Z.label_small,children:[a.item.caliber," / ",a.item.packing]}),(0,u.jsxs)("label",{className:m.Z.label_small,children:[l?a.price:a.item.price," /"," ",l?a.customer_price:a.item.customer_price]}),l?(0,u.jsx)("div",{className:[m.Z.label_small,o.qty].join(" "),children:a.qty}):(0,u.jsxs)("div",{className:[m.Z.label_small,o.qty].join(" "),children:[!a.bonus&&(0,u.jsx)(r.rYR,{onClick:function(){a.qty>0&&b((0,t.WG)(a))}}),a.qty,!a.bonus&&(0,u.jsx)(r.FtK,{onClick:function(){(0!==a.warehouse.maxQty&&a.qty<a.warehouse.maxQty||0===a.warehouse.maxQty)&&b((0,t.zb)(a))}})]}),(0,u.jsxs)("label",{className:m.Z.label_xsmall,children:[a.bonus&&a.bonus," ",a.bonus?a.bonusType===_.Hg.PERCENTAGE?h("after-bonus-percentage-label"):h("after-quantity-label"):"-"]}),(0,u.jsx)("label",{className:m.Z.label_small,children:a.qty*(l?a.price:a.item.price)-(a.bonus&&a.bonusType===_.Hg.PERCENTAGE?a.qty*(l?a.price:a.item.price)*a.bonus/100:0)}),!l&&(0,u.jsx)("label",{className:m.Z.label_xsmall,children:(0,u.jsx)(c.Z,{icon:function(){return(0,u.jsx)(n.w6k,{size:20})},foreColor:_.wL.FAILED_COLOR,tooltip:h("delete-cart-row"),onclick:function(){return b((0,t.Cn)(a))}})})]})}},2888:function(e,a,l){l(2791);var s=l(3168),r=l(3004),n=l(3559),c=l(3329);a.Z=function(e){var a=e.withoutMaxQty,l=(0,s.$)().t;return(0,c.jsxs)(r.Z,{children:[(0,c.jsx)("label",{className:n.Z.label_medium,children:l("item-trade-name")}),(0,c.jsx)("label",{className:n.Z.label_small,children:l("user-company-name")}),(0,c.jsx)("label",{className:n.Z.label_small,children:l("item-formula")}),(0,c.jsxs)("label",{className:n.Z.label_small,children:[l("item-caliber"),"/",l("item-packing")]}),(0,c.jsx)("label",{className:n.Z.label_small,children:l("price")}),(0,c.jsx)("label",{className:n.Z.label_small,children:l("selected-qty")}),(0,c.jsx)("label",{className:n.Z.label_xsmall,children:l("offer-label")}),(0,c.jsx)("label",{className:n.Z.label_small,children:l("total-price")}),!a&&(0,c.jsx)("label",{className:n.Z.label_xsmall})]})}},1061:function(e,a,l){l.d(a,{Z:function(){return m}});l(2791);var s=l(3168),r=l(4373),n=l(9271),c=l(3585),i=l(7500),t="header_header__MhatS",o="header_back__wgjRV",d=l(3329);var m=function(e){var a=e.children,l=((0,s.$)().t,(0,n.k6)());return(0,d.jsxs)("div",{className:t,children:[a,(0,d.jsx)("div",{className:o,children:(0,d.jsx)(i.Z,{onclick:function(){l.goBack()},icon:function(){return(0,d.jsx)(r.D_,{})},foreColor:c.wL.WHITE_COLOR})})]})}},3575:function(e,a,l){l(2791);var s=l(9942),r=l(3126),n=l(3585),c=l(3329);a.Z=function(e){var a=e.msg;return(0,c.jsxs)("div",{className:[s.Z.no_content_div].join(" "),children:[(0,c.jsx)("img",{src:r,alt:"thumb",style:{width:"150px",height:"150px"}}),(0,c.jsx)("p",{style:{color:n.wL.MAIN_COLOR},children:a})]})}},3004:function(e,a,l){l.d(a,{Z:function(){return n}});l(2791);var s="table-header_header__Vm2um",r=l(3329);var n=function(e){var a=e.children;return(0,r.jsx)("div",{className:s,children:a})}},1349:function(e,a,l){l.r(a),l.d(a,{default:function(){return M}});var s=l(2791),r=l(9271),n=l(3168),c=l(6030),i=l(3541),t=l(3107),o=l(1061),d=l(885),m=(l(4569),l(6425)),_=l(3994),u=l(6481),h=l(3666),b=l(1886),x=l(2888),j=l(8489),f=l(2541),v=l(6886),p=l(8820),N=l(7425),w={max_qty_div:"cart-item-card_max_qty_div__2py2i",input:"cart-item-card_input__0E6Jy",container:"cart-item-card_container__I3xwe",header:"cart-item-card_header__cIref",name:"cart-item-card_name__VXW1Q",delete_icon:"cart-item-card_delete_icon__ewtjV",details:"cart-item-card_details__8rUMf",row:"cart-item-card_row__altFb",label:"cart-item-card_label__vOnNA",first:"cart-item-card_first__UzIDP",qty:"cart-item-card_qty__e3TLk",value:"cart-item-card_value__l3OD3",price:"cart-item-card_price__Dk4XD",customer_price:"cart-item-card_customer_price__uovGL",ellipsis:"cart-item-card_ellipsis__B87xF",last_row:"cart-item-card_last_row__yPlCw",sum_row:"cart-item-card_sum_row__PJ8ov",qty_row:"cart-item-card_qty_row__mRc8V",total_price:"cart-item-card_total_price__08c0r",actions:"cart-item-card_actions__+6rq9",inline_block:"cart-item-card_inline_block__f8cEb",loading:"cart-item-card_loading__3VlHu","loading-move":"cart-item-card_loading-move__WLBsh",ribbon_2:"cart-item-card_ribbon_2__Ou2Iq"},y=l(3585),Z=l(3329);var g=function(e){var a=e.cartItem,l=e.inOrderDetails,r=(0,n.$)().t,i=(0,c.I0)(),o=(0,s.useState)(!1),m=(0,d.Z)(o,2),_=m[0],u=m[1];return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:w.container,children:[(0,Z.jsxs)("div",{className:w.header,children:[(0,Z.jsx)("div",{className:[w.name,w.ellipsis].join(" "),onClick:function(){u(!_)},children:a.item.name}),(0,Z.jsx)("div",{className:w.delete_icon,onClick:function(){return i((0,t.Cn)(a))},children:(0,Z.jsx)(N.w6k,{color:y.wL.FAILED_COLOR})})]}),(0,Z.jsxs)("div",{className:w.details,children:[_&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("div",{className:[w.row].join(" "),children:(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("label",{className:[w.label,w.first].join(" "),children:[r("item-company"),":"]}),(0,Z.jsx)("label",{className:w.value,children:a.item.company.name})]})}),(0,Z.jsxs)("div",{className:w.row,children:[(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("label",{className:[w.label,w.first].join(" "),children:[r("item-formula"),":"]}),(0,Z.jsx)("label",{className:w.value,children:a.item.formula})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("label",{className:w.label,children:[r("item-caliber"),":"]}),(0,Z.jsx)("label",{className:w.value,children:a.item.caliber})]})]}),(0,Z.jsx)("div",{className:w.row,children:(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("label",{className:[w.label,w.first].join(" "),children:[r("item-packing"),":"]}),(0,Z.jsx)("label",{className:w.value,children:a.item.packing})]})})]}),(0,Z.jsxs)("div",{className:w.row,children:[(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("label",{className:[w.label,w.first].join(" "),children:[r("item-price"),":"]}),(0,Z.jsx)("label",{className:[w.value,w.price].join(" "),children:a.item.price})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("label",{className:w.label,children:[r("item-customer-price"),":"]}),(0,Z.jsx)("label",{className:[w.value,w.customer_price].join(" "),children:a.item.customer_price})]})]}),_&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{className:[w.row,w.first].join(" "),children:(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("label",{className:w.label,children:[r("item-max-qty"),":"]}),(0,Z.jsx)("label",{className:w.value,children:a.warehouse.maxQty?a.warehouse.maxQty:""})]})})}),(0,Z.jsxs)("div",{className:w.row,children:[(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("label",{className:[w.label,w.first].join(" "),children:[r("quantity-label"),":"]}),!a.bonus&&(0,Z.jsx)("label",{onClick:function(){a.qty>0&&i((0,t.WG)(a))},className:w.minus,children:(0,Z.jsx)(p.n6z,{color:y.wL.FAILED_COLOR,style:{position:"relative",top:"5px"}})}),(0,Z.jsx)("label",{className:w.qty,children:a.qty}),!a.bonus&&(0,Z.jsx)("label",{onClick:function(){(0!==a.warehouse.maxQty&&a.qty<a.warehouse.maxQty||0===a.warehouse.maxQty)&&i((0,t.zb)(a))},className:w.plus,children:(0,Z.jsx)(p.OzW,{color:y.wL.SUCCEEDED_COLOR,style:{position:"relative",top:"5px"}})})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("label",{className:[w.label].join(" "),children:[r("offer-label"),":"]}),(0,Z.jsxs)("label",{className:w.value,children:[a.bonus&&a.bonus,a.bonus?a.bonusType===y.Hg.PERCENTAGE?r("after-bonus-percentage-label"):r("after-quantity-label"):"-"]})]})]}),(0,Z.jsx)("div",{className:[w.sum_row].join(" "),children:(0,Z.jsx)("label",{className:w.total_price,children:a.qty*(l?a.price:a.item.price)-(a.bonus&&a.bonusType===y.Hg.PERCENTAGE?a.qty*(l?a.price:a.item.price)*a.bonus/100:0)})})]})]})})},C=l(3853),k=l(6856),q="cart-warehouse_header__XorCl",E="cart-warehouse_name__UjOCO",L="cart-warehouse_icon__D-CwQ",O="cart-warehouse_total_price__XfuYf",I="cart-warehouse_separator__rpYPA",R="cart-warehouse_on_large__Fd8PF",F="cart-warehouse_on_small__0GhyT",T=l(8785);var D=function(e){var a=e.warehouse,l=(0,n.$)().t,r=(0,c.I0)(),o=(0,c.v9)(m.VY),p=(0,c.v9)(i.tT),N=p.token,w=p.user,D=(0,c.v9)(t.D1),A=((0,c.v9)(u.vi).settings.saveOrders,(0,s.useState)(!1)),H=(0,d.Z)(A,2),M=H[0],P=H[1],Q=(0,s.useState)(!1),S=(0,d.Z)(Q,2),G=S[0],W=S[1],Y=(0,s.useState)(!1),U=(0,d.Z)(Y,2),V=U[0],$=U[1],z=(0,s.useState)(!1),B=(0,d.Z)(z,2),X=B[0],J=B[1],K=(0,s.useState)(!1),ee=(0,d.Z)(K,2),ae=ee[0],le=ee[1];return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:q,children:[(0,Z.jsxs)("div",{className:E,onClick:function(){return le(!ae)},children:[(0,Z.jsx)("label",{className:L,children:ae?(0,Z.jsx)(k.Yc6,{}):(0,Z.jsx)(k.Faw,{})}),(0,Z.jsx)("label",{children:a})]}),(0,Z.jsx)("label",{children:(0,Z.jsx)(v.Z,{text:l("send-order"),bgColor:y.wL.SUCCEEDED_COLOR,action:function(){return J(!0)},icon:function(){return(0,Z.jsx)(C.LbG,{})}})}),(0,Z.jsxs)("label",{className:O,children:[l("total-invoice-price")," ",function(){var e=0;return D.filter((function(e){return e.warehouse.warehouse.name===a})).forEach((function(a){e=e+a.qty*a.item.price-(a.bonus&&a.bonusType===y.Hg.PERCENTAGE?a.qty*a.item.price*a.bonus/100:0)})),e}()]})]}),ae&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("div",{className:R,children:(0,Z.jsx)(x.Z,{})}),D.filter((function(e){return e.warehouse.warehouse.name===a})).map((function(e,a){return(0,Z.jsxs)("div",{children:[(0,Z.jsx)("div",{className:R,children:(0,Z.jsx)(b.Z,{cartItem:e})}),(0,Z.jsx)("div",{className:F,children:(0,Z.jsx)(g,{cartItem:e})})]},a)})),(0,Z.jsx)("div",{className:I})]}),V&&(0,Z.jsx)(f.Z,{allowCancel:!1}),M&&(0,Z.jsx)(j.Z,{closeModal:function(){P(!1),r((0,t.C3)(a))},header:l("send-order"),cancelLabel:l("close-label"),small:!0,green:!0,children:l("send-order-succeeded")}),G&&(0,Z.jsx)(j.Z,{closeModal:function(){W(!1)},header:l("send-order"),cancelLabel:l("close-label"),small:!0,children:l("send-order-failed")}),X&&(0,Z.jsx)(j.Z,{closeModal:function(){J(!1)},header:l("send-order"),cancelLabel:l("cancel-label"),okLabel:l("send-order"),okModal:function(){if(o){$(!0);var e={pharmacy:w._id,warehouse:D.filter((function(e){return e.warehouse.warehouse.name===a}))[0].warehouse.warehouse._id,items:D.filter((function(e){return e.warehouse.warehouse.name===a})).map((function(e){return{item:e.item._id,qty:e.qty,bonus:e.bonus,bonusType:e.bonusType,price:e.item.price,customer_price:e.item.customer_price}}))};r((0,h.TR)({obj:e,token:N})).then(T.SI).then((function(){r((0,_.F$)({obj:{sourceUser:w._id,targetUser:null,action:"user-made-an-order"},token:N})),$(!1),P(!0)})).catch((function(e){$(!1),W(!0)})),r((0,h.n9)(!0))}else r((0,m.Rb)())},small:!0,children:l("confirm-save-order")})]})},A=l(3575),H=l(9942);var M=function(e){var a=e.onSelectedChange,l=(0,n.$)().t,d=(0,c.v9)(i.dy),m=(0,c.v9)(t.cj);return(0,s.useEffect)((function(){a()}),[]),d&&d.type===y.Wl.PHARMACY?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(o.Z,{children:(0,Z.jsx)("h2",{children:l("cart")})}),(0,Z.jsxs)("div",{className:H.Z.container_with_header,children:[m.length>0&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{children:m.map((function(e,a){return(0,Z.jsx)(D,{warehouse:e},a)}))})}),0===m.length&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(A.Z,{msg:l("empty-cart")})})]})]}):(0,Z.jsx)(r.l_,{to:"/signin"})}},3559:function(e,a){a.Z={label_small:"table_label_small__8-3Up",label_xsmall:"table_label_xsmall__F3kmN",label_medium:"table_label_medium__gVQ8c",label_large:"table_label_large__Yk8HG",center:"table_center__+B6kl",underline:"table_underline__PZHMx",hide_on_small:"table_hide_on_small__uIAcl",hide_on_medium:"table_hide_on_medium__HgYD8"}},3126:function(e,a,l){e.exports=l.p+"static/media/no-content.577bb836915173c305ce.jpeg"}}]);
//# sourceMappingURL=1349.3a1799e0.chunk.js.map