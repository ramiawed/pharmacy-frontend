"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[3990],{1886:function(e,a,l){l.d(a,{Z:function(){return h}});l(2791);var n=l(3168),r=l(8820),s=l(7425),t=l(7500),c=l(6030),i=l(3107),o={qty:"cart-row_qty__HdE0h",bonus_row:"cart-row_bonus_row__dM67o"},m=l(4131),u=l(3559),d=l(3585),b=l(3329);var h=function(e){var a=e.cartItem,l=e.inOrderDetails,h=(0,n.$)().t,_=(0,c.I0)();return(0,b.jsxs)("div",{className:[m.Z.container,a.bonus?o.bonus_row:""].join(" "),children:[(0,b.jsx)("label",{className:u.Z.label_medium,children:a.item.name}),(0,b.jsx)("label",{className:u.Z.label_small,children:a.item.company.name}),(0,b.jsx)("label",{className:u.Z.label_small,children:a.item.formula}),(0,b.jsxs)("label",{className:u.Z.label_small,children:[a.item.caliber," / ",a.item.packing]}),(0,b.jsxs)("label",{className:u.Z.label_small,children:[l?a.price:a.item.price," /"," ",l?a.customer_price:a.item.customer_price]}),!l&&(0,b.jsx)("label",{className:u.Z.label_small,children:a.warehouse.maxQty?a.warehouse.maxQty:""}),l?(0,b.jsx)("div",{className:[u.Z.label_small,o.qty].join(" "),children:a.qty}):(0,b.jsxs)("div",{className:[u.Z.label_small,o.qty].join(" "),children:[!a.bonus&&(0,b.jsx)(r.rYR,{onClick:function(){a.qty>0&&_((0,i.WG)(a))}}),a.qty,!a.bonus&&(0,b.jsx)(r.FtK,{onClick:function(){(0!==a.warehouse.maxQty&&a.qty<a.warehouse.maxQty||0===a.warehouse.maxQty)&&_((0,i.zb)(a))}})]}),(0,b.jsxs)("label",{className:u.Z.label_xsmall,children:[a.bonus&&a.bonus," ",a.bonus?a.bonusType===d.Hg.PERCENTAGE?h("after-bonus-percentage-label"):h("after-quantity-label"):"-"]}),(0,b.jsx)("label",{className:u.Z.label_small,children:a.qty*(l?a.price:a.item.price)-(a.bonus&&a.bonusType===d.Hg.PERCENTAGE?a.qty*(l?a.price:a.item.price)*a.bonus/100:0)}),!l&&(0,b.jsx)("label",{className:u.Z.label_xsmall,children:(0,b.jsx)(t.Z,{icon:function(){return(0,b.jsx)(s.w6k,{size:20})},foreColor:d.wL.FAILED_COLOR,tooltip:"delete-cart-row",onclick:function(){return _((0,i.Cn)(a))}})})]})}},2888:function(e,a,l){l(2791);var n=l(3168),r=l(3004),s=l(3559),t=l(3329);a.Z=function(e){var a=e.withoutMaxQty,l=(0,n.$)().t;return(0,t.jsxs)(r.Z,{children:[(0,t.jsx)("label",{className:s.Z.label_medium,children:l("item-trade-name")}),(0,t.jsx)("label",{className:s.Z.label_small,children:l("user-company-name")}),(0,t.jsx)("label",{className:s.Z.label_small,children:l("item-formula")}),(0,t.jsxs)("label",{className:s.Z.label_small,children:[l("item-caliber"),"/",l("item-packing")]}),(0,t.jsx)("label",{className:s.Z.label_small,children:l("price")}),!a&&(0,t.jsx)("label",{className:s.Z.label_small,children:l("item-max-qty")}),(0,t.jsx)("label",{className:s.Z.label_small,children:l("selected-qty")}),(0,t.jsx)("label",{className:s.Z.label_xsmall,children:l("offer-label")}),(0,t.jsx)("label",{className:s.Z.label_small,children:l("total-price")}),!a&&(0,t.jsx)("label",{className:s.Z.label_xsmall})]})}},1061:function(e,a,l){l.d(a,{Z:function(){return u}});l(2791);var n=l(3168),r=l(4373),s=l(9271),t=l(3585),c=l(7500),i="header_header__MhatS",o="header_back__wgjRV",m=l(3329);var u=function(e){var a=e.children,l=((0,n.$)().t,(0,s.k6)());return(0,m.jsxs)("div",{className:i,children:[a,(0,m.jsx)("div",{className:o,children:(0,m.jsx)(c.Z,{onclick:function(){l.goBack()},icon:function(){return(0,m.jsx)(r.D_,{})},foreColor:t.wL.WHITE_COLOR})})]})}},3575:function(e,a,l){l(2791);var n=l(9942),r=l(6372),s=l(3329);a.Z=function(e){return e.msg,(0,s.jsx)("div",{className:[n.Z.no_content_div,n.Z.fc_white].join(" "),children:(0,s.jsx)("img",{src:r,alt:"thumb",style:{width:"150px",height:"150px"}})})}},3004:function(e,a,l){l.d(a,{Z:function(){return s}});l(2791);var n="table-header_header__Vm2um",r=l(3329);var s=function(e){var a=e.children;return(0,r.jsx)("div",{className:n,children:a})}},3990:function(e,a,l){l.r(a),l.d(a,{default:function(){return T}});var n=l(2791),r=l(9271),s=l(3168),t=l(6030),c=l(3541),i=l(3107),o=l(1061),m=l(2982),u=l(885),d=l(4569),b=l.n(d),h=l(6425),_=l(3994),f=l(1886),x=l(1176),p=l(2888),j=l(8489),Z=l(2541),y="cart-warehouse_header__XorCl",w="cart-warehouse_total_price__XfuYf",v=l(3585),N=l(6481),g=l(3666),k=l(3329);var q=function(e){var a=e.warehouse,l=(0,s.$)().t,r=(0,t.I0)(),o=(0,t.v9)(h.VY),d=(0,t.v9)(c.tT),q=d.token,C=d.user,E=(0,t.v9)(i.D1),T=(0,t.v9)(N.vi).settings.saveOrders,L=(0,n.useState)(!1),R=(0,u.Z)(L,2),H=R[0],M=R[1],P=(0,n.useState)(!1),A=(0,u.Z)(P,2),I=A[0],O=A[1],D=(0,n.useState)(!1),F=(0,u.Z)(D,2),Q=F[0],S=F[1],Y=(0,n.useState)(!1),G=(0,u.Z)(Y,2),$=G[0],V=G[1],z=function(){var e=0;return E.filter((function(e){return e.warehouse.warehouse.name===a})).forEach((function(a){e=e+a.qty*a.item.price-(a.bonus&&a.bonusType===v.Hg.PERCENTAGE?a.qty*a.item.price*a.bonus/100:0)})),e};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("h4",{className:y,children:a}),(0,k.jsx)(p.Z,{}),E.filter((function(e){return e.warehouse.warehouse.name===a})).map((function(e,a){return(0,k.jsx)(f.Z,{cartItem:e},a)})),(0,k.jsxs)("p",{className:w,children:[l("total-invoice-price")," ",z()]}),(0,k.jsx)(x.Z,{text:l("send-order"),bgColor:v.wL.SUCCEEDED_COLOR,action:function(){return V(!0)}}),Q&&(0,k.jsx)(Z.Z,{allowCancel:!1}),H&&(0,k.jsx)(j.Z,{closeModal:function(){M(!1),r((0,i.C3)(a))},header:l("send-order"),cancelLabel:l("cancel-label"),small:!0,green:!0,children:l("send-order-succeeded")}),I&&(0,k.jsx)(j.Z,{closeModal:function(){O(!1)},header:l("send-order"),cancelLabel:l("cancel-label"),small:!0,children:l("send-order-failed")}),$&&(0,k.jsx)(j.Z,{closeModal:function(){V(!1)},header:l("send-order"),cancelLabel:l("cancel-label"),okLabel:l("send-order"),okModal:function(){if(o){S(!0);var e=E.filter((function(e){return e.warehouse.warehouse.name===a})).map((function(e){return{itemName:e.item.name,companyName:e.item.company.name,warehouseName:e.warehouse.warehouse.name,formula:e.item.formula,caliber:e.item.caliber,packing:e.item.packing,price:e.item.price,customerPrice:e.item.customer_price,quantity:e.qty,bonus:e.bonusType?"".concat(e.bonus," ").concat("pieces"===e.bonusType?"\u0642\u0637\u0639":"%"):"",totalPrice:e.qty*e.item.price-(e.bonus&&"percentage"===e.bonusType?e.qty*e.item.price*e.bonus/100:0)}}));e=[].concat((0,m.Z)(e),[{itemName:"",companyName:"",warehouseName:"",formula:"",caliber:"",packing:"",price:"",customerPrice:"",quantity:"",bonus:"",totalPrice:z()}]),b().post("".concat(v.Hc,"/users/sendemail"),{cartItems:e},{timeout:25e3,headers:{Authorization:"Bearer ".concat(q)}}).then((function(){if(r((0,_.lc)({token:q})),S(!1),M(!0),T){var e={pharmacy:C._id,warehouse:E.filter((function(e){return e.warehouse.warehouse.name===a}))[0].warehouse.warehouse._id,items:E.filter((function(e){return e.warehouse.warehouse.name===a})).map((function(e){return{item:e.item._id,qty:e.qty,bonus:e.bonus,bonusType:e.bonusType,price:e.item.price,customer_price:e.item.customer_price}}))};r((0,g.TR)({obj:e,token:q})),r((0,g.n9)(!0))}})).catch((function(e){S(!1),O(!0)}))}else r((0,h.Rb)())},small:!0,children:l("confirm-save-order")})]})},C=l(3575),E=l(9942);var T=function(e){var a=e.onSelectedChange,l=(0,s.$)().t,m=(0,t.v9)(c.dy),u=(0,t.v9)(i.cj);return(0,n.useEffect)((function(){a()}),[]),m&&m.type===v.Wl.PHARMACY?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(o.Z,{children:(0,k.jsx)("h2",{children:l("cart")})}),(0,k.jsxs)("div",{className:E.Z.container_with_header,children:[u.length>0&&(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{children:u.map((function(e,a){return(0,k.jsx)(q,{warehouse:e},a)}))})}),0===u.length&&(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(C.Z,{msg:l("empty-cart")})})]})]}):(0,k.jsx)(r.l_,{to:"/signin"})}},3559:function(e,a){a.Z={label_small:"table_label_small__8-3Up",label_xsmall:"table_label_xsmall__F3kmN",label_medium:"table_label_medium__gVQ8c",label_large:"table_label_large__Yk8HG",center:"table_center__+B6kl",underline:"table_underline__PZHMx",hide_on_small:"table_hide_on_small__uIAcl",hide_on_medium:"table_hide_on_medium__HgYD8"}},6372:function(e,a,l){e.exports=l.p+"static/media/no-content.5522bf60228916ffdb36.png"}}]);
//# sourceMappingURL=3990.cab3d144.chunk.js.map