"use strict";(self.webpackChunkpharmacy_frontend=self.webpackChunkpharmacy_frontend||[]).push([[830],{5648:function(n,i,e){e.d(i,{Z:function(){return j}});var o=e(885),t=e(2791),c=e(9271),a=e(3168),r=e(6030),s=e(1896),l=e(3541),d=e(8236),_=e(8489),f=e(7425),u=e(7692),h={row_container:"notification-row_row_container__H9osv",animateOpacity:"notification-row_animateOpacity__V2P55",row_unread:"notification-row_row_unread__fyLJ-",inner_container:"notification-row_inner_container__mY+Cj",img:"notification-row_img__3B3IG",image:"notification-row_image__ziJsf",actions:"notification-row_actions__xTxlf",delete:"notification-row_delete__Xs7yf",unread:"notification-row_unread__wOU2r",row:"notification-row_row__pwMuM",body:"notification-row_body__FQWd+",header:"notification-row_header__yfsGP"},x=e(3585),m=e(8785),w=e(3329);var j=function(n){var i=n.notification,e=n.index,j=n.setSuccessDeletingMsg,p=(0,a.$)().t,g=(0,c.k6)(),v=(0,r.I0)(),k=(0,r.v9)(l.tT),y=k.token,N=k.user,b=(0,t.useState)(!1),C=(0,o.Z)(b,2),O=C[0],L=C[1];return(0,w.jsxs)("div",{className:[h.row_container,i.users.includes(N._id)||N.type===x.Wl.ADMIN?"":h.row_unread].join(" "),style:{animationDuration:.3*e/10+"s"},children:[(0,w.jsx)("div",{className:h.img,children:""!==i.logo_url?(0,w.jsx)("img",{className:h.image,src:"".concat(x.LB,"/").concat(i.logo_url),alt:"thumb"}):(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(u.ntj,{size:64,color:x.wL.SECONDARY_COLOR})})}),(0,w.jsxs)("div",{className:h.inner_container,onClick:function(){N.type===x.Wl.ADMIN||i.users.includes(N._id)||(v((0,d.kE)({token:y,notificationId:i._id})),v((0,d.D2)())),g.push("/notification/".concat(i._id))},children:[(0,w.jsxs)("div",{className:h.row,children:[(0,w.jsx)("label",{children:p("header")}),(0,w.jsx)("p",{className:h.header,children:i.header})]}),(0,w.jsxs)("div",{className:h.row,children:[(0,w.jsx)("label",{children:p("body")}),(0,w.jsx)("p",{className:h.body,children:i.body})]})]}),N.type===x.Wl.ADMIN&&(0,w.jsx)("div",{className:h.delete,onClick:function(){L(!0)},children:(0,w.jsx)(f.w6k,{size:24})}),O&&(0,w.jsx)(_.Z,{header:"delete-notification",cancelLabel:"close-label",okLabel:"ok-label",closeModal:function(){L(!1)},small:!0,okModal:function(){L(!1),v((0,s.no)({id:i._id,token:y})).then(m.SI).then((function(){j("delete-notification-msg")}))},color:x.wL.FAILED_COLOR,children:(0,w.jsx)("p",{children:p("delete-notification-confirm-msg")})})]})}},5830:function(n,i,e){e.r(i);var o=e(2791),t=e(9271),c=e(1968),a=e.n(c),r=e(1176),s=e(3575),l=e(5648),d=e(7500),_=e(6030),f=e(3541),u=e(6425),h=e(3168),x=e(1061),m=e(8236),w=e(7425),j=e(9942),p=e(3585),g=e(3329);i.default=function(n){var i=n.onSelectedChange,e=(0,h.$)().t,c=((0,t.k6)(),(0,_.I0)()),v=(0,_.v9)(f.rK),k=(0,_.v9)(u.VY),y=(0,_.v9)(m.pV),N=y.status,b=(y.error,y.page),C=y.count,O=y.userNotifications,L=y.refresh,R=y.forceRefresh,Z=function(n){k?(1===n&&c((0,m.MK)()),c((0,m.YA)(n)),c((0,m.kW)({token:v}))):c((0,u.Rb)())};return(0,o.useEffect)((function(){window.scrollTo(0,0),i(),(L||R)&&Z(1)}),[L,R]),(0,g.jsxs)("div",{className:j.Z.container,children:[(0,g.jsxs)(x.Z,{children:[(0,g.jsx)("h2",{children:e("nav-notifications")}),(0,g.jsx)("div",{style:{position:"absolute",top:"16px",left:"42px"},children:(0,g.jsx)(d.Z,{selected:!1,foreColor:p.wL.SECONDARY_COLOR,tooltip:e("refresh-tooltip"),onclick:function(){c((0,m.n9)(!0)),c((0,m.MJ)({token:v}))},icon:function(){return(0,g.jsx)(w.PwW,{})}})})]}),(0,g.jsx)("div",{children:O.map((function(n,i){return(0,g.jsx)(l.Z,{notification:n,index:i},n._id)}))}),0===O.length&&"loading"!==N&&(0,g.jsx)(s.Z,{msg:e("no-notifications")}),"loading"===N&&(0,g.jsx)("div",{className:j.Z.flex_container,children:(0,g.jsx)(a(),{color:p.wL.SECONDARY_COLOR,type:"cylon"})}),O.length<C&&(0,g.jsx)(r.Z,{text:e("more"),action:function(){k?Z(b+1):c((0,u.Rb)())},bgColor:p.wL.SECONDARY_COLOR}),O.length===C&&"loading"!==N&&0!==C&&(0,g.jsx)("p",{className:[j.Z.center,j.Z.fc_secondary].join(" "),children:e("no-more")})]})}}}]);
//# sourceMappingURL=830.d392d20d.chunk.js.map